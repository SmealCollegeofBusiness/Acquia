(self.webpackChunkdc_ch=self.webpackChunkdc_ch||[]).push([[762],{61762:(E,b,d)=>{"use strict";d.r(b),d.d(b,{DcChContentFeatureModule:()=>ha});var p=d(10210),y=d(62446),g=d(96672),S=d(8386),I=d(1327),W=d(97524),e=d(70074),M=d(65306),_=d(83752),u=d(65248),f=d(3603),x=(d(520),d(46878)),D=(d(36226),d(45028)),V=d(32247),L=d(79162);let mt=(()=>{class a{constructor(){this.changes=new u.xQ,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(t,i){return`${t} \u2013 ${i}`}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Dt={provide:new e.OlP("mat-datepicker-scroll-strategy"),deps:[I.aV],useFactory:function vt(a){return()=>a.scrollStrategies.reposition()}};let Pe=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[mt,Dt],imports:[p.ez,M.ot,I.U8,S.rt,W.eL,g.BQ,_.ZD]}),a})();var R=d(74024),Z=d(44386),N=d(77456),Fe=d(5432),Oe=d(94408),wt=d(32879);function At(a){const{subscriber:n,counter:t,period:i}=a;n.next(t),this.schedule({subscriber:n,counter:t+1,period:i},i)}var Mt=d(90163),kt=d(34311),Et=d(74753);function ge(a,n,t){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];r?a.setProperty(i,r,null!=t&&t.has(i)?"important":""):a.removeProperty(i)}return a}function z(a,n){const t=n?"":"none";ge(a.style,{"touch-action":n?"":"none","-webkit-user-drag":n?"":"none","-webkit-tap-highlight-color":n?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function Re(a,n,t){ge(a.style,{position:n?"":"fixed",top:n?"":"0",opacity:n?"":"0",left:n?"":"-999em"},t)}function se(a,n){return n&&"none"!=n?a+" "+n:a}function Ve(a){const n=a.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(a)*n}function me(a,n){return a.getPropertyValue(n).split(",").map(i=>i.trim())}function fe(a){const n=a.getBoundingClientRect();return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height,x:n.x,y:n.y}}function ve(a,n,t){const{top:i,bottom:r,left:s,right:o}=a;return t>=i&&t<=r&&n>=s&&n<=o}function ee(a,n,t){a.top+=n,a.bottom=a.top+a.height,a.left+=t,a.right=a.left+a.width}function Le(a,n,t,i){const{top:r,right:s,bottom:o,left:l,width:c,height:h}=a,m=c*n,C=h*n;return i>r-C&&i<o+C&&t>l-m&&t<s+m}class Ze{constructor(n){this._document=n,this.positions=new Map}clear(){this.positions.clear()}cache(n){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),n.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:fe(t)})})}handleScroll(n){const t=(0,N.sA)(n),i=this.positions.get(t);if(!i)return null;const r=i.scrollPosition;let s,o;if(t===this._document){const h=this.getViewportScrollPosition();s=h.top,o=h.left}else s=t.scrollTop,o=t.scrollLeft;const l=r.top-s,c=r.left-o;return this.positions.forEach((h,m)=>{h.clientRect&&t!==m&&t.contains(m)&&ee(h.clientRect,l,c)}),r.top=s,r.left=o,{top:l,left:c}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function Ne(a){const n=a.cloneNode(!0),t=n.querySelectorAll("[id]"),i=a.nodeName.toLowerCase();n.removeAttribute("id");for(let r=0;r<t.length;r++)t[r].removeAttribute("id");return"canvas"===i?Be(a,n):("input"===i||"select"===i||"textarea"===i)&&Ue(a,n),Ye("canvas",a,n,Be),Ye("input, textarea, select",a,n,Ue),n}function Ye(a,n,t,i){const r=n.querySelectorAll(a);if(r.length){const s=t.querySelectorAll(a);for(let o=0;o<r.length;o++)i(r[o],s[o])}}let It=0;function Ue(a,n){"file"!==n.type&&(n.value=a.value),"radio"===n.type&&n.name&&(n.name=`mat-clone-${n.name}-${It++}`)}function Be(a,n){const t=n.getContext("2d");if(t)try{t.drawImage(a,0,0)}catch(i){}}const $e=(0,N.i$)({passive:!0}),oe=(0,N.i$)({passive:!1}),De=new Set(["position"]);class Ft{constructor(n,t,i,r,s,o){this._config=t,this._document=i,this._ngZone=r,this._viewportRuler=s,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new u.xQ,this._pointerMoveSubscription=f.w.EMPTY,this._pointerUpSubscription=f.w.EMPTY,this._scrollSubscription=f.w.EMPTY,this._resizeSubscription=f.w.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new u.xQ,this.started=new u.xQ,this.released=new u.xQ,this.ended=new u.xQ,this.entered=new u.xQ,this.exited=new u.xQ,this.dropped=new u.xQ,this.moved=this._moveEvents,this._pointerDown=l=>{if(this.beforeStarted.next(),this._handles.length){const c=this._getTargetHandle(l);c&&!this._disabledHandles.has(c)&&!this.disabled&&this._initializeDragSequence(c,l)}else this.disabled||this._initializeDragSequence(this._rootElement,l)},this._pointerMove=l=>{const c=this._getPointerPositionOnPage(l);if(!this._hasStartedDragging){if(Math.abs(c.x-this._pickupPositionOnPage.x)+Math.abs(c.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const $=Date.now()>=this._dragStartTime+this._getDragStartDelay(l),H=this._dropContainer;if(!$)return void this._endDragSequence(l);(!H||!H.isDragging()&&!H.isReceiving())&&(l.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(l)))}return}l.preventDefault();const h=this._getConstrainedPointerPosition(c);if(this._hasMoved=!0,this._lastKnownPointerPosition=c,this._updatePointerDirectionDelta(h),this._dropContainer)this._updateActiveDropContainer(h,c);else{const m=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,C=this._activeTransform;C.x=h.x-m.x+this._passiveTransform.x,C.y=h.y-m.y+this._passiveTransform.y,this._applyRootElementTransform(C.x,C.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:h,event:l,distance:this._getDragDistance(h),delta:this._pointerDirectionDelta})})},this._pointerUp=l=>{this._endDragSequence(l)},this._nativeDragStart=l=>{if(this._handles.length){const c=this._getTargetHandle(l);c&&!this._disabledHandles.has(c)&&!this.disabled&&l.preventDefault()}else this.disabled||l.preventDefault()},this.withRootElement(n).withParent(t.parentDragRef||null),this._parentPositions=new Ze(i),o.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(n){const t=(0,x.Ig)(n);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(i=>z(i,t)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(n){this._handles=n.map(i=>(0,x.fI)(i)),this._handles.forEach(i=>z(i,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&t.add(i)}),this._disabledHandles=t,this}withPreviewTemplate(n){return this._previewTemplate=n,this}withPlaceholderTemplate(n){return this._placeholderTemplate=n,this}withRootElement(n){const t=(0,x.fI)(n);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,oe),t.addEventListener("touchstart",this._pointerDown,$e),t.addEventListener("dragstart",this._nativeDragStart,oe)}),this._initialTransform=void 0,this._rootElement=t),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(n){return this._boundaryElement=n?(0,x.fI)(n):null,this._resizeSubscription.unsubscribe(),n&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(n){return this._parentDragRef=n,this}dispose(){var n,t;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(n=this._rootElement)||void 0===n||n.remove()),null===(t=this._anchor)||void 0===t||t.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(n){!this._disabledHandles.has(n)&&this._handles.indexOf(n)>-1&&(this._disabledHandles.add(n),z(n,!0))}enableHandle(n){this._disabledHandles.has(n)&&(this._disabledHandles.delete(n),z(n,this.disabled))}withDirection(n){return this._direction=n,this}_withDropContainer(n){this._dropContainer=n}getFreeDragPosition(){const n=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:n.x,y:n.y}}setFreeDragPosition(n){return this._activeTransform={x:0,y:0},this._passiveTransform.x=n.x,this._passiveTransform.y=n.y,this._dropContainer||this._applyRootElementTransform(n.x,n.y),this}withPreviewContainer(n){return this._previewContainer=n,this}_sortFromLastPointerPosition(){const n=this._lastKnownPointerPosition;n&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(n),n)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var n,t;null===(n=this._preview)||void 0===n||n.remove(),null===(t=this._previewRef)||void 0===t||t.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var n,t;null===(n=this._placeholder)||void 0===n||n.remove(),null===(t=this._placeholderRef)||void 0===t||t.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(n){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:n}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(n),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(n);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:n})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(n){te(n)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const i=this._rootElement,r=i.parentNode,s=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment(""),l=this._getShadowRoot();r.insertBefore(o,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),Re(i,!1,De),this._document.body.appendChild(r.replaceChild(s,i)),this._getPreviewInsertionPoint(r,l).appendChild(this._preview),this.started.next({source:this,event:n}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this,event:n}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(n,t){this._parentDragRef&&t.stopPropagation();const i=this.isDragging(),r=te(t),s=!r&&0!==t.button,o=this._rootElement,l=(0,N.sA)(t),c=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),h=r?(0,S.yG)(t):(0,S.X6)(t);if(l&&l.draggable&&"mousedown"===t.type&&t.preventDefault(),i||s||c||h)return;if(this._handles.length){const T=o.style;this._rootElementTapHighlight=T.webkitTapHighlightColor||"",T.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(T=>this._updateOnScroll(T)),this._boundaryElement&&(this._boundaryRect=fe(this._boundaryElement));const m=this._previewTemplate;this._pickupPositionInElement=m&&m.template&&!m.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,n,t);const C=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:C.x,y:C.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(n){Re(this._rootElement,!0,De),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,i=t.getItemIndex(this),r=this._getPointerPositionOnPage(n),s=this._getDragDistance(r),o=t._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:s,dropPoint:r,event:n}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:s,dropPoint:r,event:n}),t.drop(this,i,this._initialIndex,this._initialContainer,o,s,r),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:n,y:t},{x:i,y:r}){let s=this._initialContainer._getSiblingContainerFromPosition(this,n,t);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,t)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,n,t,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,n,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(n,t):this._applyPreviewTransform(n-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const n=this._previewTemplate,t=this.previewClass,i=n?n.template:null;let r;if(i&&n){const s=n.matchSize?this._initialClientRect:null,o=n.viewContainer.createEmbeddedView(i,n.context);o.detectChanges(),r=Qe(o,this._document),this._previewRef=o,n.matchSize?je(r,s):r.style.transform=le(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=Ne(this._rootElement),je(r,this._initialClientRect),this._initialTransform&&(r.style.transform=this._initialTransform);return ge(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},De),z(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(s=>r.classList.add(s)):r.classList.add(t)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const n=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(n.left,n.top);const t=function Tt(a){const n=getComputedStyle(a),t=me(n,"transition-property"),i=t.find(l=>"transform"===l||"all"===l);if(!i)return 0;const r=t.indexOf(i),s=me(n,"transition-duration"),o=me(n,"transition-delay");return Ve(s[r])+Ve(o[r])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const r=o=>{var l;(!o||(0,N.sA)(o)===this._preview&&"transform"===o.propertyName)&&(null===(l=this._preview)||void 0===l||l.removeEventListener("transitionend",r),i(),clearTimeout(s))},s=setTimeout(r,1.5*t);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const n=this._placeholderTemplate,t=n?n.template:null;let i;return t?(this._placeholderRef=n.viewContainer.createEmbeddedView(t,n.context),this._placeholderRef.detectChanges(),i=Qe(this._placeholderRef,this._document)):i=Ne(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(n,t,i){const r=t===this._rootElement?null:t,s=r?r.getBoundingClientRect():n,o=te(i)?i.targetTouches[0]:i,l=this._getViewportScrollPosition();return{x:s.left-n.left+(o.pageX-s.left-l.left),y:s.top-n.top+(o.pageY-s.top-l.top)}}_getPointerPositionOnPage(n){const t=this._getViewportScrollPosition(),i=te(n)?n.touches[0]||n.changedTouches[0]||{pageX:0,pageY:0}:n,r=i.pageX-t.left,s=i.pageY-t.top;if(this._ownerSVGElement){const o=this._ownerSVGElement.getScreenCTM();if(o){const l=this._ownerSVGElement.createSVGPoint();return l.x=r,l.y=s,l.matrixTransform(o.inverse())}}return{x:r,y:s}}_getConstrainedPointerPosition(n){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:r}=this.constrainPosition?this.constrainPosition(n,this,this._initialClientRect):n;if("x"===this.lockAxis||"x"===t?r=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:s,y:o}=this._pickupPositionInElement,l=this._boundaryRect,{width:c,height:h}=this._getPreviewRect(),m=l.top+o,C=l.bottom-(h-o);i=He(i,l.left+s,l.right-(c-s)),r=He(r,m,C)}return{x:i,y:r}}_updatePointerDirectionDelta(n){const{x:t,y:i}=n,r=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,o=Math.abs(t-s.x),l=Math.abs(i-s.y);return o>this._config.pointerDirectionChangeThreshold&&(r.x=t>s.x?1:-1,s.x=t),l>this._config.pointerDirectionChangeThreshold&&(r.y=i>s.y?1:-1,s.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const n=this._handles.length>0||!this.isDragging();n!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=n,z(this._rootElement,n))}_removeRootElementListeners(n){n.removeEventListener("mousedown",this._pointerDown,oe),n.removeEventListener("touchstart",this._pointerDown,$e),n.removeEventListener("dragstart",this._nativeDragStart,oe)}_applyRootElementTransform(n,t){const i=le(n,t),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=se(i,this._initialTransform)}_applyPreviewTransform(n,t){var i;const r=null!==(i=this._previewTemplate)&&void 0!==i&&i.template?void 0:this._initialTransform,s=le(n,t);this._preview.style.transform=se(s,r)}_getDragDistance(n){const t=this._pickupPositionOnPage;return t?{x:n.x-t.x,y:n.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:n,y:t}=this._passiveTransform;if(0===n&&0===t||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const s=r.left-i.left,o=i.right-r.right,l=r.top-i.top,c=i.bottom-r.bottom;r.width>i.width?(s>0&&(n+=s),o>0&&(n-=o)):n=0,r.height>i.height?(l>0&&(t+=l),c>0&&(t-=c)):t=0,(n!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:n})}_getDragStartDelay(n){const t=this.dragStartDelay;return"number"==typeof t?t:te(n)?t.touch:t?t.mouse:0}_updateOnScroll(n){const t=this._parentPositions.handleScroll(n);if(t){const i=(0,N.sA)(n);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&ee(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var n;return(null===(n=this._parentPositions.positions.get(this._document))||void 0===n?void 0:n.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,N.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(n,t){const i=this._previewContainer||"global";if("parent"===i)return n;if("global"===i){const r=this._document;return t||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return(0,x.fI)(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(n){return this._handles.find(t=>n.target&&(n.target===t||t.contains(n.target)))}}function le(a,n){return`translate3d(${Math.round(a)}px, ${Math.round(n)}px, 0)`}function He(a,n,t){return Math.max(n,Math.min(t,a))}function te(a){return"t"===a.type[0]}function Qe(a,n){const t=a.rootNodes;if(1===t.length&&t[0].nodeType===n.ELEMENT_NODE)return t[0];const i=n.createElement("div");return t.forEach(r=>i.appendChild(r)),i}function je(a,n){a.style.width=`${n.width}px`,a.style.height=`${n.height}px`,a.style.transform=le(n.left,n.top)}function ie(a,n){return Math.max(0,Math.min(n,a))}class Rt{constructor(n,t){this._element=n,this._dragDropRegistry=t,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(n){this.withItems(n)}sort(n,t,i,r){const s=this._itemPositions,o=this._getItemIndexFromPointerPosition(n,t,i,r);if(-1===o&&s.length>0)return null;const l="horizontal"===this.orientation,c=s.findIndex(O=>O.drag===n),h=s[o],C=h.clientRect,T=c>o?1:-1,$=this._getItemOffsetPx(s[c].clientRect,C,T),H=this._getSiblingOffsetPx(c,s,T),rt=s.slice();return function Ot(a,n,t){const i=ie(n,a.length-1),r=ie(t,a.length-1);if(i===r)return;const s=a[i],o=r<i?-1:1;for(let l=i;l!==r;l+=o)a[l]=a[l+o];a[r]=s}(s,c,o),s.forEach((O,pa)=>{if(rt[pa]===O)return;const st=O.drag===n,ke=st?$:H,ot=st?n.getPlaceholderElement():O.drag.getRootElement();O.offset+=ke,l?(ot.style.transform=se(`translate3d(${Math.round(O.offset)}px, 0, 0)`,O.initialTransform),ee(O.clientRect,0,ke)):(ot.style.transform=se(`translate3d(0, ${Math.round(O.offset)}px, 0)`,O.initialTransform),ee(O.clientRect,ke,0))}),this._previousSwap.overlaps=ve(C,t,i),this._previousSwap.drag=h.drag,this._previousSwap.delta=l?r.x:r.y,{previousIndex:c,currentIndex:o}}enter(n,t,i,r){const s=null==r||r<0?this._getItemIndexFromPointerPosition(n,t,i):r,o=this._activeDraggables,l=o.indexOf(n),c=n.getPlaceholderElement();let h=o[s];if(h===n&&(h=o[s+1]),!h&&(null==s||-1===s||s<o.length-1)&&this._shouldEnterAsFirstChild(t,i)&&(h=o[0]),l>-1&&o.splice(l,1),h&&!this._dragDropRegistry.isDragging(h)){const m=h.getRootElement();m.parentElement.insertBefore(c,m),o.splice(s,0,n)}else(0,x.fI)(this._element).appendChild(c),o.push(n);c.style.transform="",this._cacheItemPositions()}withItems(n){this._activeDraggables=n.slice(),this._cacheItemPositions()}withSortPredicate(n){this._sortPredicate=n}reset(){this._activeDraggables.forEach(n=>{var t;const i=n.getRootElement();if(i){const r=null===(t=this._itemPositions.find(s=>s.drag===n))||void 0===t?void 0:t.initialTransform;i.style.transform=r||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(n){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===n)}updateOnScroll(n,t){this._itemPositions.forEach(({clientRect:i})=>{ee(i,n,t)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}_cacheItemPositions(){const n="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(t=>{const i=t.getVisibleElement();return{drag:t,offset:0,initialTransform:i.style.transform||"",clientRect:fe(i)}}).sort((t,i)=>n?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top)}_getItemOffsetPx(n,t,i){const r="horizontal"===this.orientation;let s=r?t.left-n.left:t.top-n.top;return-1===i&&(s+=r?t.width-n.width:t.height-n.height),s}_getSiblingOffsetPx(n,t,i){const r="horizontal"===this.orientation,s=t[n].clientRect,o=t[n+-1*i];let l=s[r?"width":"height"]*i;if(o){const c=r?"left":"top",h=r?"right":"bottom";-1===i?l-=o.clientRect[c]-s[h]:l+=s[c]-o.clientRect[h]}return l}_shouldEnterAsFirstChild(n,t){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,r="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const o=i[i.length-1].clientRect;return r?n>=o.right:t>=o.bottom}{const o=i[0].clientRect;return r?n<=o.left:t<=o.top}}_getItemIndexFromPointerPosition(n,t,i,r){const s="horizontal"===this.orientation,o=this._itemPositions.findIndex(({drag:l,clientRect:c})=>{if(l===n)return!1;if(r){const h=s?r.x:r.y;if(l===this._previousSwap.drag&&this._previousSwap.overlaps&&h===this._previousSwap.delta)return!1}return s?t>=Math.floor(c.left)&&t<Math.floor(c.right):i>=Math.floor(c.top)&&i<Math.floor(c.bottom)});return-1!==o&&this._sortPredicate(o,n)?o:-1}}class Vt{constructor(n,t,i,r,s){this._dragDropRegistry=t,this._ngZone=r,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new u.xQ,this.entered=new u.xQ,this.exited=new u.xQ,this.dropped=new u.xQ,this.sorted=new u.xQ,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=f.w.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new u.xQ,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function St(a=0,n=Oe.P){return(!(0,wt.k)(a)||a<0)&&(a=0),(!n||"function"!=typeof n.schedule)&&(n=Oe.P),new Fe.y(t=>(t.add(n.schedule(At,a,{subscriber:t,counter:0,period:a})),t))}(0,Mt.Z).pipe((0,Et.R)(this._stopScrollTimers)).subscribe(()=>{const o=this._scrollNode,l=this.autoScrollStep;1===this._verticalScrollDirection?o.scrollBy(0,-l):2===this._verticalScrollDirection&&o.scrollBy(0,l),1===this._horizontalScrollDirection?o.scrollBy(-l,0):2===this._horizontalScrollDirection&&o.scrollBy(l,0)})},this.element=(0,x.fI)(n),this._document=i,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new Ze(i),this._sortStrategy=new Rt(this.element,t),this._sortStrategy.withSortPredicate((o,l)=>this.sortPredicate(o,l,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(n,t,i,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(n)),this._sortStrategy.enter(n,t,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:n,container:this,currentIndex:this.getItemIndex(n)})}exit(n){this._reset(),this.exited.next({item:n,container:this})}drop(n,t,i,r,s,o,l,c={}){this._reset(),this.dropped.next({item:n,currentIndex:t,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:s,distance:o,dropPoint:l,event:c})}withItems(n){const t=this._draggables;return this._draggables=n,n.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(t.filter(r=>r.isDragging()).every(r=>-1===n.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(n){return this._sortStrategy.direction=n,this}connectedTo(n){return this._siblings=n.slice(),this}withOrientation(n){return this._sortStrategy.orientation=n,this}withScrollableParents(n){const t=(0,x.fI)(this.element);return this._scrollableElements=-1===n.indexOf(t)?[t,...n]:n.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(n){return this._isDragging?this._sortStrategy.getItemIndex(n):this._draggables.indexOf(n)}isReceiving(){return this._activeSiblings.size>0}_sortItem(n,t,i,r){if(this.sortingDisabled||!this._clientRect||!Le(this._clientRect,.05,t,i))return;const s=this._sortStrategy.sort(n,t,i,r);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:n})}_startScrollingIfNecessary(n,t){if(this.autoScrollDisabled)return;let i,r=0,s=0;if(this._parentPositions.positions.forEach((o,l)=>{l===this._document||!o.clientRect||i||Le(o.clientRect,.05,n,t)&&([r,s]=function Lt(a,n,t,i){const r=Ge(n,i),s=ze(n,t);let o=0,l=0;if(r){const c=a.scrollTop;1===r?c>0&&(o=1):a.scrollHeight-c>a.clientHeight&&(o=2)}if(s){const c=a.scrollLeft;1===s?c>0&&(l=1):a.scrollWidth-c>a.clientWidth&&(l=2)}return[o,l]}(l,o.clientRect,n,t),(r||s)&&(i=l))}),!r&&!s){const{width:o,height:l}=this._viewportRuler.getViewportSize(),c={width:o,height:l,top:0,right:o,bottom:l,left:0};r=Ge(c,t),s=ze(c,n),i=window}i&&(r!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=s,this._scrollNode=i,(r||s)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const n=(0,x.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=n.msScrollSnapType||n.scrollSnapType||"",n.scrollSnapType=n.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const n=(0,x.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(n).clientRect}_reset(){this._isDragging=!1;const n=(0,x.fI)(this.element).style;n.scrollSnapType=n.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(n,t){return null!=this._clientRect&&ve(this._clientRect,n,t)}_getSiblingContainerFromPosition(n,t,i){return this._siblings.find(r=>r._canReceive(n,t,i))}_canReceive(n,t,i){if(!this._clientRect||!ve(this._clientRect,t,i)||!this.enterPredicate(n,this))return!1;const r=this._getShadowRoot().elementFromPoint(t,i);if(!r)return!1;const s=(0,x.fI)(this.element);return r===s||s.contains(r)}_startReceiving(n,t){const i=this._activeSiblings;!i.has(n)&&t.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(n),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(n){this._activeSiblings.delete(n),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(n=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(n);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const n=(0,N.kV)((0,x.fI)(this.element));this._cachedShadowRoot=n||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const n=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,n))}}function Ge(a,n){const{top:t,bottom:i,height:r}=a,s=.05*r;return n>=t-s&&n<=t+s?1:n>=i-s&&n<=i+s?2:0}function ze(a,n){const{left:t,right:i,width:r}=a,s=.05*r;return n>=t-s&&n<=t+s?1:n>=i-s&&n<=i+s?2:0}const de=(0,N.i$)({passive:!1,capture:!0});let Zt=(()=>{class a{constructor(t,i){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new u.xQ,this.pointerUp=new u.xQ,this.scroll=new u.xQ,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=i}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,de)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,de)}startDragging(t,i){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const r=i.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:de}),r||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:de}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,o)=>{this._document.addEventListener(o,s.handler,s.options)})})}}stopDragging(t){const i=this._activeDragInstances.indexOf(t);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const i=[this.scroll];return t&&t!==this._document&&i.push(new Fe.y(r=>this._ngZone.runOutsideAngular(()=>{const o=l=>{this._activeDragInstances.length&&r.next(l)};return t.addEventListener("scroll",o,!0),()=>{t.removeEventListener("scroll",o,!0)}}))),(0,kt.T)(...i)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,i)=>{this._document.removeEventListener(i,t.handler,t.options)}),this._globalListeners.clear()}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(e.R0b),e.LFG(p.K0))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Nt={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Yt=(()=>{class a{constructor(t,i,r,s){this._document=t,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=s}createDrag(t,i=Nt){return new Ft(t,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new Vt(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(p.K0),e.LFG(e.R0b),e.LFG(_.rL),e.LFG(Zt))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Ut=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[Yt],imports:[_.ZD]}),a})();var Ke=d(30546),A=d(18592),Bt=d(37166);let $t=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[p.ez]}),a})();const ce={metadata:{search_criterion:{search_term:null,entity_types:[],bundles:[],source:[],fromDate:null,toDate:null,tags:[],advancedFilters:[]}}};var he=d(61001);function Ht(a){if((0,he.isArray)(a)&&(0,he.isEmpty)(a))return"";const n=[];return a.forEach(t=>{var i;n.push(null===(i=t.value)||void 0===i?void 0:i.value)}),n.join(",")}function We(a){if(!a)return[];const n=[];return a.split(",").forEach(t=>{n.push({type:"tags",operator:"equals",logicalOperator:"OR",value:{name:t,value:t}})}),n}var Y=d(29725);let Qt=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[p.ez,Y.pV]}),a})(),jt=(()=>{class a{constructor(t){this.entityService=t,this.status$=this.entityService.status$}get(t){return this.entityService.getByKey(t)}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(Y.c4))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var w=d(92129);let Ce=(()=>{class a{constructor(t){this.contentStateService=t}getAllContent(){return this.contentStateService.getAllContent$()}getLoadedContent(){return this.contentStateService.getPages$()}getPagination(){return this.contentStateService.getPagination$()}getLoadingStatus(){return this.contentStateService.getState$()}getSearchParam$(){return this.contentStateService.getSearchParam$()}getQuery$(){return this.contentStateService.getQuery$()}getOptions(t){return this.contentStateService.getOptions$().pipe((0,w.U)(i=>{var r;return i?null===(r=i[t])||void 0===r?void 0:r.buckets:[]}),(0,w.U)(i=>null==i?void 0:i.map(r=>({name:r.key}))))}loadPages(t,i,r=ce,s={},o={}){this.contentStateService.load({start:t,limit:i,search:r,sort:s},o)}clear(){this.contentStateService.clear()}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(Y.IV))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Xe=(()=>{class a{constructor(){this.allowedTypesForEdit=["node","user","media","block_content"]}shouldShowEntityUrl(t){return this.allowedTypesForEdit.includes(null==t?void 0:t.entity_type)}getEditUrl(t){return`${null==t?void 0:t.base_url}acquia-contenthub/entity-edit/${null==t?void 0:t.entity_type}/${null==t?void 0:t.uuid}`}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var Q=d(90592),et=d(17254),U=d(75770),pe=d(77252),B=d(50277),Jt=d(62574),be=d.n(Jt);let ye=(()=>{class a{constructor(t,i,r){this.filterService=t,this.webhooksFilterService=i,this.clientService=r,this.currentFilter$=new et.X(ce),this.status$=this.filterService.status$}getAll(){return this.filterService.getAll()}getFilters(t){return this.settings$||(this.settings$=t),(0,U.aj)([this.filterService.entities$,this.settings$]).pipe((0,w.U)(([i,r])=>this.buildFilters([i,null==r?void 0:r.clients])))}getFiltersInDIFormat(t){return this.getFilters(t).pipe((0,w.U)(i=>i.map(r=>{var s;let o=[];return"string"==typeof r.metadata.search_criterion.tags&&(o=We(r.metadata.search_criterion.tags)),r.metadata.search_criterion.tags=null!==(s=r.metadata.search_criterion.advancedFilters)&&void 0!==s?s:o,r})))}buildFilters([t,i]){return(t=t.filter(r=>r.real_time_filter)).map(r=>{var s,o,l;const c=be()(r);return c.metadata&&(c.metadata.search_criterion.entity_types=null===(s=r.metadata)||void 0===s?void 0:s.search_criterion.entity_types.map(h=>"string"==typeof h?{name:h}:h),c.metadata.search_criterion.bundles=null===(o=r.metadata)||void 0===o?void 0:o.search_criterion.bundles.map(h=>"string"==typeof h?{name:h}:h),c.metadata.search_criterion.source=this.buildSource(null===(l=r.metadata)||void 0===l?void 0:l.search_criterion.source,i,c.data.query)),c})}buildSource(t,i,r){return t.includes("[object Object]")?(t=[],r.bool.filter.forEach(s=>{var o;s.bool&&0!==(null===(o=s.bool.should)||void 0===o?void 0:o.length)&&s.bool.should.forEach(l=>{l.match&&l.match["data.origin"]&&t.push(l.match["data.origin"])})})):t=t.split(",").filter(s=>""!==s),t.map(s=>({uuid:s})).map(s=>s.uuid&&!s.name?i.find(o=>o.uuid===s.uuid):s)}add(t){return this.filterService.add(t).pipe((0,pe.b)(i=>this.setCurrentFilter(i.uuid)))}getWebhooks(t){return this.webhooksFilterService.getWithQuery({filter_id:t})}assignSites(t,i){return this.clientService.assignSites(t,i)}getCurrentFilter$(){return this.currentFilter$}setCurrentFilter(t){this.filterService.getAll().pipe((0,B.q)(1)).subscribe(()=>{this.getFilters().pipe((0,B.q)(1)).subscribe(i=>{this.currentFilter$.next(i.find(r=>r.uuid===t))})})}deleteFilter(t){return this.filterService.delete("/"+t).pipe((0,pe.b)(()=>{this.currentFilter$=new et.X(ce)}))}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(Y.iZ),e.LFG(Y.UM),e.LFG(Q.yt))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var qt=d(30684),j=d.n(qt);let xe=(()=>{class a{constructor(t,i){this.entityService=t,this.importStateService=i,this.status$=this.entityService.status$}getAllSubscribers(){return this.entityService.getWithQuery({type:"client"}).pipe((0,w.U)(t=>t.filter(i=>!!j()(i,"metadata.metrics.subscriber",!1))))}getSubscriberByUuid(t){return this.entityService.getWithQuery({type:"client",origin:t}).pipe((0,w.U)(i=>i.filter(r=>!!j()(r,"metadata.metrics.subscriber",!1))))}import(t,i,r){this.importStateService.import(t,i,r)}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(Y.c4),e.LFG(Y.Ek))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Gt=(()=>{class a{constructor(t){this.syndicationService=t,this.status$=this.syndicationService.status$}get(t){return this.syndicationService.getWithQuery({uuids:t}).pipe((0,w.U)(i=>i[0]))}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(Y.ie))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),zt=(()=>{class a{constructor(t){this.entityFinder=t}getTags(t){return this.entityFinder.getEntities({type:"drupal8_content_entity",language:"und","filter:entity_type":"taxonomy_term",limit:"100","filter:label":`*${t}*`}).pipe((0,w.U)(this.normalizeResponse))}normalizeResponse(t){return t?t.map(i=>{var r,s,o;return{uuid:i.uuid,labels:null!==(o=null===(s=null===(r=null==i?void 0:i.attributes)||void 0===r?void 0:r.label)||void 0===s?void 0:s.value)&&void 0!==o?o:[]}}):[]}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(Y.Nd))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var we=d(54057),Kt=d(70579),Se=d(97722),Wt=d(86670),Xt=d(90801),ei=d.n(Xt),ti=d(72443),ue=d.n(ti),ii=d(94667),ni=d.n(ii),K=d(74388),ai=d(58006),Ae=d(20720),k=d(79879),Me=d(69516),F=d(10963);const ri=function(a){return{filter:a}};let tt=(()=>{class a{constructor(t,i,r,s,o,l){this.filterService=t,this.data=i,this.actions$=r,this.dialogRef=s,this.notification=o,this.translate=l,this.pending=!1,this.subscription=new f.w}ngOnInit(){this.filter=this.data.filter,this.subscription.add(this.bindFilterSuccess()),this.subscription.add(this.bindFilterError())}ngOnDestroy(){this.subscription.unsubscribe()}close(){this.dialogRef.close()}delete(){this.pending=!0,this.subscription.add(this.filterService.deleteFilter(this.filter.uuid).subscribe())}bindFilterSuccess(){return this.actions$.pipe((0,k.Qo)("Filter"),(0,k.TR)(k.WD.SAVE_DELETE_ONE_SUCCESS)).pipe((0,w.U)(()=>{this.filterDeletionSuccess()})).subscribe()}bindFilterError(){return this.actions$.pipe((0,k.Qo)("Filter"),(0,k.TR)(k.WD.SAVE_DELETE_ONE_ERROR)).subscribe(t=>{this.filterCreationFailure(j()(t,"payload.data.error.error.error.error.message"))})}filterDeletionSuccess(){this.pending=!1,this.notification.show({message:this.translate.instant("[FilterDeleted]"),color:"success",position:"top-center"}),this.close()}filterCreationFailure(t){this.pending=!1,this.notification.show({message:t,color:"danger",position:"top-center"})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(ye),e.Y36(R.WI),e.Y36(Me.eX),e.Y36(R.so),e.Y36(F.K0),e.Y36(A.sK))},a.\u0275cmp=e.Xpm({type:a,selectors:[["dxp-dc-ch-content-delete-filter"]],decls:15,vars:3,consts:[[1,"modal-content","dc-ch-centered-modal"],[1,"modal-card","card"],[1,"d-flex","justify-content-between","mx-5","my-3"],[1,"dc-ch-card-header-title"],["translate","",1,"card-header-title","font-weight-normal"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],["translate","",1,"modal-body",3,"translateParams"],[1,"card-footer","px-3"],[1,"d-flex","justify-content-end"],["type","button","translate","",1,"btn","btn-link","me-3",3,"click"],["type","button","translate","",1,"btn","btn-primary",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),e._uU(5," [DeleteFilterTitle] "),e.qZA()(),e.TgZ(6,"button",5),e.NdJ("click",function(){return i.close()}),e.qZA()(),e.TgZ(7,"div",6),e._uU(8," [ConfirmDelete] "),e.qZA(),e.TgZ(9,"div",7)(10,"div",8)(11,"button",9),e.NdJ("click",function(){return i.close()}),e._uU(12," [Cancel] "),e.qZA(),e.TgZ(13,"button",10),e.NdJ("click",function(){return i.delete()}),e._uU(14," [Delete] "),e.qZA()()()()()),2&t&&(e.xp6(7),e.Q6J("translateParams",e.VKq(1,ri,i.filter.name)))},dependencies:[A.Pi],styles:["[_nghost-%COMP%]{display:block;background-color:#fff}.dc-ch-right-side-modal[_ngcontent-%COMP%]{min-height:150px}.modal-card[_ngcontent-%COMP%]{min-height:inherit}.card[_ngcontent-%COMP%]{border:0}.card[_ngcontent-%COMP%] > .mx-5[_ngcontent-%COMP%]{margin-right:1rem!important}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{border-bottom:0;margin:0 .8rem 0 2.25rem}.card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{border-top:0}.modal-content[_ngcontent-%COMP%]{border:0}.dc-ch-centered-modal[_ngcontent-%COMP%]   .modal-card[_ngcontent-%COMP%], .dc-ch-right-side-modal[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .right-side-modal-search-box[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:0}.ng-star-inserted[_ngcontent-%COMP%]{border-radius:6px}"],changeDetection:0}),a})();var si=d(29024);function oi(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"tr",19)(1,"td",20),e._uU(2),e.qZA(),e.TgZ(3,"td",20),e._uU(4),e.qZA(),e.TgZ(5,"td",21)(6,"a",22),e._UZ(7,"span",23),e.qZA(),e.TgZ(8,"mat-menu",24,25)(10,"div",26)(11,"button",27),e.NdJ("click",function(){const s=e.CHM(t).$implicit,o=e.oxw(2);return e.KtG(o.openViewFilter(s))}),e.TgZ(12,"span",28),e._uU(13,"[ViewFilter]"),e.qZA()(),e.TgZ(14,"button",27),e.NdJ("click",function(){const s=e.CHM(t).$implicit,o=e.oxw(2);return e.KtG(o.openEditFilterModal(s))}),e.TgZ(15,"span",28),e._uU(16,"[EditSiteAssignment]"),e.qZA()(),e.TgZ(17,"button",27),e.NdJ("click",function(){const s=e.CHM(t).$implicit,o=e.oxw(2);return e.KtG(o.openDeleteFilterModal(s))}),e.TgZ(18,"span",28),e._uU(19,"[DeleteFilter]"),e.qZA()()()()()()}if(2&a){const t=n.$implicit,i=e.MAs(9);e.xp6(1),e.Q6J("title",t.name),e.xp6(1),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("title",t.uuid),e.xp6(1),e.hij(" ",t.uuid," "),e.xp6(2),e.Q6J("matMenuTriggerFor",i)}}function li(a,n){if(1&a&&(e.TgZ(0,"div")(1,"div")(2,"table",12)(3,"thead",13)(4,"tr")(5,"th",14)(6,"a",15),e._uU(7," [NAME] "),e.qZA()(),e.TgZ(8,"th",14)(9,"a",16),e._uU(10," [FilterUUID] "),e.qZA()(),e.TgZ(11,"th",17)(12,"a",15),e._uU(13," [ACTIONS] "),e.qZA()()()(),e.TgZ(14,"tbody"),e.YNc(15,oi,20,5,"tr",18),e.qZA()()()()),2&a){const t=n.ngIf;e.xp6(15),e.Q6J("ngForOf",t)}}function di(a,n){1&a&&(e.TgZ(0,"span",28),e._uU(1,"[LoadingData]"),e.qZA())}let ci=(()=>{class a{constructor(t,i){this.dialogRef=t,this.data=i}ngOnInit(){this.filters$=this.data.filters}close(){this.dialogRef.close()}openViewFilter(t){this.dialogRef.close({filter:t,action:"view"})}openEditFilterModal(t){this.dialogRef.close({filter:t,action:"edit"})}openDeleteFilterModal(t){this.dialogRef.close({filter:t,action:"delete"})}onSearchUpdate(t){this.filters$=this.data.filters.pipe((0,w.U)(i=>i.filter(r=>Object.keys(r).some(s=>!t||`${r[s]}`.indexOf(t)>=0))))}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(R.so),e.Y36(R.WI))},a.\u0275cmp=e.Xpm({type:a,selectors:[["dxp-dc-ch-content-manage-filters"]],decls:16,vars:7,consts:[[1,"modal-content","dc-ch-right-side-modal"],[1,"modal-card","card"],[1,"d-flex","justify-content-between","mx-4","my-3"],[1,"dc-ch-card-header-title"],["translate","",1,"card-header-title","font-weight-normal"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"search-filter"],[1,"h-100","d-flex","align-items-end","d-flex","align-items-center","justify-content-between"],[3,"value","valueChange"],[1,"card-body","manage-filters-body"],[4,"ngIf","ngIfElse"],["loading",""],[1,"table","table-sm","table-layout-fixed"],[1,"table-header","border-bottom"],["scope","col"],["translate","",1,"text-muted"],["translate","",1,"text-muted","text-wrap"],["scope","col",1,"text-end","last-column"],["class","border-bottom",4,"ngFor","ngForOf"],[1,"border-bottom"],[1,"tables-source","w-15","text-nowrap","truncate",3,"title"],[1,"text-center","w-7","truncate","text-end","last-column"],[1,"dropdown-ellipses",3,"matMenuTriggerFor"],[1,"fe","fe-more-vertical","font-size-lg"],[1,"content-view-menu"],["menu","matMenu"],["role","group",1,"btn-group-vertical"],["type","button",1,"btn","btn-white","font-weight-normal",3,"click"],["translate",""]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),e._uU(5," [ManageFilters] "),e.qZA()(),e.TgZ(6,"button",5),e.NdJ("click",function(){return i.close()}),e.qZA()(),e.TgZ(7,"dxp-page-actions",6)(8,"div",7)(9,"dxp-dc-ch-ui-instant-search",8),e.NdJ("valueChange",function(s){return i.onSearchUpdate(s)}),e.ALo(10,"async"),e.qZA()()(),e.TgZ(11,"div",9),e.YNc(12,li,16,1,"div",10),e.ALo(13,"async"),e.YNc(14,di,2,0,"ng-template",null,11,e.W1O),e.qZA()()()),2&t){const r=e.MAs(15);e.xp6(9),e.Q6J("value",e.lcZ(10,3,i.search$)),e.xp6(3),e.Q6J("ngIf",e.lcZ(13,5,i.filters$))("ngIfElse",r)}},dependencies:[p.sg,p.O5,Z.VK,Z.p6,A.Pi,si.i,F.yP,p.Ov],styles:["[_nghost-%COMP%]{display:block;height:100%}[_nghost-%COMP%]   .table.table-sm[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{overflow:hidden}  .mat-menu-content .btn{font-weight:400}.last-column[_ngcontent-%COMP%]{width:80px}.card-header[_ngcontent-%COMP%]{border-bottom:none}.right-side-modal-btn[_ngcontent-%COMP%]{min-width:110px}.modal-content[_ngcontent-%COMP%]   .search-filter[_ngcontent-%COMP%]{padding-left:1.5rem;padding-right:1.5rem}.manage-filters-body[_ngcontent-%COMP%]{overflow:hidden;overflow-y:scroll;width:100%}"],changeDetection:0}),a})();class it{constructor(n,t,i){this.webhookStatus=n,this.siteImportService=t,this.config=i,this.selected=[],this.subscription=new f.w}init(){if(this.status$=(0,U.aj)([this.siteImportService.status$,this.webhookStatus.status$]).pipe((0,w.U)(([n,t])=>({sites:n,webhooks:t}))),this.webhookStatuses$=this.webhookStatus.get(),this.config.getInstant("publisher"))this.entities$=this.siteImportService.getAllSubscribers();else{this.entities$=this.siteImportService.getSubscriberByUuid(this.config.getInstant("plexusClientId"));const n=(0,U.aj)([this.entities$,this.webhookStatuses$]).subscribe(([t,i])=>{this.selected=this.getAllOptions(t,i)});this.subscription.add(n)}}getAllOptions(n,t){return t?n.filter(r=>{const s=t.find(o=>{var l,c,h;return o.uuid===(null===(h=null===(c=null===(l=r.metadata)||void 0===l?void 0:l.settings)||void 0===c?void 0:c.webhook)||void 0===h?void 0:h.uuid)});return!!s&&"healthy"===s.current_state}).map(r=>{var s,o,l,c,h,m;return{name:null===(l=null===(o=null===(s=r.metadata)||void 0===s?void 0:s.settings)||void 0===o?void 0:o.webhook)||void 0===l?void 0:l.url,value:null===(m=null===(h=null===(c=r.metadata)||void 0===c?void 0:c.settings)||void 0===h?void 0:h.webhook)||void 0===m?void 0:m.uuid}}):[]}}var nt=d(94921);function hi(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"div")(1,"span",16),e._uU(2,"[ImportToSites]"),e.TgZ(3,"sup"),e._uU(4,"*"),e.qZA()(),e.TgZ(5,"dxp-dc-ch-ui-multi-select",17),e.NdJ("selectedChange",function(r){e.CHM(t);const s=e.oxw(3);return e.KtG(s.selected=r)}),e.ALo(6,"translate"),e.qZA()()}if(2&a){const t=e.oxw(2).ngIf,i=e.oxw();e.xp6(5),e.Q6J("selected",i.selected)("allOptions",i.getAllOptions(t.entities,t.webhookStatuses))("placeholder",e.lcZ(6,3,"[SearchSiteNames]"))}}function pi(a,n){1&a&&(e.TgZ(0,"span",18),e._uU(1,"[LoadingData]"),e.qZA())}function ui(a,n){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,hi,7,5,"div",14),e.YNc(2,pi,2,0,"ng-template",null,15,e.W1O),e.qZA()),2&a){const t=n.ngIf,i=e.MAs(3);e.xp6(1),e.Q6J("ngIf",!t.sites.pending&&!t.webhooks.pending)("ngIfElse",i)}}function _i(a,n){if(1&a&&(e.TgZ(0,"div",12),e.YNc(1,ui,4,2,"div",13),e.ALo(2,"async"),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.status$))}}const gi=function(a,n){return{entities:a,webhookStatuses:n}};let mi=(()=>{class a extends it{constructor(t,i,r,s,o,l,c){super(t,c,r),this.webhookStatus=t,this.siteImportService=i,this.config=r,this.allowedSites=s,this.dialogRef=o,this.data=l,this.service=c,this.pending=!1}ngOnInit(){var t;this.init();const i=null===(t=this.entities$)||void 0===t?void 0:t.subscribe(r=>{const s=r.map(o=>o.metadata.settings.webhook.url);this.allowedSites.addUrlsToWhiteList(s)});this.subscription.add(i)}close(){this.dialogRef.close()}import(){this.pending=!0,this.service.import(this.selected.map(t=>t.name),this.data.ids,this.dialogRef.id)}ngOnDestroy(){this.subscription.unsubscribe()}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(we.ZK),e.Y36(xe),e.Y36(Q.E4),e.Y36(Q.QJ),e.Y36(R.so),e.Y36(R.WI),e.Y36(xe))},a.\u0275cmp=e.Xpm({type:a,selectors:[["dxp-dc-ch-content-site-import"]],features:[e.qOj],decls:22,vars:9,consts:[[1,"modal-content","dc-ch-right-side-modal"],[1,"modal-card","card"],[1,"d-flex","justify-content-between","m-4"],["translate","",1,"mb-1"],["translate","",1,"font-weight-normal","font-size-sm"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],["class","card-body",4,"ngIf"],[1,"card-footer"],[1,"d-flex","justify-content-end","mb-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-link","me-2",3,"click"],["translate","","aria-hidden","true"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-primary","right-side-modal-btn",3,"disabled","click"],[1,"card-body"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["loading",""],["translate","",1,"mb-2","right-side-modal-search-heading"],[1,"right-side-modal-search-box",3,"selected","allOptions","placeholder","selectedChange"],["translate",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h2",3),e._uU(5," [ImportContentToSites] "),e.qZA(),e.TgZ(6,"span",4)(7,"sup"),e._uU(8,"*"),e.qZA(),e._uU(9," [IndicatesARequiredField]"),e.qZA()(),e.TgZ(10,"button",5),e.NdJ("click",function(){return i.close()}),e.qZA()(),e.YNc(11,_i,3,3,"div",6),e.ALo(12,"async"),e.ALo(13,"async"),e.TgZ(14,"div",7)(15,"div",8)(16,"button",9),e.NdJ("click",function(){return i.close()}),e.TgZ(17,"span",10),e._uU(18,"[Cancel]"),e.qZA()(),e.TgZ(19,"button",11),e.NdJ("click",function(){return i.import()}),e.TgZ(20,"span",10),e._uU(21,"[Import]"),e.qZA()()()()()()),2&t&&(e.xp6(11),e.Q6J("ngIf",e.WLB(6,gi,e.lcZ(12,2,i.entities$),e.lcZ(13,4,i.webhookStatuses$))),e.xp6(8),e.Q6J("disabled",0===i.selected.length||i.pending))},dependencies:[p.O5,A.Pi,nt.O,p.Ov,A.X$],styles:["[_nghost-%COMP%]{display:block}.card-header[_ngcontent-%COMP%]{border-bottom:none}.card-footer[_ngcontent-%COMP%]{border-top:none}pre[_ngcontent-%COMP%]{background:darkslategray}.list-group[_ngcontent-%COMP%]{max-height:calc(100vh - 280px);overflow-y:scroll;border-top:1px solid #e0e6eb;border-bottom:1px solid #e0e6eb}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:first-child{border-top:none}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:last-child{border-bottom:none}"],changeDetection:0}),a})();var fi=d(64696),vi=d(40396);function Di(a,n){1&a&&(e.TgZ(0,"h4",15),e._uU(1," [SaveFilterAs] "),e.qZA())}function Ci(a,n){if(1&a&&(e.TgZ(0,"h4",15),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.hij(' Edit "',t.filter.name,'" ')}}function bi(a,n){if(1&a&&(e.TgZ(0,"dxp-alert",20),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.Oqu(t.error)}}function yi(a,n){1&a&&e.GkF(0)}function xi(a,n){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,yi,1,0,"ng-container",32),e.qZA()),2&a){e.oxw();const t=e.MAs(17);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function wi(a,n){1&a&&e.GkF(0)}function Si(a,n){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,wi,1,0,"ng-container",32),e.qZA()),2&a){e.oxw();const t=e.MAs(17);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Ai(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"div",33)(1,"label",34),e._uU(2,"[AssignToSites]"),e.TgZ(3,"sup"),e._uU(4,"*"),e.qZA()(),e.TgZ(5,"dxp-dc-ch-ui-multi-select",35),e.NdJ("selectedChange",function(r){e.CHM(t);const s=e.oxw(4);return e.KtG(s.selected=r)}),e.ALo(6,"translate"),e.qZA()()}if(2&a){const t=e.oxw(3).ngIf,i=e.oxw();e.xp6(5),e.Q6J("selected",i.selected)("allOptions",i.getAllOptions(t.entities,t.webhookStatuses))("placeholder",e.lcZ(6,3,"[SearchSiteNames]"))}}function Mi(a,n){if(1&a&&(e.TgZ(0,"div")(1,"div",22)(2,"div",23)(3,"label",24),e._uU(4,"[Name]"),e.TgZ(5,"sup"),e._uU(6,"*"),e.qZA()(),e._UZ(7,"input",25),e.ALo(8,"translate"),e.qZA()(),e.TgZ(9,"div",26)(10,"div",27),e._UZ(11,"input",28),e.TgZ(12,"label",29),e._uU(13,"[EnableAutomaticSyndication]"),e.qZA()()(),e.YNc(14,xi,2,1,"div",18),e.YNc(15,Si,2,1,"div",18),e.YNc(16,Ai,7,5,"ng-template",30,31,e.W1O),e.qZA()),2&a){const t=e.oxw(3);e.xp6(7),e.Q6J("placeholder",e.lcZ(8,3,"[Name]")),e.xp6(7),e.Q6J("ngIf",t.form.controls.enableSyndication.value&&!t.filter),e.xp6(1),e.Q6J("ngIf",t.form.controls.enableSyndication.value&&t.filter)}}function ki(a,n){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,Mi,18,5,"div",21),e.qZA()),2&a){const t=n.ngIf;e.oxw();const i=e.MAs(5);e.xp6(1),e.Q6J("ngIf",!t.sites.pending&&!t.webhooks.pending)("ngIfElse",i)}}function Ei(a,n){1&a&&(e.TgZ(0,"span",36),e._uU(1,"[LoadingData]"),e.qZA())}function Ti(a,n){if(1&a&&(e.TgZ(0,"div",16),e.YNc(1,bi,2,1,"dxp-alert",17),e.YNc(2,ki,2,2,"div",18),e.ALo(3,"async"),e.YNc(4,Ei,2,0,"ng-template",null,19,e.W1O),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.error),e.xp6(1),e.Q6J("ngIf",e.lcZ(3,2,t.status$))}}function Ii(a,n){1&a&&(e.TgZ(0,"span",12),e._uU(1,"[SaveFilter]"),e.qZA())}function Pi(a,n){1&a&&(e.TgZ(0,"span",12),e._uU(1,"[UpdateFilter]"),e.qZA())}const Fi=function(a,n){return{entities:a,webhookStatuses:n}};let _e=(()=>{class a extends it{constructor(t,i,r,s,o,l,c,h,m,C,T,$,H){super(t,i,r),this.webhookStatus=t,this.siteImportService=i,this.config=r,this.dialogRef=s,this.data=o,this.filterService=l,this.contentService=c,this.notification=h,this.fb=m,this.actions$=C,this.cdr=T,this.translate=$,this.clientService=H,this.pending=!1}ngOnInit(){if(this.init(),this.filter=this.data.filter,this.filter&&this.config.getInstant("publisher")){const t=(0,U.aj)([this.webhookStatuses$,this.clientService.getFilterWebhooks(this.filter.uuid)]).subscribe(([i,r])=>{this.selected=this.getWebhookOptions(i,r),this.cdr.detectChanges()});this.subscription.add(t)}this.form=this.fb.group({name:[this.filter?this.filter.name:"",D.kI.required],enableSyndication:[this.data.enableAutomaticSyndication],sites:[]}),this.data.enableAutomaticSyndication&&this.form.get("sites").setValidators([D.kI.required]),this.form.get("enableSyndication").valueChanges.subscribe(t=>{t?this.form.get("sites").setValidators([D.kI.required]):this.form.get("sites").clearValidators(),this.form.get("sites").updateValueAndValidity()}),this.subscription.add(this.bindFilterSuccess()),this.subscription.add(this.bindFilterError())}getWebhookOptions(t,i){return t.filter(s=>i.find(o=>o===s.uuid)).map(s=>({name:null==s?void 0:s.url,value:null==s?void 0:s.uuid}))}close(){this.dialogRef.close()}save(){this.pending=!0;const t=(0,U.aj)([this.contentService.getSearchParam$(),this.contentService.getQuery$()]).pipe((0,B.q)(1)).subscribe(([i,r])=>{const s={data:Object.assign({highlight:{fields:{"*":{}}}},r),name:this.form.get("name").value,real_time_filter:!0,metadata:{search_criterion:{id:(0,vi.Z)(),uuid:null,name:this.form.get("name").value,fromDate:i.metadata.search_criterion.fromDate,toDate:i.metadata.search_criterion.toDate,search_term:j()(i.metadata.search_criterion,"search_term",""),publishSetting:"none",source:i.metadata.search_criterion.source.map(o=>o.uuid).join(),tags:Ht(i.metadata.search_criterion.tags),bundles:i.metadata.search_criterion.bundles.map(o=>o.name),entity_types:i.metadata.search_criterion.entity_types.map(o=>o.name),advancedFilters:i.metadata.search_criterion.tags}}};this.filter&&(s.uuid=this.filter.uuid),this.filterService.add(s).subscribe()});this.subscription.add(t)}bindFilterSuccess(){return this.actions$.pipe((0,k.Qo)("Filter"),(0,k.TR)(k.WD.SAVE_ADD_ONE_SUCCESS)).pipe((0,w.U)(t=>{this.form.get("enableSyndication").value?this.assignSites(j()(t,"payload.data.uuid")):this.filterCreationSuccess()})).subscribe()}bindFilterError(){return this.actions$.pipe((0,k.Qo)("Filter"),(0,k.TR)(k.WD.SAVE_ADD_ONE_ERROR)).subscribe(t=>this.filterCreationFailure(j()(t,"payload.data.error.error.error.error.message")))}assignSites(t){var i;const r=null!==(i=this.form.get("sites").value)&&void 0!==i?i:this.selected;this.filterService.assignSites(t,r.map(s=>s.value)).pipe((0,pe.b)(()=>this.filterCreationSuccess()),(0,fi.K)(s=>(0,K.of)(this.filterCreationFailure(j()(s,"error.error.message"))))).subscribe()}filterCreationFailure(t){this.pending=!1,this.error=t,this.cdr.detectChanges()}filterCreationSuccess(){this.notification.show({message:this.translate.instant(this.filter?"[FilterUpdated]":"[FilterCreated]"),color:"success",position:"top-center"}),this.close()}ngOnDestroy(){this.subscription.unsubscribe()}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(we.ZK),e.Y36(xe),e.Y36(Q.E4),e.Y36(R.so),e.Y36(R.WI),e.Y36(ye),e.Y36(Ce),e.Y36(F.K0),e.Y36(D.QS),e.Y36(Me.eX),e.Y36(e.sBO),e.Y36(A.sK),e.Y36(Q.yt))},a.\u0275cmp=e.Xpm({type:a,selectors:[["dxp-dc-ch-content-save-filter"]],features:[e.qOj],decls:23,vars:14,consts:[[1,"modal-content","dc-ch-right-side-modal"],[1,"modal-card","card"],["data-test-id","saveFilterForm",3,"formGroup"],[1,"d-flex","justify-content-between","mx-4","my-3"],[1,"dc-ch-card-header-title"],["translate","","class","card-header-title fw-normal",4,"ngIf"],["translate","",1,"fw-normal","font-size-sm"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],["class","card-body",4,"ngIf"],[1,"card-footer"],[1,"d-flex","justify-content-end","mb-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-link","me-2",3,"click"],["aria-hidden","true","translate",""],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-primary","right-side-modal-btn","text-nowrap",3,"disabled","click"],["aria-hidden","true","translate","",4,"ngIf"],["translate","",1,"card-header-title","fw-normal"],[1,"card-body"],["color","danger",4,"ngIf"],[4,"ngIf"],["loading",""],["color","danger"],[4,"ngIf","ngIfElse"],[1,"form-row"],[1,"col-12","right-side-modal-search-box"],["for","name","translate","",1,"mb-0","right-side-modal-search-heading"],["id","name","data-test-id","nameInput","type","text","formControlName","name",1,"form-control",3,"placeholder"],[1,"form-check","form-check-inline"],[1,"col-12"],["id","enableSyndication","type","checkbox","formControlName","enableSyndication",1,"form-check-input"],["for","enableSyndication","translate","",1,"form-check-label","mb-0","mt-3"],["class","form-row"],["assignToSites",""],[4,"ngTemplateOutlet"],[1,"col-12","mt-4"],["for","sites","translate","",1,"mb-0","w-auto","right-side-modal-search-heading"],["id","sites","formControlName","sites",1,"right-side-modal-search-box",3,"selected","allOptions","placeholder","selectedChange"],["translate",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4),e.YNc(5,Di,2,0,"h4",5),e.YNc(6,Ci,2,1,"h4",5),e.TgZ(7,"span",6)(8,"sup"),e._uU(9,"*"),e.qZA(),e._uU(10," [IndicatesARequiredField]"),e.qZA()(),e.TgZ(11,"button",7),e.NdJ("click",function(){return i.close()}),e.qZA()(),e.YNc(12,Ti,6,4,"div",8),e.ALo(13,"async"),e.ALo(14,"async"),e.TgZ(15,"div",9)(16,"div",10)(17,"button",11),e.NdJ("click",function(){return i.close()}),e.TgZ(18,"span",12),e._uU(19,"[Cancel]"),e.qZA()(),e.TgZ(20,"button",13),e.NdJ("click",function(){return i.save()}),e.YNc(21,Ii,2,0,"span",14),e.YNc(22,Pi,2,0,"span",14),e.qZA()()()()()()),2&t&&(e.xp6(2),e.Q6J("formGroup",i.form),e.xp6(3),e.Q6J("ngIf",!i.filter),e.xp6(1),e.Q6J("ngIf",i.filter),e.xp6(6),e.Q6J("ngIf",e.WLB(11,Fi,e.lcZ(13,7,i.entities$),e.lcZ(14,9,i.webhookStatuses$))),e.xp6(8),e.Q6J("disabled",!i.form.valid&&0===i.selected.length||i.pending),e.xp6(1),e.Q6J("ngIf",!i.filter),e.xp6(1),e.Q6J("ngIf",i.filter))},dependencies:[p.O5,p.tP,A.Pi,D._Y,D.Fj,D.Wl,D.JJ,D.JL,D.sg,D.u,nt.O,F.wx,p.Ov,A.X$],styles:["[_nghost-%COMP%]{display:block}.card-header[_ngcontent-%COMP%]{border-bottom:none}.card-footer[_ngcontent-%COMP%]{border-top:none}.form-check-input[_ngcontent-%COMP%]{margin-top:.95rem;margin-right:.5rem}.right-side-modal-btn[_ngcontent-%COMP%]{min-width:110px}"],changeDetection:0}),a})();var Oi=d(29466),Ri=d(81299),Vi=d(5123),Li=d(63098),Zi=d(74868),Ni=d(60773);function Yi(a,n){if(1&a&&(e.ynx(0),e._uU(1),e.ALo(2,"date"),e.ALo(3,"date"),e.BQk()),2&a){const t=e.oxw(3);e.xp6(1),e.AsE("Dates: ",e.xi3(2,2,t.fromDateOptions,"mediumDate")," - ",e.xi3(3,5,t.toDateOptions,"mediumDate"),"")}}function Ui(a,n){if(1&a&&(e.ynx(0),e._uU(1),e.ALo(2,"date"),e.BQk()),2&a){const t=e.oxw(3);e.xp6(1),e.hij("After: ",e.xi3(2,1,t.fromDateOptions,"mediumDate"),"")}}function Bi(a,n){if(1&a&&(e.ynx(0),e._uU(1),e.ALo(2,"date"),e.BQk()),2&a){const t=e.oxw(3);e.xp6(1),e.hij("Before: ",e.xi3(2,1,t.toDateOptions,"mediumDate"),"")}}function $i(a,n){if(1&a&&(e.TgZ(0,"span",20),e.YNc(1,Yi,4,8,"ng-container",21),e.YNc(2,Ui,3,4,"ng-container",21),e.YNc(3,Bi,3,4,"ng-container",21),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.fromDateOptions&&t.toDateOptions),e.xp6(1),e.Q6J("ngIf",t.fromDateOptions&&!t.toDateOptions),e.xp6(1),e.Q6J("ngIf",!t.fromDateOptions&&t.toDateOptions)}}function Hi(a,n){if(1&a&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij("text = '",t.searchText,"'")}}function Qi(a,n){if(1&a&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&a){const t=n.$implicit;e.xp6(1),e.hij("source = '",t.name,"'")}}function ji(a,n){if(1&a&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&a){const t=n.$implicit;e.xp6(1),e.hij("type = '",t.name,"'")}}function Ji(a,n){if(1&a&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&a){const t=n.$implicit;e.xp6(1),e.hij("bundle = '",t.name,"'")}}function qi(a,n){1&a&&(e.ynx(0),e._uU(1,"OR "),e.BQk())}function Gi(a,n){if(1&a&&(e.ynx(0),e._uU(1),e.YNc(2,qi,2,0,"ng-container",21),e.BQk()),2&a){const t=n.$implicit,i=n.last;e.xp6(1),e.hij("tag = '",t.value.name,"' "),e.xp6(1),e.Q6J("ngIf",!i)}}function zi(a,n){if(1&a&&(e.TgZ(0,"span",20),e.YNc(1,Gi,3,2,"ng-container",22),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.tags)}}const Ki=function(a){return{entitiesListNumber:a}};function Wi(a,n){if(1&a&&(e.TgZ(0,"span",23),e._uU(1," [EntitiesListNumberResults].plural "),e.qZA()),2&a){const t=e.oxw(2);e.Q6J("translateParams",e.VKq(1,Ki,t.entitiesListNumber))}}function Xi(a,n){1&a&&(e.TgZ(0,"span",8),e._uU(1," [EntitiesListNumberResults].singular "),e.qZA())}const en=function(a){return{filter:a}};function tn(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.openEditFilterModal())}),e.TgZ(1,"span",23),e._uU(2,"[SaveNameFilter]"),e.qZA()()}if(2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("translateParams",e.VKq(1,en,null==t.loadedFilter?null:t.loadedFilter.name))}}function nn(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.openDeleteFilterModal())}),e._UZ(1,"span",25),e.qZA()}2&a&&e.Q6J("borderless",!0)}function an(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"div",1)(1,"span",2),e._UZ(2,"img",3),e.qZA(),e.TgZ(3,"div",4),e.YNc(4,$i,4,3,"span",5),e.YNc(5,Hi,2,1,"span",5),e.YNc(6,Qi,2,1,"span",6),e.YNc(7,ji,2,1,"span",6),e.YNc(8,Ji,2,1,"span",6),e.YNc(9,zi,2,1,"span",5),e.TgZ(10,"button",7),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.clear())}),e.TgZ(11,"span",8),e._uU(12,"[ClearAllFilters]"),e.qZA()()(),e.TgZ(13,"div",9),e.YNc(14,Wi,2,3,"span",10),e.YNc(15,Xi,2,0,"span",11),e.TgZ(16,"dxp-dropdown",12)(17,"button",13),e._UZ(18,"span",14),e.qZA(),e.TgZ(19,"div",15)(20,"div",16),e.YNc(21,tn,3,3,"button",17),e.TgZ(22,"button",18),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.openSaveNewFilterModal())}),e.TgZ(23,"span",8),e._uU(24,"[SaveAsNewFilter]"),e.qZA()()()()(),e.YNc(25,nn,2,1,"button",19),e.qZA()()}if(2&a){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.fromDateOptions||t.toDateOptions),e.xp6(1),e.Q6J("ngIf",t.searchText),e.xp6(1),e.Q6J("ngForOf",t.sourceOptions),e.xp6(1),e.Q6J("ngForOf",t.typeOptions),e.xp6(1),e.Q6J("ngForOf",t.bundleOptions),e.xp6(1),e.Q6J("ngIf",t.tags&&t.tags.length&&t.isArray(t.tags)),e.xp6(1),e.Q6J("borderless",!0),e.xp6(4),e.Q6J("ngIf",t.entitiesListNumber>1||0===t.entitiesListNumber),e.xp6(1),e.Q6J("ngIf",1===t.entitiesListNumber),e.xp6(2),e.Q6J("borderless",!0),e.xp6(4),e.Q6J("ngIf",t.savedFilterChanged),e.xp6(4),e.Q6J("ngIf",t.filter.uuid)}}let rn=(()=>{class a{constructor(t){this.dialog=t,this.typeOptions=[],this.bundleOptions=[],this.sourceOptions=[],this.tags=[],this.clearAll=new e.vpe}clear(){this.clearAll.emit()}isFilterPresent(){return 0!==this.sourceOptions.length||0!==this.typeOptions.length||0!==this.bundleOptions.length||0!==this.tags.length||!!this.fromDateOptions||!!this.toDateOptions||!!this.searchText}openEditFilterModal(){this.dialog.open(_e,{data:{filter:this.filter},position:{right:"0px"},backdropClass:"right-side-modal-backdrop",panelClass:"right-side-modal-panel"})}openSaveNewFilterModal(){this.dialog.open(_e,{data:{},position:{right:"0px"},backdropClass:"right-side-modal-backdrop",panelClass:"right-side-modal-panel"})}openDeleteFilterModal(){this.dialog.open(tt,{data:{filter:this.filter},panelClass:"modal-dialog-centered"})}isArray(t){return(0,he.isArray)(t)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(R.uw))},a.\u0275cmp=e.Xpm({type:a,selectors:[["dxp-dc-ch-content-select-filter"]],inputs:{typeOptions:"typeOptions",bundleOptions:"bundleOptions",sourceOptions:"sourceOptions",fromDateOptions:"fromDateOptions",toDateOptions:"toDateOptions",searchText:"searchText",tags:"tags",entitiesListNumber:"entitiesListNumber",savedFilterChanged:"savedFilterChanged",filter:"filter",loadedFilter:"loadedFilter"},outputs:{clearAll:"clearAll"},decls:1,vars:1,consts:[["class","filter d-flex flex-grow justify-content-between",4,"ngIf"],[1,"filter","d-flex","flex-grow","justify-content-between"],[1,"m-3","text-md"],["src","assets/icons/filled-filter.svg",1,"filled-filter"],[1,"flex-grow-1","m-2"],["class","filter__option",4,"ngIf"],["class","filter__option",4,"ngFor","ngForOf"],["dxpTextButton","",1,"fw-normal","clear-all",3,"borderless","click"],["translate",""],[1,"m-2"],["translate","",3,"translateParams",4,"ngIf"],["translate","",4,"ngIf"],["position","top-left",1,"d-inline-block"],["dxpDropdownToggle","dropdown","dxpIconButton","",1,"p-1","ms-2",3,"borderless"],[1,"fe","fe-save","text-lg"],["dxpDropdownMenu","dropdown",1,"content-view-menu"],["role","group",1,"btn-group-vertical"],["type","button","class","btn btn-white fw-normal text-nowrap",3,"click",4,"ngIf"],["type","button",1,"btn","btn-white","fw-normal","text-nowrap",3,"click"],["dxpIconButton","","class","p-1",3,"borderless","click",4,"ngIf"],[1,"filter__option"],[4,"ngIf"],[4,"ngFor","ngForOf"],["translate","",3,"translateParams"],["dxpIconButton","",1,"p-1",3,"borderless","click"],[1,"fe","fe-trash-2","text-lg"]],template:function(t,i){1&t&&e.YNc(0,an,26,12,"div",0),2&t&&e.Q6J("ngIf",i.isFilterPresent())},dependencies:[p.sg,p.O5,A.Pi,F.r0,F.JO,F.RU,F.bQ,p.uU],styles:["[_nghost-%COMP%]{display:block}.filter[_ngcontent-%COMP%]{border-radius:10px 10px 0 0;border-bottom:1px solid #e0e6eb;padding:6px 12px;height:auto;background-color:#fff}.filter__option[_ngcontent-%COMP%]{display:inline-block;width:auto;background:#D3ECF8;border-radius:14.5px;align-items:center;padding:6px 12px;margin:3px}button.clear-all[_ngcontent-%COMP%]{color:#52697a!important}.content-view-menu[_ngcontent-%COMP%]{padding:0;border-radius:6px!important;border:none}.fe-trash-2[_ngcontent-%COMP%], .fe-save[_ngcontent-%COMP%]{color:#668499}"]}),a})();function sn(a,n){if(1&a&&(e.TgZ(0,"tr",18)(1,"td",19)(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",20)(5,"div"),e._uU(6),e.qZA()(),e.TgZ(7,"td",19)(8,"div"),e._uU(9),e.qZA()()()),2&a){const t=n.$implicit;e.xp6(3),e.hij(" ",t.client_name," "),e.xp6(3),e.hij(" ",t.webhook_url," "),e.xp6(3),e.hij(" ",t.status," ")}}function on(a,n){if(1&a&&(e.TgZ(0,"div")(1,"div")(2,"table",12)(3,"thead",13)(4,"tr")(5,"th",14)(6,"a",15),e._uU(7," [SiteName] "),e.qZA()(),e.TgZ(8,"th",14)(9,"a",16),e._uU(10," [WebhookUrl] "),e.qZA()(),e.TgZ(11,"th",14)(12,"a",15),e._uU(13," [SyndicationState] "),e.qZA()()()(),e.TgZ(14,"tbody"),e.YNc(15,sn,10,3,"tr",17),e.qZA()()()()),2&a){const t=n.ngIf;e.xp6(15),e.Q6J("ngForOf",t.webhook)}}function ln(a,n){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,on,16,1,"div",10),e.ALo(2,"async"),e.qZA()),2&a){e.oxw();const t=e.MAs(3),i=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,i.syndicationDetails$))("ngIfElse",t)}}function dn(a,n){1&a&&(e.TgZ(0,"span",21),e._uU(1,"[LoadingData]"),e.qZA())}function cn(a,n){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,ln,3,4,"div",10),e.YNc(2,dn,2,0,"ng-template",null,11,e.W1O),e.qZA()),2&a){const t=n.ngIf,i=e.MAs(3);e.xp6(1),e.Q6J("ngIf",!t.pending)("ngIfElse",i)}}function hn(a,n){if(1&a&&(e.TgZ(0,"a",22),e._uU(1," Edit Content "),e.qZA()),2&a){const t=e.oxw();e.uIk("href",t.getEditUrl(t.entity),e.LSH)}}let pn=(()=>{class a{constructor(t,i){this.syndicationDetailsService=t,this.entityUrlBuilder=i,this.viewCDFDetailsDialog=new e.vpe,this.selected=[],this.pending=!1}ngOnInit(){this.status$=this.syndicationDetailsService.status$,this.syndicationDetails$=this.syndicationDetailsService.get(this.entity.uuid),this.entityLabel=this.getEntityLabel(this.entity.labels,this.entity.languages)}getEditUrl(t){return this.entityUrlBuilder.getEditUrl(t)}shouldShowEntityUrl(t){return this.entityUrlBuilder.shouldShowEntityUrl(t)}viewCDFDetails(){this.viewCDFDetailsDialog.emit(this.entity.uuid)}getEntityLabel(t,i){var r,s,o;return(null==i?void 0:i.length)<=1?null!==(r=null==t?void 0:t.und)&&void 0!==r?r:"":null!==(o=t[null===(s=i[0])||void 0===s?void 0:s.toLowerCase()])&&void 0!==o?o:""}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(Gt),e.Y36(Xe))},a.\u0275cmp=e.Xpm({type:a,selectors:[["dxp-dc-ch-content-syndication-details"]],inputs:{entity:"entity"},outputs:{viewCDFDetailsDialog:"viewCDFDetailsDialog"},decls:16,vars:5,consts:[[1,"syndication-details","h-100"],[1,"mb-4"],[1,"fw-bold","font-size-base"],["translate","",1,"card-header-title","font-weight-normal"],[1,"content"],[4,"ngIf"],[1,"d-flex","flex-row","justify-content-end"],[1,"cdf-details-action-wrapper"],["translate","","type","button",1,"btn","btn-outline-primary","btn-sm",3,"click"],["type","button","class","btn btn-outline-primary btn-sm","rel","noopener","target","_blank",4,"ngIf"],[4,"ngIf","ngIfElse"],["loading",""],[1,"table","table-sm"],[1,"table-header","border-bottom"],["scope","col"],["translate","",1,"text-muted"],["translate","",1,"text-muted","text-wrap"],["class","border-bottom",4,"ngFor","ngForOf"],[1,"border-bottom"],[1,"tables-source"],[1,"tables-source","webhooks-url"],["translate",""],["type","button","rel","noopener","target","_blank",1,"btn","btn-outline-primary","btn-sm"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4")(3,"span",2),e._uU(4),e.qZA()(),e.TgZ(5,"h4")(6,"span",3),e._uU(7," [SyndicationStateDetails] "),e.qZA()()(),e.TgZ(8,"div",4),e.YNc(9,cn,4,2,"div",5),e.ALo(10,"async"),e.qZA(),e.TgZ(11,"div",6)(12,"div",7)(13,"button",8),e.NdJ("click",function(){return i.viewCDFDetails()}),e._uU(14,"[ViewCdfDetails]"),e.qZA(),e.YNc(15,hn,2,1,"a",9),e.qZA()()()),2&t&&(e.xp6(4),e.Oqu(i.entityLabel),e.xp6(5),e.Q6J("ngIf",e.lcZ(10,3,i.status$)),e.xp6(6),e.Q6J("ngIf",i.shouldShowEntityUrl(i.entity)))},dependencies:[p.sg,p.O5,A.Pi,p.Ov],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%;overflow:scroll}[_nghost-%COMP%]::-webkit-scrollbar{display:none}.table[_ngcontent-%COMP%]{table-layout:fixed}.content[_ngcontent-%COMP%]{overflow-y:scroll;position:relative;pointer-events:all;min-height:calc(100% - 180px);height:calc(100% - 120px)}.content[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.cdf-details-action-wrapper[_ngcontent-%COMP%]{height:26px}.cdf-details-action-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:.75rem;height:100%}.cdf-details-action-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:100%}.webhooks-url[_ngcontent-%COMP%]{word-wrap:break-word}"],changeDetection:0}),a})();var un=d(70655),_n=d(98465),gn=d.n(_n);const mn=["input"];function fn(a,n){1&a&&(e.TgZ(0,"mat-option",12),e._uU(1," Loading... "),e.qZA()),2&a&&e.Q6J("disabled",!0)}function vn(a,n){if(1&a&&(e.TgZ(0,"mat-option",13),e._uU(1),e.qZA()),2&a){const t=n.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.name," ")}}let Dn=(()=>{class a{constructor(t,i,r){this.translate=t,this.tagListService=i,this.cdr=r,this.allOptions=[],this.placeholder=this.translate.instant("[Add...]"),this.removable=!0,this.selectable=!0,this.selectedChange=new e.vpe,this.inputCtrl=new D.p4,this.apiOptions=[],this.filteredOptions=[],this.minLengthTerm=0,this.subscription=new f.w,this.loading=!1,this.propagateChange=s=>{}}ngOnInit(){this.subscription.add(this.listenToInputChange())}listenToInputChange(){return this.inputCtrl.valueChanges.pipe((0,w.U)(t=>this.apiOptions.filter(i=>i.name.includes(t))),(0,w.U)(t=>{this.filteredOptions=t,this.cdr.detectChanges()})).subscribe()}ngOnChanges(t){!t.selected||this.inputCtrl.setValue(this.selected?this.selected.name:"")}filterOptions(){var t;return(0,un.mG)(this,void 0,void 0,function*(){this.loading=!0,"string"==typeof this.inputCtrl.value&&this.inputCtrl.value!==(null===(t=this.selected)||void 0===t?void 0:t.name)&&(this.apiOptions=yield this._filter(this.inputCtrl.value).toPromise(),this.filteredOptions=this.apiOptions),this.loading=!1,this.cdr.detectChanges()})}optionSelected(t){var i;gn()(null===(i=this.selected)||void 0===i?void 0:i.name,t.option.value.name)||(this.selected=t.option.value),this.input.nativeElement.value=this.selected.name,this.inputCtrl.setValue(this.selected.name),this.propagateChange(this.selected),this.selectedChange.emit(this.selected)}_filter(t){return this.tagListService.getTags(t).pipe((0,w.U)(this.getTags))}getTags(t){return t.map(i=>{var r;return{value:i.uuid,name:null!==(r=null==i?void 0:i.labels.und)&&void 0!==r?r:this.translate.instant("[NA]")}})}writeValue(t){t&&(this.selected=t)}registerOnChange(t){this.propagateChange=t}registerOnTouched(t){}ngOnDestroy(){this.subscription.unsubscribe()}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(A.sK),e.Y36(zt),e.Y36(e.sBO))},a.\u0275cmp=e.Xpm({type:a,selectors:[["dxp-dc-ch-content-tags-autocomplete-select"]],viewQuery:function(t,i){if(1&t&&e.Gf(mn,5),2&t){let r;e.iGM(r=e.CRH())&&(i.input=r.first)}},inputs:{selected:"selected",allOptions:"allOptions",placeholder:"placeholder",removable:"removable",selectable:"selectable"},outputs:{selectedChange:"selectedChange"},features:[e._Bn([{provide:D.JU,useExisting:(0,e.Gpc)(()=>a),multi:!0}]),e.TTD],decls:12,vars:5,consts:[["data-test-id","tags-autocomplete","appearance","fill",1,"mat-form-field","dxp-select"],[1,"selection","tag-selection"],[1,"tags-autocomplete__selection","form-control"],[1,"dropdown","tags-dropdown"],["matInput","",1,"form-control","tags-input",3,"placeholder","formControl","matAutocomplete","keydown.enter","focus"],["input",""],[3,"optionSelected"],["auto","matAutocomplete"],[1,"tags-wrapper"],[1,"tags-options-wrapper"],[3,"disabled",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[3,"disabled"],[3,"value"]],template:function(t,i){if(1&t&&(e.TgZ(0,"mat-form-field",0)(1,"span",1)(2,"span",2)(3,"div",3)(4,"input",4,5),e.NdJ("keydown.enter",function(){return i.filterOptions()})("focus",function(){return i.filterOptions()}),e.qZA()(),e.TgZ(6,"mat-autocomplete",6,7),e.NdJ("optionSelected",function(s){return i.optionSelected(s)}),e.TgZ(8,"div",8)(9,"div",9),e.YNc(10,fn,2,1,"mat-option",10),e.YNc(11,vn,2,2,"mat-option",11),e.qZA()()()()()()),2&t){const r=e.MAs(7);e.xp6(4),e.Q6J("placeholder",i.placeholder)("formControl",i.inputCtrl)("matAutocomplete",r),e.xp6(6),e.Q6J("ngIf",i.loading),e.xp6(1),e.Q6J("ngForOf",i.filteredOptions)}},dependencies:[p.sg,p.O5,V.KE,g.ey,D.Fj,D.JJ,D.oH,y.XC,y.ZL,L.Nt],styles:['@charset "UTF-8";[_nghost-%COMP%] {display:inline-block}[_nghost-%COMP%]  .tag-selection{padding:0}[_nghost-%COMP%]  .tags-autocomplete__selection{padding:.25rem .75rem;border:none;height:2rem}[_nghost-%COMP%]  .mat-form-field-infix{padding:0}[_nghost-%COMP%]  input.tags-input{height:100%;width:100%;font-size:1rem;font-family:Proxima Nova,Open Sans,Helvetica Neue,sans-serif}[_nghost-%COMP%]  input.tags-input::placeholder{color:#000;opacity:1}[_nghost-%COMP%]  input.tags-input:-ms-input-placeholder{color:#000}[_nghost-%COMP%]  input.tags-input::-ms-input-placeholder{color:#000}[_nghost-%COMP%]  .mat-form-field-appearance-fill .mat-form-field-infix{width:264px}[_nghost-%COMP%]  .mat-form-field-underline{display:none}[_nghost-%COMP%]  .mat-form-field-infix .tag-selection .tags-dropdown{width:100%;color:#668499}[_nghost-%COMP%]  .dropdown{height:100%;width:100%;position:relative;display:inline-block;color:#668499}[_nghost-%COMP%]  .dropdown:before{position:absolute;content:"\\2c7";top:-5px;right:-8px;height:20px;width:20px;font-size:40px;font-weight:300}[_nghost-%COMP%]  .form-control:focus{box-shadow:none}'],changeDetection:0}),a})();function Cn(a,n){if(1&a&&(e.TgZ(0,"mat-option",25),e._uU(1),e.qZA()),2&a){const t=n.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.name," ")}}function bn(a,n){if(1&a&&(e.TgZ(0,"mat-option",25),e._uU(1),e.qZA()),2&a){const t=n.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.name," ")}}function yn(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"dxp-dc-ch-content-tags-autocomplete-select",26),e.NdJ("selectedChange",function(r){e.CHM(t);const s=e.oxw().$implicit;return e.KtG(s.value=r)}),e.ALo(1,"translate"),e.qZA()}if(2&a){const t=e.oxw().$implicit;e.Q6J("placeholder",e.lcZ(1,2,"[SearchForTags]"))("selected",t.value)}}function xn(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"div",15)(1,"div",16),e._uU(2),e.qZA(),e.TgZ(3,"div",17)(4,"mat-form-field",18)(5,"mat-select",19),e.NdJ("valueChange",function(r){const o=e.CHM(t).$implicit;return e.KtG(o.type=r)}),e.ALo(6,"translate"),e.YNc(7,Cn,2,2,"mat-option",20),e.qZA()(),e.TgZ(8,"mat-form-field",21)(9,"mat-select",19),e.NdJ("valueChange",function(r){const o=e.CHM(t).$implicit;return e.KtG(o.operator=r)}),e.ALo(10,"translate"),e.YNc(11,bn,2,2,"mat-option",20),e.qZA()(),e.YNc(12,yn,2,4,"dxp-dc-ch-content-tags-autocomplete-select",22),e.TgZ(13,"div",23)(14,"span",24),e.NdJ("click",function(){const s=e.CHM(t).index,o=e.oxw();return e.KtG(o.removeFilter(s))}),e.qZA()()()()}if(2&a){const t=n.$implicit,i=e.oxw();e.xp6(2),e.Oqu(t.logicalOperator),e.xp6(3),e.Q6J("value",t.type)("placeholder",e.lcZ(6,8,"[SelectVariable]")),e.xp6(2),e.Q6J("ngForOf",i.filterTypes),e.xp6(2),e.Q6J("value",t.operator)("placeholder",e.lcZ(10,10,"[SelectOperator]")),e.xp6(2),e.Q6J("ngForOf",i.operatorTypes[t.type?t.type:"name"]),e.xp6(1),e.Q6J("ngIf","lastmodified"!==t.type)}}let wn=(()=>{class a{constructor(t){this.translate=t,this.isAdvancedFilterChange=new e.vpe,this.updateFilter=new e.vpe,this.clearAll=new e.vpe,this.filters=[{type:"tags",operator:"equals",value:void 0,logicalOperator:void 0}],this.filterTypes=[{name:this.translate.instant("[Tags]"),value:"tags"}],this.textOperatorTypes=[{name:this.translate.instant("[OPERATORS].[equals]"),value:"equals"}],this.operatorTypes={tags:this.textOperatorTypes}}ngOnChanges(){this.filters=be()(this.filter.metadata.search_criterion.tags)}clear(){this.filters=[{type:void 0,operator:void 0,value:void 0,logicalOperator:void 0}],this.clearAll.emit()}apply(){this.updateFilter.emit(be()(this.filters))}removeFilter(t){this.filters.splice(t,1)}addFilter(t){this.filters.push({type:void 0,operator:void 0,value:void 0,logicalOperator:t})}isApplyDisabled(){return!!this.filters.find(t=>!(t.type&&t.operator&&t.value))}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(A.sK))},a.\u0275cmp=e.Xpm({type:a,selectors:[["dxp-dc-ch-content-advanced-select-filter"]],inputs:{filter:"filter",isAdvancedFilter:"isAdvancedFilter"},outputs:{isAdvancedFilterChange:"isAdvancedFilterChange",updateFilter:"updateFilter",clearAll:"clearAll"},features:[e.TTD],decls:23,vars:3,consts:[[1,"card","filter","d-flex","flex-grow","justify-content-between","p-3"],["translate","",1,"font-weight-bold","pb-2","font-size-base"],["class","col-12 col-md-12",4,"ngFor","ngForOf"],[1,"pl-3","pb-3","pt-2"],["type","button",1,"btn","btn-white","btn-sm","me-3","plus-btn",3,"matMenuTriggerFor"],[1,"fe","fe-plus","font-size-lg","align-middle"],[1,"content-view-menu"],["menu","matMenu"],["role","group",1,"btn-group-vertical"],["type","button",1,"btn","btn-white","font-weight-normal","disabled",3,"click"],["translate",""],["type","button",1,"btn","btn-white","font-weight-normal",3,"click"],[1,"pl-3","pb-2"],["type","button",1,"btn","btn-white","btn-sm","me-3",3,"disabled","click"],["type","button",1,"btn","btn-white","btn-sm","me-3",3,"click"],[1,"col-12","col-md-12"],[1,"d-flex","text-uppercase","text-decoration-underline","pb-1"],[1,"d-flex"],["appearance","fill",1,"dxp-select","me-3","type-input"],[3,"value","placeholder","valueChange"],[3,"value",4,"ngFor","ngForOf"],["appearance","fill",1,"dxp-select","me-3"],["class","pr-3 value-input",3,"placeholder","selected","selectedChange",4,"ngIf"],[1,"align-middle","delete-filter-btn"],[1,"fe","fe-x","fe-lg","me-4",3,"click"],[3,"value"],[1,"pr-3","value-input",3,"placeholder","selected","selectedChange"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2," [Filter] "),e.qZA(),e.TgZ(3,"div")(4,"div"),e.YNc(5,xn,15,12,"div",2),e.qZA(),e.TgZ(6,"div",3)(7,"button",4),e._UZ(8,"span",5),e.qZA(),e.TgZ(9,"mat-menu",6,7)(11,"div",8)(12,"button",9),e.NdJ("click",function(){return i.addFilter("AND")}),e.TgZ(13,"span",10),e._uU(14,"[AND]"),e.qZA()(),e.TgZ(15,"button",11),e.NdJ("click",function(){return i.addFilter("OR")}),e.TgZ(16,"span",10),e._uU(17,"[OR]"),e.qZA()()()()(),e.TgZ(18,"div",12)(19,"button",13),e.NdJ("click",function(){return i.apply()}),e._uU(20,"Apply"),e.qZA(),e.TgZ(21,"button",14),e.NdJ("click",function(){return i.clear()}),e._uU(22,"Clear Filters"),e.qZA()()()()),2&t){const r=e.MAs(10);e.xp6(5),e.Q6J("ngForOf",i.filters),e.xp6(2),e.Q6J("matMenuTriggerFor",r),e.xp6(12),e.Q6J("disabled",i.isApplyDisabled())}},dependencies:[p.sg,p.O5,Z.VK,Z.p6,V.KE,Ke.gD,g.ey,A.Pi,Dn,A.X$],styles:["[_nghost-%COMP%] {display:block}[_nghost-%COMP%]  .mat-form-field-wrapper{padding-bottom:.25em}[_nghost-%COMP%]  .type-input .mat-form-field-infix, [_nghost-%COMP%]  .value-input .mat-form-field-infix{width:280px}[_nghost-%COMP%]  .type-input .mat-form-field-infix .dropdown, [_nghost-%COMP%]  .value-input .mat-form-field-infix .dropdown{width:255px}.handler[_ngcontent-%COMP%]{height:56px;position:absolute;left:-14px;vertical-align:middle;cursor:pointer;color:#a3b5c2}.handler[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{width:7px}.handler[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){width:15px}.handler[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{line-height:56px}.delete-filter-btn[_ngcontent-%COMP%]{font-size:14px;color:#668499;margin-left:.5rem}.delete-filter-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}.form-control__datepicker[_ngcontent-%COMP%]{min-width:280px;width:280px}.plus-btn[_ngcontent-%COMP%]{padding:0 .2rem}"],changeDetection:0}),a})();var Sn=d(92776),An=d(74654),Mn=d(88300);let kn=(()=>{class a{constructor(t,i){this.service=t,this.config=i,this.filterChange=new e.vpe,this.filterUpdate=new e.vpe,this.sortUpdate=new e.vpe,this.selectAllUpdate=new e.vpe,this.sort={value:null,direction:null},this.sub=new Sn.w}ngOnInit(){this.typeOptions$=this.service.getOptions("typeOptions"),this.bundleOptions$=this.service.getOptions("bundleOptions"),this.config.getInstant("publisher")&&this.sub.add(this.assignClientSource())}assignFilterValue(t,i){this.filter=Object.assign({},JSON.parse(JSON.stringify(this.filter))),ue()(this.filter,t,i),this.filterChange.emit(this.filter),this.filterUpdate.emit()}assignClientSource(){return this.settings$.subscribe(t=>{const i=null==t?void 0:t.clients.find(r=>r.uuid===this.config.getInstant("plexusClientId"));void 0!==i&&this.assignFilterValue("metadata.search_criterion.source",[i])})}sortBy(t){this.sort=Object.assign({},JSON.parse(JSON.stringify(this.sort)));let i=this.sort.direction;if(this.sort.value!==t)i="asc";else switch(this.sort.direction){case null:i="asc";break;case"asc":i="desc";break;case"desc":i=null}ue()(this.sort,"value",t),ue()(this.sort,"direction",i),this.sortUpdate.emit(this.sort)}isSorted(t){return this.sort.value===t}selectAll(t){this.selectAllUpdate.emit(t.srcElement.checked)}ngOnDestroy(){this.sub.unsubscribe()}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(Ce),e.Y36(Q.E4))},a.\u0275cmp=e.Xpm({type:a,selectors:[["dxp-dc-ch-content-content-list-header"]],inputs:{filter:"filter",selected:"selected",settings$:"settings$"},outputs:{filterChange:"filterChange",filterUpdate:"filterUpdate",sortUpdate:"sortUpdate",selectAllUpdate:"selectAllUpdate"},decls:34,vars:18,consts:[[1,"table","table-sm","table-borderless",2,"table-layout","fixed","word-wrap","break-spaces"],[1,"table-header","border-bottom"],["scope","col",1,"w-3"],["type","checkbox",3,"change"],["scope","col",1,"w-15"],["translate","",1,"text-muted"],["scope","col",1,"w-10"],["translate","","data-sort","data.attributes.entity_type.value.und",1,"text-muted","sort",3,"ngClass","click"],[3,"options","filter","filterChange"],["translate","","data-sort","data.attributes.bundle.value.und",1,"text-muted","sort",3,"ngClass","click"],["scope","col",1,"w-20"],["translate","","data-sort","data.origin",1,"text-muted","sort",3,"ngClass","click"],["translate","","data-sort","data.modified",1,"text-muted","sort",3,"ngClass","click"],[3,"fromDate","toDate","fromDateChange","toDateChange"],["scope","col",1,"w-7","text-left"]],template:function(t,i){if(1&t&&(e.TgZ(0,"table",0)(1,"thead",1)(2,"tr")(3,"th",2)(4,"input",3),e.NdJ("change",function(s){return i.selectAll(s)}),e.qZA()(),e.TgZ(5,"th",4)(6,"a",5),e._uU(7," [NAME] "),e.qZA()(),e.TgZ(8,"th",6)(9,"a",7),e.NdJ("click",function(){return i.sortBy("data.attributes.entity_type.value.und")}),e._uU(10," [TYPE] "),e.qZA(),e.TgZ(11,"dxp-dc-ch-ui-dropdown-filter-list",8),e.NdJ("filterChange",function(s){return i.assignFilterValue("metadata.search_criterion.entity_types",s)}),e.ALo(12,"async"),e.qZA()(),e.TgZ(13,"th",4)(14,"a",9),e.NdJ("click",function(){return i.sortBy("data.attributes.bundle.value.und")}),e._uU(15," [Bundle] "),e.qZA(),e.TgZ(16,"dxp-dc-ch-ui-dropdown-filter-list",8),e.NdJ("filterChange",function(s){return i.assignFilterValue("metadata.search_criterion.bundles",s)}),e.ALo(17,"async"),e.qZA()(),e.TgZ(18,"th",4)(19,"a",5),e._uU(20," [Status] "),e.qZA()(),e.TgZ(21,"th",4)(22,"a",5),e._uU(23," [Languages] "),e.qZA()(),e.TgZ(24,"th",10)(25,"a",11),e.NdJ("click",function(){return i.sortBy("data.origin")}),e._uU(26," [Source] "),e.qZA(),e.TgZ(27,"dxp-dc-ch-ui-dropdown-filter-list",8),e.NdJ("filterChange",function(s){return i.assignFilterValue("metadata.search_criterion.source",s)}),e.ALo(28,"async"),e.qZA()(),e.TgZ(29,"th",4)(30,"a",12),e.NdJ("click",function(){return i.sortBy("data.modified")}),e._uU(31," [LASTUPDATED] "),e.qZA(),e.TgZ(32,"dxp-dc-ch-ui-dropdown-daterange-filter",13),e.NdJ("fromDateChange",function(s){return i.assignFilterValue("metadata.search_criterion.fromDate",s)})("toDateChange",function(s){return i.assignFilterValue("metadata.search_criterion.toDate",s)}),e.qZA()(),e._UZ(33,"th",14),e.qZA()()()),2&t){let r;e.xp6(9),e.Q6J("ngClass",i.isSorted("data.attributes.entity_type.value.und")?i.sort.direction:null),e.xp6(2),e.Q6J("options",e.lcZ(12,12,i.typeOptions$))("filter",i.filter.metadata.search_criterion.entity_types),e.xp6(3),e.Q6J("ngClass",i.isSorted("data.attributes.bundle.value.und")?i.sort.direction:null),e.xp6(2),e.Q6J("options",e.lcZ(17,14,i.bundleOptions$))("filter",i.filter.metadata.search_criterion.bundles),e.xp6(9),e.Q6J("ngClass",i.isSorted("data.origin")?i.sort.direction:null),e.xp6(2),e.Q6J("options",null==(r=e.lcZ(28,16,i.settings$))?null:r.clients)("filter",i.filter.metadata.search_criterion.source),e.xp6(3),e.Q6J("ngClass",i.isSorted("data.modified")?i.sort.direction:null),e.xp6(2),e.Q6J("fromDate",i.filter.metadata.search_criterion.fromDate)("toDate",i.filter.metadata.search_criterion.toDate)}},dependencies:[p.mk,A.Pi,An.V,Mn.f,p.Ov],styles:["[_nghost-%COMP%]{display:block}.table-header[_ngcontent-%COMP%]{height:2.5rem}.table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-bottom:.5rem}@media screen and (max-height: 785px){[_nghost-%COMP%]     dxp-dc-ch-ui-dropdown-daterange-filter .dropdown-menu.show{height:calc(100vh - 300px);overflow-y:scroll}}"],changeDetection:0}),a})();function En(a,n){if(1&a&&(e.TgZ(0,"span",1),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.Q6J("ngClass",t.getClass()),e.xp6(1),e.hij(" ",t.statusText,"\n")}}let at=(()=>{class a{constructor(t){this.translate=t}ngOnInit(){this.statusText=this.translate.instant(`[${this.status}]`)}getClass(){return-1!==this.status.toLowerCase().indexOf("success")?"bg-success":-1!==this.status.toLowerCase().indexOf("fail")?"bg-danger":"bg-primary"}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(A.sK))},a.\u0275cmp=e.Xpm({type:a,selectors:[["dxp-dc-ch-content-status"]],inputs:{status:"status"},decls:1,vars:1,consts:[["class","badge",3,"ngClass",4,"ngIf"],[1,"badge",3,"ngClass"]],template:function(t,i){1&t&&e.YNc(0,En,2,2,"span",0),2&t&&e.Q6J("ngIf",i.status)},dependencies:[p.mk,p.O5]}),a})();function Tn(a,n){if(1&a&&(e.TgZ(0,"a",25)(1,"span",10),e._uU(2,"[Edit]"),e.qZA()()),2&a){const t=e.oxw();e.uIk("href",t.editUrl,e.LSH)}}function In(a,n){if(1&a&&(e.TgZ(0,"div",12)(1,"div",15)(2,"span",10),e._uU(3,"[Bundle]"),e.qZA(),e._uU(4,": "),e.qZA(),e.TgZ(5,"div",16),e._uU(6),e.qZA()()),2&a){const t=e.oxw();e.xp6(6),e.hij(" ",t.entity.bundle," ")}}function Pn(a,n){if(1&a){const t=e.EpF();e.ynx(0),e.TgZ(1,"a",27),e.NdJ("click",function(){const s=e.CHM(t).$implicit,o=e.oxw(2);return e.KtG(o.setEntityLabel(o.entity.labels,o.entity.languages,s))}),e._uU(2),e.qZA(),e.BQk()}if(2&a){const t=n.$implicit,i=e.oxw(2);e.xp6(2),e.hij(" ",i.getLanguageLabel(t,i.entity.default_language),"")}}function Fn(a,n){if(1&a&&(e.TgZ(0,"div",12)(1,"div",15)(2,"span",10),e._uU(3,"[Languages]"),e.qZA(),e._uU(4,": "),e.qZA(),e.YNc(5,Pn,3,1,"ng-container",26),e.qZA()),2&a){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.entity.languages)}}function On(a,n){if(1&a&&(e.TgZ(0,"div",12)(1,"div",28),e._UZ(2,"dxp-dc-ch-content-status",29),e.qZA()()),2&a){const t=e.oxw();e.xp6(2),e.s9C("status",null==t.entity?null:t.entity.status)}}function Rn(a,n){if(1&a&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Oqu(e.xi3(2,1,t.entity.modified,"medium"))}}function Vn(a,n){1&a&&(e.TgZ(0,"span",10),e._uU(1,"[NA]"),e.qZA())}let Ln=(()=>{class a{constructor(){this.selected=!1,this.openDetailsCdf=new e.vpe,this.openSyndicationDetails=new e.vpe,this.entitySelection=new e.vpe}ngOnInit(){var t,i;this.setEntityLabel(null===(t=this.entity)||void 0===t?void 0:t.labels,null===(i=this.entity)||void 0===i?void 0:i.languages)}openCdfDetailsModal(t){this.openDetailsCdf.emit(t)}openSyndicationStatusModal(t){this.openSyndicationDetails.emit(t)}selection(){this.entitySelection.emit(this.entity)}setEntityLabel(t,i,r){var s,o,l,c;let h="";h=(null==i?void 0:i.length)<=1?null!==(s=null==t?void 0:t.und)&&void 0!==s?s:"":i&&null!==(l=t[null===(o=i[0])||void 0===o?void 0:o.toLowerCase()])&&void 0!==l?l:"",r&&(h=null!==(c=t[r.toLowerCase()])&&void 0!==c?c:""),this.entityLabel=h}getLanguageLabel(t,i){return t===i?`${t}(${this.default})`:t}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["dxp-dc-ch-content-list-card-view"]],inputs:{entity:"entity",shouldShowUrl:"shouldShowUrl",editUrl:"editUrl",default:"default",selected:"selected"},outputs:{openDetailsCdf:"openDetailsCdf",openSyndicationDetails:"openSyndicationDetails",entitySelection:"entitySelection"},decls:43,vars:13,consts:[[1,"card","p-3","w-100","mb-0"],[1,"card-header"],[1,"card-title","me-auto","mb-0","overflow-hidden"],[1,"dropdown-ellipses",3,"matMenuTriggerFor"],[1,"fe","fe-more-vertical","fe-md"],[1,"content-view-menu"],["menu","matMenu"],["role","group",1,"btn-group-vertical"],["target","_blank","type","button","class","btn btn-white font-weight-normal",4,"ngIf"],["type","button",1,"btn","btn-white","font-weight-normal",3,"click"],["translate",""],[1,"card-body"],[1,"row"],["translate","",1,"col-3","card-text","text-truncate"],["target","_blank",1,"col-9",3,"title"],[1,"col-3","card-text","text-truncate"],[1,"col-9"],["class","row",4,"ngIf"],[1,"card-footer"],[1,"card-values","mt-3"],[1,"last-updated"],[4,"ngIf","ngIfElse"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"checked","click"],["emptyStateContainer",""],["target","_blank","type","button",1,"btn","btn-white","font-weight-normal"],[4,"ngFor","ngForOf"],[1,"col-9",3,"click"],[1,"col","mt-1","card-text","text-truncate"],[3,"status"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),e._uU(3),e.qZA(),e.TgZ(4,"a",3),e._UZ(5,"span",4),e.qZA(),e.TgZ(6,"mat-menu",5,6)(8,"div",7),e.YNc(9,Tn,3,1,"a",8),e.TgZ(10,"button",9),e.NdJ("click",function(){return i.openCdfDetailsModal(i.entity.uuid)}),e.TgZ(11,"span",10),e._uU(12,"[ViewDetails]"),e.qZA()(),e.TgZ(13,"button",9),e.NdJ("click",function(){return i.openSyndicationStatusModal(i.entity)}),e.TgZ(14,"span",10),e._uU(15,"[ViewSyndicationDetails]"),e.qZA()()()()(),e.TgZ(16,"div",11)(17,"div",12)(18,"div",13),e._uU(19,"[Source]"),e.qZA(),e.TgZ(20,"a",14),e._uU(21),e.qZA()(),e.TgZ(22,"div",12)(23,"div",15)(24,"span",10),e._uU(25,"[TYPE]"),e.qZA(),e._uU(26,": "),e.qZA(),e.TgZ(27,"div",16),e._uU(28),e.qZA()(),e.YNc(29,In,7,1,"div",17),e.YNc(30,Fn,6,1,"div",17),e.YNc(31,On,3,1,"div",17),e.qZA(),e.TgZ(32,"div",18)(33,"div",19)(34,"div",20)(35,"span",10),e._uU(36,"[LASTUPDATED]"),e.qZA(),e._uU(37,": "),e.YNc(38,Rn,3,4,"span",21),e.qZA(),e.TgZ(39,"div",22)(40,"input",23),e.NdJ("click",function(){return i.selection()}),e.qZA()(),e.YNc(41,Vn,2,0,"ng-template",null,24,e.W1O),e.qZA()()()),2&t){const r=e.MAs(7),s=e.MAs(42);e.xp6(3),e.hij(" ",i.entityLabel," "),e.xp6(1),e.Q6J("matMenuTriggerFor",r),e.xp6(5),e.Q6J("ngIf",i.shouldShowUrl),e.xp6(11),e.Q6J("title",i.entity.base_url),e.uIk("href",i.entity.base_url,e.LSH),e.xp6(1),e.hij(" ",i.entity.base_url," "),e.xp6(7),e.hij(" ",i.entity.entity_type," "),e.xp6(1),e.Q6J("ngIf",i.entity.bundle_label),e.xp6(1),e.Q6J("ngIf",i.entity.languages),e.xp6(1),e.Q6J("ngIf",i.entity.status),e.xp6(7),e.Q6J("ngIf",i.entity.modified)("ngIfElse",s),e.xp6(2),e.Q6J("checked",i.selected)}},dependencies:[p.sg,p.O5,Z.VK,Z.p6,A.Pi,at,p.uU],styles:["[_nghost-%COMP%]{display:flex;height:100%;margin-bottom:1rem}.last-updated[_ngcontent-%COMP%]{color:#52697a;font-size:.75rem}.versions[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding:.05rem}.card-values[_ngcontent-%COMP%]{display:flex;align-content:space-around;justify-content:space-between;align-items:center}  .content-view-menu{border-radius:6px!important;min-height:inherit!important}  .content-view-menu .mat-menu-content{padding:0!important}.card-header[_ngcontent-%COMP%], .card-body[_ngcontent-%COMP%]{margin:0 .75rem .75rem;padding:0}.card-header-title[_ngcontent-%COMP%]{font-weight:600;font-size:1rem}.card-body[_ngcontent-%COMP%]{margin-bottom:0}.card-footer[_ngcontent-%COMP%]{border-top:none;padding-top:0;margin-left:.75rem;margin-right:.75rem}"],changeDetection:0}),a})();function Zn(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.openEditSiteAssignmentModal())}),e._uU(1," [EditSiteAssignment] "),e.qZA()}}function Nn(a,n){1&a&&(e.TgZ(0,"span",24),e._uU(1,"*unsaved changes"),e.qZA())}function Yn(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"dxp-dc-ch-ui-autocomplete-select",25),e.NdJ("manageFilterClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.openManagedFilterModal())})("selectedChange",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.loadSavedFilter(r))}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.qZA()}if(2&a){const t=e.oxw().ngIf,i=e.oxw();e.Q6J("placeholder",e.lcZ(1,4,"[SavedFilters]"))("allOptions",t.filterOptions)("selected",i.selectedFilter)("manageFilterText",e.lcZ(2,6,"[ManageFilters]"))}}const Un=function(a){return{type:a}};function Bn(a,n){if(1&a&&(e.TgZ(0,"div",26),e._uU(1," [QueueItem] "),e.qZA()),2&a){const t=e.oxw().ngIf;e.Q6J("translateParams",e.VKq(1,Un,t.queueType))}}const $n=function(a,n){return{count:a,type:n}};function Hn(a,n){if(1&a&&(e.TgZ(0,"div",26),e._uU(1," [QueueItems] "),e.qZA()),2&a){const t=e.oxw().ngIf;e.Q6J("translateParams",e.WLB(1,$n,t.queueCount,t.queueType))}}function Qn(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"dxp-dc-ch-content-advanced-select-filter",27),e.NdJ("isAdvancedFilterChange",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.isAdvancedFilter=r)})("updateFilter",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.updateAdvanceFilter(r))})("clearAll",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearFilter())}),e.qZA()}if(2&a){const t=e.oxw(2);e.Q6J("filter",t.filter)("isAdvancedFilter",t.isAdvancedFilter)}}function jn(a,n){if(1&a&&(e.TgZ(0,"a",59)(1,"span",10),e._uU(2,"[Edit]"),e.qZA()()),2&a){const t=e.oxw().$implicit,i=e.oxw(7);e.uIk("href",i.getEditUrl(t),e.LSH)}}function Jn(a,n){if(1&a){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr",41)(2,"td",42)(3,"div")(4,"input",43),e.NdJ("click",function(){const s=e.CHM(t).$implicit,o=e.oxw(7);return e.KtG(o.selectEntity(s))}),e.qZA()()(),e.TgZ(5,"td",44)(6,"span",45),e._uU(7),e.qZA()(),e.TgZ(8,"td",46)(9,"span",45),e._uU(10),e.qZA()(),e.TgZ(11,"td",44),e._uU(12),e.qZA(),e.TgZ(13,"td",47),e._UZ(14,"dxp-dc-ch-content-status",48),e.qZA(),e.TgZ(15,"td",47),e._uU(16),e.qZA(),e.TgZ(17,"td",49)(18,"a",50),e._uU(19),e.qZA()(),e.TgZ(20,"td",47),e._uU(21),e.ALo(22,"date"),e.qZA(),e.TgZ(23,"td",51)(24,"a",52),e._UZ(25,"span",53),e.qZA(),e.TgZ(26,"mat-menu",54,55)(28,"div",56),e.YNc(29,jn,3,1,"a",57),e.TgZ(30,"button",58),e.NdJ("click",function(){const s=e.CHM(t).$implicit,o=e.oxw(7);return e.KtG(o.openCdfDetailsModal(s.uuid))}),e.TgZ(31,"span",10),e._uU(32,"[ViewDetails]"),e.qZA()(),e.TgZ(33,"button",58),e.NdJ("click",function(){const s=e.CHM(t).$implicit,o=e.oxw(7);return e.KtG(o.openSyndicationStatusModal(s))}),e.TgZ(34,"span",10),e._uU(35,"[ViewSyndicationDetails]"),e.qZA()()()()()(),e.BQk()}if(2&a){const t=n.$implicit,i=e.MAs(27),r=e.oxw(6).ngIf,s=e.oxw();e.xp6(4),e.Q6J("checked",s.selected.includes(t)),e.xp6(2),e.Q6J("title",s.getEntityLabel(t.labels,t.languages)),e.xp6(1),e.hij(" ",s.getEntityLabel(t.labels,t.languages)," "),e.xp6(2),e.Q6J("title",null==t?null:t.entity_type),e.xp6(1),e.hij(" ",t.entity_type," "),e.xp6(2),e.Oqu(null==t?null:t.bundle),e.xp6(2),e.s9C("status",null==t?null:t.status),e.xp6(2),e.hij(" ",s.getLabels(t.languages,t.default_language,r.default)," "),e.xp6(2),e.Q6J("title",null==t?null:t.base_url),e.uIk("href",null==t?null:t.base_url,e.LSH),e.xp6(1),e.hij(" ",null==t?null:t.base_url," "),e.xp6(2),e.Oqu(e.lcZ(22,14,t.modified)),e.xp6(3),e.Q6J("matMenuTriggerFor",i),e.xp6(5),e.Q6J("ngIf",s.shouldShowEntityUrl(t))}}function qn(a,n){if(1&a&&(e.ynx(0),e.YNc(1,Jn,36,16,"ng-container",40),e.BQk()),2&a){const t=e.oxw(5).ngIf,i=e.oxw();e.xp6(1),e.Q6J("cdkVirtualForOf",t.entitiesList)("cdkVirtualForTrackBy",i.trackByEntityId)}}function Gn(a,n){if(1&a&&(e.ynx(0),e.TgZ(1,"div",38)(2,"table",39)(3,"tbody"),e.YNc(4,qn,2,2,"ng-container",37),e.qZA()()(),e.BQk()),2&a){e.oxw(3);const t=e.MAs(8),i=e.oxw().ngIf;e.xp6(2),e.Q6J("ngClass",i.viewMode+"-view"),e.xp6(2),e.Q6J("ngIf",i.entitiesList.length>0)("ngIfElse",t)}}function zn(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"cdk-virtual-scroll-viewport",36),e.NdJ("scrolledIndexChange",function(r){e.CHM(t);const s=e.oxw(3).ngIf,o=e.oxw();return e.KtG(s.status.pending?o.noop:o.loadContent(r,s.viewMode,null==s.entitiesList?null:s.entitiesList.length))}),e.YNc(1,Gn,5,3,"ng-container",37),e.qZA()}if(2&a){e.oxw(2);const t=e.MAs(8),i=e.oxw().ngIf;e.xp6(1),e.Q6J("ngIf",i.entitiesList)("ngIfElse",t)}}function Kn(a,n){if(1&a&&(e.ynx(0),e.YNc(1,zn,2,2,"cdk-virtual-scroll-viewport",35),e.BQk()),2&a){e.oxw();const t=e.MAs(8),i=e.oxw().ngIf;e.xp6(1),e.Q6J("ngIf",i.entitiesList.length>0)("ngIfElse",t)}}function Wn(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"div",64)(1,"dxp-dc-ch-content-list-card-view",65),e.NdJ("openDetailsCdf",function(r){e.CHM(t);const s=e.oxw(5);return e.KtG(s.openCdfDetailsModal(r))})("openSyndicationDetails",function(r){e.CHM(t);const s=e.oxw(5);return e.KtG(s.openSyndicationStatusModal(r))})("entitySelection",function(r){e.CHM(t);const s=e.oxw(5);return e.KtG(s.selectEntity(r))}),e.qZA()()}if(2&a){const t=n.$implicit,i=n.index,r=e.oxw(4).ngIf,s=e.oxw();e.Q6J("ngClass",s.calculateColumnClass(i)),e.xp6(1),e.Q6J("entity",t)("shouldShowUrl",s.shouldShowEntityUrl(t))("editUrl",s.getEditUrl(t))("default",r.default)("selected",s.selected.includes(t))}}function Xn(a,n){if(1&a&&(e.ynx(0),e.TgZ(1,"div",61),e.YNc(2,Wn,2,6,"div",62),e._UZ(3,"hr",63),e.qZA(),e.BQk()),2&a){const t=e.oxw(3).ngIf;e.xp6(2),e.Q6J("ngForOf",t.entitiesList)}}function ea(a,n){if(1&a){const t=e.EpF();e.ynx(0),e.TgZ(1,"cdk-virtual-scroll-viewport",60),e.NdJ("scrolledIndexChange",function(r){e.CHM(t);const s=e.oxw(2).ngIf,o=e.oxw();return e.KtG(s.status.pending?o.noop:o.loadContent(r,s.viewMode,null==s.entitiesList?null:s.entitiesList.length))}),e.YNc(2,Xn,4,1,"ng-container",37),e.qZA(),e.BQk()}if(2&a){e.oxw();const t=e.MAs(8),i=e.oxw().ngIf;e.xp6(2),e.Q6J("ngIf",i.entitiesList)("ngIfElse",t)}}function ta(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"dxp-dc-ch-ui-cdf-details",66),e.NdJ("viewSyndicationDetailsDialog",function(r){e.CHM(t);const s=e.oxw(3);return e.KtG(s.openSyndicationStatusModal(r))}),e.qZA()}if(2&a){const t=e.oxw(3);e.Q6J("entity",t.viewDetailsDialogData.entity)("error",t.viewDetailsDialogData.error)}}function ia(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"dxp-dc-ch-content-syndication-details",67),e.NdJ("viewCDFDetailsDialog",function(r){e.CHM(t);const s=e.oxw(3);return e.KtG(s.openCdfDetailsModal(r))}),e.qZA()}if(2&a){const t=e.oxw(3);e.Q6J("entity",t.syndicationDetailsDialogData.entity)}}function na(a,n){if(1&a&&(e.TgZ(0,"table",68)(1,"tbody")(2,"tr")(3,"td",69)(4,"div",70)(5,"div",71)(6,"div",72)(7,"div",73)(8,"h2",10),e._uU(9," [NoContent] "),e.qZA()()()()()()()()()),2&a){const t=e.oxw(2).ngIf;e.Q6J("ngClass",t.viewMode+"-view")}}function aa(a,n){if(1&a){const t=e.EpF();e.ynx(0,28),e.YNc(1,Kn,2,2,"ng-container",29),e.YNc(2,ea,3,2,"ng-container",30),e.BQk(),e.TgZ(3,"dxp-dc-ch-ui-table-dialog",31),e.NdJ("isOpenChange",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.viewDetails=r)}),e.YNc(4,ta,1,2,"dxp-dc-ch-ui-cdf-details",32),e.qZA(),e.TgZ(5,"dxp-dc-ch-ui-table-dialog",31),e.NdJ("isOpenChange",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.viewSyndicationDetails=r)}),e.YNc(6,ia,1,1,"dxp-dc-ch-content-syndication-details",33),e.qZA(),e.YNc(7,na,10,1,"ng-template",null,34,e.W1O)}if(2&a){const t=e.oxw().ngIf,i=e.oxw();e.Q6J("ngSwitch",t.viewMode),e.xp6(2),e.Q6J("ngSwitchCase","card"),e.xp6(1),e.Q6J("isOpen",i.viewDetails),e.xp6(1),e.Q6J("ngIf",i.viewDetails),e.xp6(1),e.Q6J("isOpen",i.viewSyndicationDetails),e.xp6(1),e.Q6J("ngIf",i.viewSyndicationDetails)}}const ra=function(a){return{pressed:a}};function sa(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"dxp-page")(1,"dxp-page-title")(2,"div",1),e._uU(3,"[Content]"),e.qZA()(),e.TgZ(4,"dxp-page-actions")(5,"div",2),e.YNc(6,Zn,2,0,"button",3),e.TgZ(7,"button",4),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.openImportSiteModal())}),e._uU(8," [ImportToSite] "),e.qZA(),e.TgZ(9,"dxp-dc-ch-ui-view-mode-switcher",5),e.NdJ("valueChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.onViewModeUpdate(r))}),e.qZA()()(),e.TgZ(10,"dxp-page-content",6)(11,"div",7)(12,"div")(13,"dxp-dc-ch-ui-search",8),e.NdJ("update",function(r){e.CHM(t);const s=e.oxw();return s.assignFilterValue("metadata.search_criterion.search_term",r),e.KtG(s.onSearchUpdate())}),e.qZA(),e.TgZ(14,"button",9),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.toggleFilter())}),e.TgZ(15,"span",10),e._UZ(16,"span",11),e._uU(17,"[Filter]"),e.qZA()()(),e.TgZ(18,"div"),e.YNc(19,Nn,2,0,"span",12),e.YNc(20,Yn,3,8,"dxp-dc-ch-ui-autocomplete-select",13),e.qZA()(),e.YNc(21,Bn,2,3,"div",14),e.YNc(22,Hn,2,4,"div",14),e.YNc(23,Qn,1,2,"dxp-dc-ch-content-advanced-select-filter",15),e.TgZ(24,"div",16)(25,"div",17)(26,"div",18)(27,"dxp-dc-ch-content-select-filter",19),e.NdJ("clearAll",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.clearFilter())}),e.qZA(),e.TgZ(28,"dxp-dc-ch-content-content-list-header",20),e.NdJ("filterChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.filter=r)})("filterUpdate",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onSearchUpdate())})("sortUpdate",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.onSortUpdate(r))})("selectAllUpdate",function(r){const o=e.CHM(t).ngIf,l=e.oxw();return e.KtG(l.onSelectAllUpdate(r,o.entitiesList))}),e.qZA()(),e.TgZ(29,"dxp-web-ui-state-container",21),e.YNc(30,aa,9,6,"ng-template",null,22,e.W1O),e.qZA()()()()()}if(2&a){const t=n.ngIf,i=e.MAs(31),r=e.oxw();e.xp6(6),e.Q6J("ngIf",null==r.selectedFilter?null:r.selectedFilter.name),e.xp6(1),e.Q6J("disabled",0===r.selected.length),e.xp6(2),e.Q6J("value",t.viewMode),e.xp6(4),e.Q6J("value",r.filter.metadata.search_criterion.search_term),e.xp6(1),e.Q6J("ngClass",e.VKq(29,ra,r.isAdvancedFilter)),e.xp6(5),e.Q6J("ngIf",r.savedFilterChanged()),e.xp6(1),e.Q6J("ngIf",t.filterOptions&&t.filterOptions.length>0),e.xp6(1),e.Q6J("ngIf",1===t.queueCount),e.xp6(1),e.Q6J("ngIf",t.queueCount>1),e.xp6(1),e.Q6J("ngIf",r.isAdvancedFilter),e.xp6(3),e.Q6J("ngClass",t.viewMode+"-view"),e.xp6(1),e.Q6J("typeOptions",r.filter.metadata.search_criterion.entity_types)("sourceOptions",r.filter.metadata.search_criterion.source)("bundleOptions",r.filter.metadata.search_criterion.bundles)("fromDateOptions",r.filter.metadata.search_criterion.fromDate)("toDateOptions",r.filter.metadata.search_criterion.toDate)("searchText",r.filter.metadata.search_criterion.search_term)("tags",r.filter.metadata.search_criterion.tags)("entitiesListNumber",null==t.entitiesList?null:t.entitiesList.length)("savedFilterChanged",r.savedFilterChanged())("loadedFilter",r.loadedFilter)("filter",r.filter),e.xp6(1),e.Q6J("selected",r.selected)("settings$",r.settings$)("filter",r.filter),e.xp6(1),e.Q6J("height","400px")("state",t.status)("resolved",i)("ngClass",t.viewMode+"-view")}}const oa=function(a,n,t,i,r,s,o){return{status:a,queueCount:n,queueType:t,viewMode:i,entitiesList:r,filterOptions:s,default:o}},la=[{path:"",canActivate:[],component:(()=>{class a{constructor(t,i,r,s,o,l,c,h,m,C){this.actions$=t,this.dialog=i,this.service=r,this.settingsService=s,this.filterService=o,this.config=l,this.contentDetailService=c,this.entityUrlBuilder=h,this.route=m,this.router=C,this.activeView="list",this.start=0,this.limit=15,this.prevEnd=-1,this.prevTotal=-2,this.selected=[],this.isAdvancedFilter=!1,this.filter=ce,this.sort={value:"data.modified",direction:"desc"},this.viewMode$=(0,K.of)("list"),this.subscription=new f.w,this.viewSyndicationDetails=!1,this.viewDetails=!1,this.noop=()=>{}}ngOnInit(){this.viewMode$=this.route.queryParams.pipe((0,w.U)(t=>{var i;return null!==(i=t.view_mode)&&void 0!==i?i:"list"})),this.status$=(0,U.aj)([this.service.getLoadingStatus(),this.settingsService.status$,this.filterService.status$]).pipe((0,w.U)(([t])=>({content:t}))),this.subscription.add(this.bindCurrentFilter()),this.subscription.add(this.bindFilterDeletion()),this.subscription.add(this.bindFilterSave()),this.settings$=this.settingsService.getSettings(),this.entitiesList$=this.service.getLoadedContent(),this.filterList$=this.filterService.getFiltersInDIFormat(this.settings$),this.filterOptions$=this.filterList$.pipe((0,w.U)(t=>t.map(i=>({name:i.name,value:i.uuid})))),this.clearFilter(),this.filterService.getAll(),this.config.getInstant("publisher")?(this.queueType="[Export]",this.queueCount$=this.config.get("exportQueueCount")):(this.queueType="[Import]",this.queueCount$=this.config.get("importQueueCount"))}getEditUrl(t){return this.entityUrlBuilder.getEditUrl(t)}shouldShowEntityUrl(t){return this.entityUrlBuilder.shouldShowEntityUrl(t)}bindCurrentFilter(){return this.filterService.getCurrentFilter$().subscribe(t=>{this.filter=Object.assign({},JSON.parse(JSON.stringify(t))),this.selectedFilter={name:t.name,value:t.uuid},this.loadedFilter=t})}ngOnDestroy(){this.service.clear(),this.subscription.unsubscribe()}clearFilter(){this.assignFilterValue("metadata.search_criterion.search_term",null),this.assignFilterValue("metadata.search_criterion.source",[]),this.assignFilterValue("metadata.search_criterion.entity_types",[]),this.assignFilterValue("metadata.search_criterion.bundles",[]),this.assignFilterValue("metadata.search_criterion.fromDate",null),this.assignFilterValue("metadata.search_criterion.toDate",null),this.assignFilterValue("metadata.search_criterion.tags",[]),this.assignFilterValue("data",{}),this.assignFilterValue("name",""),this.assignFilterValue("uuid",""),this.selectedFilter=null,this.onSearchUpdate()}updateAdvanceFilter(t){this.assignFilterValue("metadata.search_criterion.tags",t),this.onSearchUpdate()}savedFilterChanged(){var t,i;return(null===(t=this.selectedFilter)||void 0===t?void 0:t.name)&&""!==(null===(i=this.selectedFilter)||void 0===i?void 0:i.name)&&!ni()(this.filter,this.loadedFilter)}trackByEntityId(t,i){return i.uuid}onSelectAllUpdate(t,i){this.selected=t?[...i]:[]}selectEntity(t){this.selected.includes(t)?ei()(this.selected,t):this.selected.push(t)}openImportSiteModal(){this.dialog.open(mi,{data:{ids:this.extractEntityIds(this.selected)},position:{right:"0px"},backdropClass:"right-side-modal-backdrop",panelClass:"right-side-modal-panel"})}openSyndicationStatusModal(t){this.syndicationDetailsDialogData={entity:t},this.viewSyndicationDetails=!0,this.viewDetails=!1}openCdfDetailsModal(t){this.viewSyndicationDetails=!1,this.contentDetailService.get("/"+t).pipe((0,B.q)(1)).subscribe(r=>{this.viewDetailsDialogData={entity:r}},r=>{this.viewDetailsDialogData={error:r}}),this.viewDetails=!0}loadContent(t,i,r){var s;let o=null===(s=this.viewport)||void 0===s?void 0:s.getRenderedRange().end;"card"===i&&(o=3*(t+3)),(this.prevTotal!=r||this.prevEnd!=this.prevTotal)&&(this.prevEnd=o,this.prevTotal=r,(0,U.aj)([this.service.getPagination(),(0,K.of)(o),(0,K.of)(r)]).pipe((0,B.q)(1),(0,ai.h)(([l,c,h])=>c===h&&l.total>l.start+l.limit),(0,pe.b)(([l])=>this.service.loadPages(l.start+this.limit,this.limit,Object.assign({},this.filter),this.sort))).subscribe())}onSearchUpdate(){var t,i;this.service.clear(),null===(t=this.viewport)||void 0===t||t.scrollToIndex(0),null===(i=this.viewport)||void 0===i||i.setTotalContentSize(0),this.service.loadPages(this.start,this.limit,Object.assign({},this.filter),this.sort),this.subscription.add(this.viewMode$.pipe((0,B.q)(1)).subscribe(r=>{this.loadContent(null,r,0)}))}onSortUpdate(t){var i,r;this.sort=t,this.service.clear(),null===(i=this.viewport)||void 0===i||i.scrollToIndex(0),null===(r=this.viewport)||void 0===r||r.setTotalContentSize(0),this.service.loadPages(this.start,this.limit,Object.assign({},this.filter),this.sort),this.subscription.add(this.viewMode$.pipe((0,B.q)(1)).subscribe(s=>{this.loadContent(null,s,0)}))}loadSavedFilter(t){this.filterSubscription=this.filterList$.pipe((0,w.U)(i=>i.find(r=>r.uuid===t.value))).pipe((0,B.q)(1),(0,Ae.w)(i=>this.loadFilter(i))).subscribe(i=>{var r;null===(r=this.filterSubscription)||void 0===r||r.unsubscribe(),this.filter=i,this.selectedFilter={name:i.name,value:i.uuid},this.loadedFilter=i,this.service.clear(),this.service.loadPages(this.start,this.limit,Object.assign({},this.filter))})}loadFilter(t){if((0,he.isEmpty)(t.metadata.search_criterion.tags))return(0,K.of)(t);"string"==typeof t.metadata.search_criterion.tags&&(t.metadata.search_criterion.tags=We(t.metadata.search_criterion.tags));const i=t.metadata.search_criterion.tags.map(r=>this.contentDetailService.get("/"+r.value.value).pipe((0,w.U)(s=>({uuid:s.uuid,name:s.attributes.label.value.und}))));return(0,U.aj)(i).pipe((0,Ae.w)(r=>(t.metadata.search_criterion.tags.forEach(s=>{const o=r.find(l=>s.value.value===l.uuid);s.value.name=o.name}),(0,K.of)(t))))}bindFilterSave(){return this.actions$.pipe((0,k.Qo)("Filter"),(0,k.TR)(k.WD.SAVE_ADD_ONE_SUCCESS)).subscribe(()=>{this.filterService.getCurrentFilter$().pipe((0,Ae.w)(t=>this.loadFilter(t))).subscribe(t=>{this.filter=t,this.selectedFilter={name:t.name,value:t.uuid},this.loadedFilter=t})})}assignFilterValue(t,i){this.filter=Object.assign({},JSON.parse(JSON.stringify(this.filter))),ue()(this.filter,t,i)}toggleFilter(){this.isAdvancedFilter=!this.isAdvancedFilter}bindFilterDeletion(){return this.actions$.pipe((0,k.Qo)("Filter"),(0,k.TR)(k.WD.SAVE_DELETE_ONE_SUCCESS)).subscribe(t=>{const i=t.payload.data.substr(1);this.filterOptions$=this.filterOptions$.pipe((0,w.U)(r=>r.filter(s=>s.value!==i))),this.filterList$=this.filterList$.pipe((0,w.U)(r=>r.filter(s=>s.uuid!==i))),this.clearFilter()})}onViewModeUpdate(t){this.router.navigate(["./"],{queryParams:{view_mode:t||"list"},relativeTo:this.route,queryParamsHandling:"merge"})}calculateColumnClass(t){return t%3==0?"col-first":t%3==2?"col-last":""}extractEntityIds(t){const i=[];return t.forEach(r=>{i.push(r.uuid)}),i}openEditSiteAssignmentModal(){this.dialog.open(_e,{data:{filter:this.filter,enableAutomaticSyndication:!0},position:{right:"0px"},backdropClass:"right-side-modal-backdrop",panelClass:"right-side-modal-panel"})}openManagedFilterModal(){this.dialog.open(ci,{data:{filters:this.filterList$},position:{right:"0px"},backdropClass:"right-side-modal-backdrop",panelClass:"right-side-modal-panel"}).afterClosed().subscribe(t=>this.manageFilterActions(t))}openDeleteFilterModal(t){this.dialog.open(tt,{data:{filter:t},panelClass:"modal-dialog-centered"})}openEditFilterModal(t){this.loadSavedFilter({name:t.name,value:t.uuid}),this.dialog.open(_e,{data:{filter:t,enableAutomaticSyndication:!0},position:{right:"0px"},backdropClass:"right-side-modal-backdrop",panelClass:"right-side-modal-panel"})}manageFilterActions(t){const i=null==t?void 0:t.filter;if(i)switch(t.action){case"view":default:this.loadSavedFilter({name:i.name,value:i.uuid});break;case"edit":this.openEditFilterModal(i);break;case"delete":this.loadSavedFilter({name:i.name,value:i.uuid}),this.openDeleteFilterModal(i)}}getEntityLabel(t,i){var r,s,o;return(null==i?void 0:i.length)<=1?null!==(r=null==t?void 0:t.und)&&void 0!==r?r:"":null!==(o=t[null===(s=i[0])||void 0===s?void 0:s.toLowerCase()])&&void 0!==o?o:""}getLabels(t,i,r){return t.map(s=>s===i?`${s}(${r})`:s).join(", ")}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(Me.eX),e.Y36(R.uw),e.Y36(Ce),e.Y36(Wt.JS),e.Y36(ye),e.Y36(Q.E4),e.Y36(jt),e.Y36(Xe),e.Y36(Se.gz),e.Y36(Se.F0))},a.\u0275cmp=e.Xpm({type:a,selectors:[["dxp-dc-ch-content-list"]],viewQuery:function(t,i){if(1&t&&e.Gf(_.N7,5),2&t){let r;e.iGM(r=e.CRH())&&(i.viewport=r.first)}},decls:9,vars:25,consts:[[4,"ngIf"],["translate","",1,"font-weight-normal","font-size-lg"],[1,"h-100","d-flex","align-items-end","d-flex","align-items-center"],["translate","","type","button","class","btn btn-outline-primary me-2",3,"click",4,"ngIf"],["translate","","type","button",1,"btn","btn-outline-primary","me-2",3,"disabled","click"],[3,"value","valueChange"],[1,"vh-100"],[1,"d-flex","align-items-center","justify-content-between","mb-4"],[1,"d-inline-block",3,"value","update"],["type","button",1,"btn","btn-link","d-inline-block","font-weight-normal","ms-2",3,"ngClass","click"],["translate",""],[1,"fe","fe-filter","me-2"],["class","font-italic me-2",4,"ngIf"],[3,"placeholder","allOptions","selected","manageFilterText","manageFilterClick","selectedChange",4,"ngIf"],["class","queue-count","translate","",3,"translateParams",4,"ngIf"],[3,"filter","isAdvancedFilter","isAdvancedFilterChange","updateFilter","clearAll",4,"ngIf"],[1,"border-0"],[1,"table-width"],[1,"card","mb-0","filter-header",3,"ngClass"],[3,"typeOptions","sourceOptions","bundleOptions","fromDateOptions","toDateOptions","searchText","tags","entitiesListNumber","savedFilterChanged","loadedFilter","filter","clearAll"],[3,"selected","settings$","filter","filterChange","filterUpdate","sortUpdate","selectAllUpdate"],[3,"height","state","resolved","ngClass"],["resolved",""],["translate","","type","button",1,"btn","btn-outline-primary","me-2",3,"click"],[1,"font-italic","me-2"],[3,"placeholder","allOptions","selected","manageFilterText","manageFilterClick","selectedChange"],["translate","",1,"queue-count",3,"translateParams"],[3,"filter","isAdvancedFilter","isAdvancedFilterChange","updateFilter","clearAll"],[3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],[3,"isOpen","isOpenChange"],[3,"entity","error","viewSyndicationDetailsDialog",4,"ngIf"],[3,"entity","viewCDFDetailsDialog",4,"ngIf"],["emptyStateContainer",""],["itemSize","39","style","overflow-x: unset;",3,"scrolledIndexChange",4,"ngIf","ngIfElse"],["itemSize","39",2,"overflow-x","unset",3,"scrolledIndexChange"],[4,"ngIf","ngIfElse"],[1,"content-list-table-wrapper"],[1,"table","table-sm","table-borderless","entities-list-table","card",2,"table-layout","fixed","word-wrap","break-word",3,"ngClass"],[4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"border-bottom"],[1,"w-3"],["type","checkbox",3,"checked","click"],[1,"w-15","text-truncate"],[1,"ms-0","d-inline-block","text-truncate","column-name",3,"title"],[1,"w-10","text-truncate"],[1,"w-15"],[3,"status"],[1,"w-20","text-truncate"],["target","_blank",1,"d-inline-block","text-truncate","column-source",3,"title"],[1,"text-center","w-7"],[1,"dropdown-ellipses",3,"matMenuTriggerFor"],[1,"fe","fe-more-vertical","fe-md"],[1,"content-view-menu"],["menu","matMenu"],["role","group",1,"btn-group-vertical"],["target","_blank","type","button","class","btn btn-white font-weight-normal",4,"ngIf"],["type","button",1,"btn","btn-white","fw-normal",3,"click"],["target","_blank","type","button",1,"btn","btn-white","font-weight-normal"],["itemSize","257",2,"overflow-x","unset",3,"scrolledIndexChange"],[1,"w-100","m-0","mt-3","card-view-container"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"content-list-end-separator"],[3,"ngClass"],[3,"entity","shouldShowUrl","editUrl","default","selected","openDetailsCdf","openSyndicationDetails","entitySelection"],[3,"entity","error","viewSyndicationDetailsDialog"],[3,"entity","viewCDFDetailsDialog"],[1,"table","table-sm","table-borderless","entities-list-table",2,"table-layout","fixed","word-wrap","break-word",3,"ngClass"],["colspan","8"],[1,"empty"],[1,"card-body","text-center"],[1,"row","justify-content-center"],[1,"col-12","col-md-10","col-xl-8"]],template:function(t,i){1&t&&(e.YNc(0,sa,32,31,"dxp-page",0),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"lowercase"),e.ALo(4,"translate"),e.ALo(5,"async"),e.ALo(6,"async"),e.ALo(7,"async"),e.ALo(8,"translate")),2&t&&e.Q6J("ngIf",e.Hh0(17,oa,e.lcZ(1,1,i.status$),e.lcZ(2,3,i.queueCount$),e.lcZ(3,5,e.lcZ(4,7,i.queueType)),e.lcZ(5,9,i.viewMode$),e.lcZ(6,11,i.entitiesList$),e.lcZ(7,13,i.filterOptions$),e.lcZ(8,15,"[Default]")))},dependencies:[p.mk,p.sg,p.O5,p.RF,p.n9,p.ED,Z.VK,Z.p6,_.xd,_.x0,_.N7,A.Pi,Oi.q,Ri.g,Vi.e,Li.k,Zi.m,Ni.F,F.yP,F.YT,F.TM,F.II,rn,pn,wn,kn,Ln,at,p.Ov,p.i8,p.uU,A.X$],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], [_nghost-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:0;margin-left:.5rem;vertical-align:middle}button.pressed[_ngcontent-%COMP%]{background-color:#f0f3f5;box-shadow:0 0 0 .125rem #a7daf1}.table-width[_ngcontent-%COMP%]{width:100%}td[_ngcontent-%COMP%]{padding:1rem}.table-sm[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-right:0}.overflow-x-scroll[_ngcontent-%COMP%]{overflow-x:scroll}.table-header[_ngcontent-%COMP%]{background:rgba(249,250,252,.502)}.border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid #c2ced6}.column-name[_ngcontent-%COMP%]{max-width:150px}.column-source[_ngcontent-%COMP%]{max-width:250px}.table-width[_ngcontent-%COMP%]{height:calc(100vh - 270px);display:flex;flex-direction:column}dxp-web-ui-state-container[_ngcontent-%COMP%]{height:100%;flex:0 1 100%}  dxp-web-ui-state-container>div{height:100%}cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{height:100%}cdk-virtual-scroll-viewport[_ngcontent-%COMP%]::-webkit-scrollbar{width:0}  .content-view-menu{border-radius:6px!important}  .content-view-menu .mat-menu-content{padding:0!important}.dxp-web-ui-state-container[_ngcontent-%COMP%]{box-shadow:none}dxp-dc-ch-content-content-list-header[_ngcontent-%COMP%]{padding:0 1.125rem;border-bottom:.0625rem solid #e0e6eb}dxp-dc-ch-content-content-list-header[_ngcontent-%COMP%]     thead{border:unset!important}dxp-dc-ch-content-content-list-header[_ngcontent-%COMP%]     thead th{border:unset}table.card[_ngcontent-%COMP%]{display:table;border:unset}.card-view-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;grid-gap:12px}.card-header-title[_ngcontent-%COMP%]{max-width:97%}  .filter-header.list-view{border-bottom-right-radius:0;border-bottom-left-radius:0;border-bottom-width:0}  .filter-header.card-view thead{border-bottom-width:0!important}.card-view[_ngcontent-%COMP%]   dxp-dc-ch-content-content-list-header[_ngcontent-%COMP%]{border-bottom:none}.card-view.dxp-web-ui-state-container[_ngcontent-%COMP%]{background:none;border:none}  dxp-web-ui-state-container.list-view{padding-top:0}  dxp-web-ui-state-container.list-view table{border-top-left-radius:0;border-top-right-radius:0}  .cdk-virtual-scroll-content-wrapper tr:last-child{border-bottom:none!important}  .content-list-table-wrapper{border-bottom-left-radius:10px;border-bottom-right-radius:10px;border:1px solid #e0e6eb;border-width:0 1px 1px 1px;padding:0 1.125rem;background-color:#fff}  .card-view .cdk-virtual-scroll-content-wrapper{padding:0}  .mat-menu-content .btn{font-weight:400}.content-list-end-separator[_ngcontent-%COMP%]{visibility:hidden;height:50px}"]}),a})()}];let da=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[p.ez,Se.Bz.forChild(la)]}),a})();var ca=d(44287);let ha=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[Pe,g.XK],imports:[p.ez,R.Is,Z.Tx,Pe,Ut,g.XK,Ke.LD,_.Cl,A.aw.forChild(),Bt.xx,ca.N8,we.NN,da,$t,Qt,Kt.kn,y.Bb,L.c]}),a})()},95003:E=>{E.exports=function b(d,p,y,g){for(var S=y-1,I=d.length;++S<I;)if(g(d[S],p))return S;return-1}},36314:(E,b,d)=>{var p=d(19606),y=d(41208),g=d(95003),S=d(56935),I=d(89255),e=Array.prototype.splice;E.exports=function M(_,u,f,P){var x=P?g:y,v=-1,D=u.length,V=_;for(_===u&&(u=I(u)),f&&(V=p(_,S(f)));++v<D;)for(var L=0,J=u[v],q=f?f(J):J;(L=x(V,q,L,P))>-1;)V!==_&&e.call(V,L,1),e.call(_,L,1);return _}},94667:(E,b,d)=>{var p=d(17270);E.exports=function y(g,S){return p(g,S)}},90801:(E,b,d)=>{var g=d(86667)(d(32828));E.exports=g},32828:(E,b,d)=>{var p=d(36314);E.exports=function y(g,S){return g&&g.length&&S&&S.length?p(g,S):g}},72443:(E,b,d)=>{var p=d(34643);E.exports=function y(g,S,I){return null==g?g:p(g,S,I)}},92776:(E,b,d)=>{"use strict";var y=d(68475),g=d(85525),S=d(34329),I=d(58663),W=function(){function M(_){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,_&&(this._ctorUnsubscribe=!0,this._unsubscribe=_)}return M.prototype.unsubscribe=function(){var _;if(!this.closed){var u=this,f=u._parentOrParents,P=u._ctorUnsubscribe,x=u._unsubscribe,v=u._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,f instanceof M)f.remove(this);else if(null!==f)for(var D=0;D<f.length;++D)f[D].remove(this);if(S.isFunction(x)){P&&(this._unsubscribe=void 0);try{x.call(this)}catch(q){_=q instanceof I.UnsubscriptionError?e(q.errors):[q]}}if(y.isArray(v)){D=-1;for(var L=v.length;++D<L;){var J=v[D];if(g.isObject(J))try{J.unsubscribe()}catch(X){_=_||[],X instanceof I.UnsubscriptionError?_=_.concat(e(X.errors)):_.push(X)}}}if(_)throw new I.UnsubscriptionError(_)}},M.prototype.add=function(_){var u=_;if(!_)return M.EMPTY;switch(typeof _){case"function":u=new M(_);case"object":if(u===this||u.closed||"function"!=typeof u.unsubscribe)return u;if(this.closed)return u.unsubscribe(),u;if(!(u instanceof M)){var f=u;(u=new M)._subscriptions=[f]}break;default:throw new Error("unrecognized teardown "+_+" added to Subscription.")}var P=u._parentOrParents;if(null===P)u._parentOrParents=this;else if(P instanceof M){if(P===this)return u;u._parentOrParents=[P,this]}else{if(-1!==P.indexOf(this))return u;P.push(this)}var x=this._subscriptions;return null===x?this._subscriptions=[u]:x.push(u),u},M.prototype.remove=function(_){var u=this._subscriptions;if(u){var f=u.indexOf(_);-1!==f&&u.splice(f,1)}},M.EMPTY=((_=new M).closed=!0,_),M;var _}();function e(M){return M.reduce(function(_,u){return _.concat(u instanceof I.UnsubscriptionError?u.errors:u)},[])}b.w=W},58663:(E,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function p(y){return Error.call(this),this.message=y?y.length+" errors occurred during unsubscription:\n"+y.map(function(g,S){return S+1+") "+g.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=y,this}return p.prototype=Object.create(Error.prototype),p}();b.UnsubscriptionError=d},68475:(E,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.isArray=Array.isArray||function(d){return d&&"number"==typeof d.length}},34329:(E,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.isFunction=function d(p){return"function"==typeof p}},85525:(E,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.isObject=function d(p){return null!==p&&"object"==typeof p}}}]);