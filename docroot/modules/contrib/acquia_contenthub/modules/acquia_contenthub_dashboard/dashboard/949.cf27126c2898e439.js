var ok=Object.defineProperty,rk=Object.defineProperties,ak=Object.getOwnPropertyDescriptors,Sf=Object.getOwnPropertySymbols,lk=Object.prototype.hasOwnProperty,ck=Object.prototype.propertyIsEnumerable,Df=(G,B,b)=>B in G?ok(G,B,{enumerable:!0,configurable:!0,writable:!0,value:b}):G[B]=b,Io=(G,B)=>{for(var b in B||(B={}))lk.call(B,b)&&Df(G,b,B[b]);if(Sf)for(var b of Sf(B))ck.call(B,b)&&Df(G,b,B[b]);return G},Po=(G,B)=>rk(G,ak(B));(self.webpackChunkdc_ch=self.webpackChunkdc_ch||[]).push([[949],{34949:(G,B,b)=>{"use strict";b.r(B),b.d(B,{DcChDashboardFeatureModule:()=>sk});var y={};b.r(y),b.d(y,{forceCenter:()=>vm,forceCollide:()=>jl,forceLink:()=>Yl,forceManyBody:()=>Xl,forceRadial:()=>$m,forceSimulation:()=>Zl,forceX:()=>Ym,forceY:()=>Zm});var O={};b.r(O),b.d(O,{dispatch:()=>Go});var C={};b.r(C),b.d(C,{interval:()=>Jm,now:()=>Mn,timeout:()=>Vo,timer:()=>vs,timerFlush:()=>sl});var D=b(10210),S=b(97722),x=b(44386),_=b(18592),f=b(37166),g=b(86670),r=b(70074);let h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[D.ez]}),e})();var p=b(8330),w=b(62285),T=b(70655),M=b(36226);function A(){}function I(e){return null==e?A:function(){return this.querySelector(e)}}function R(){return[]}function U(e){return null==e?R:function(){return this.querySelectorAll(e)}}function K(e){return function(){return this.matches(e)}}function it(e){return new Array(e.length)}function H(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}function W(e,n,t,i,s,o){for(var l,a=0,c=n.length,d=o.length;a<d;++a)(l=n[a])?(l.__data__=o[a],i[a]=l):t[a]=new H(e,o[a]);for(;a<c;++a)(l=n[a])&&(s[a]=l)}function Q(e,n,t,i,s,o,a){var l,c,N,d={},u=n.length,m=o.length,v=new Array(u);for(l=0;l<u;++l)(c=n[l])&&(v[l]=N="$"+a.call(c,c.__data__,l,n),N in d?s[l]=c:d[N]=c);for(l=0;l<m;++l)(c=d[N="$"+a.call(e,o[l],l,o)])?(i[l]=c,c.__data__=o[l],d[N]=null):t[l]=new H(e,o[l]);for(l=0;l<u;++l)(c=n[l])&&d[v[l]]===c&&(s[l]=c)}function lt(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}H.prototype={constructor:H,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var pt="http://www.w3.org/1999/xhtml";const vt={svg:"http://www.w3.org/2000/svg",xhtml:pt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function bt(e){var n=e+="",t=n.indexOf(":");return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),vt.hasOwnProperty(n)?{space:vt[n],local:e}:e}function Nt(e){return function(){this.removeAttribute(e)}}function Lt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ee(e,n){return function(){this.setAttribute(e,n)}}function Ut(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function te(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}function sn(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}function ni(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Nf(e){return function(){this.style.removeProperty(e)}}function Tf(e,n,t){return function(){this.style.setProperty(e,n,t)}}function Cf(e,n,t){return function(){var i=n.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,t)}}function Tn(e,n){return e.style.getPropertyValue(n)||ni(e).getComputedStyle(e,null).getPropertyValue(n)}function Ef(e){return function(){delete this[e]}}function kf(e,n){return function(){this[e]=n}}function Of(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}function Fa(e){return e.trim().split(/^|\s+/)}function Ro(e){return e.classList||new La(e)}function La(e){this._node=e,this._names=Fa(e.getAttribute("class")||"")}function Ba(e,n){for(var t=Ro(e),i=-1,s=n.length;++i<s;)t.add(n[i])}function Ga(e,n){for(var t=Ro(e),i=-1,s=n.length;++i<s;)t.remove(n[i])}function If(e){return function(){Ba(this,e)}}function Pf(e){return function(){Ga(this,e)}}function Rf(e,n){return function(){(n.apply(this,arguments)?Ba:Ga)(this,e)}}function Lf(){this.textContent=""}function Bf(e){return function(){this.textContent=e}}function Gf(e){return function(){var n=e.apply(this,arguments);this.textContent=null==n?"":n}}function Vf(){this.innerHTML=""}function jf(e){return function(){this.innerHTML=e}}function zf(e){return function(){var n=e.apply(this,arguments);this.innerHTML=null==n?"":n}}function Wf(){this.nextSibling&&this.parentNode.appendChild(this)}function Yf(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Xf(e){return function(){var n=this.ownerDocument,t=this.namespaceURI;return t===pt&&n.documentElement.namespaceURI===pt?n.createElement(e):n.createElementNS(t,e)}}function Jf(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ha(e){var n=bt(e);return(n.local?Jf:Xf)(n)}function Kf(){return null}function tg(){var e=this.parentNode;e&&e.removeChild(this)}function ng(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function ig(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}La.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Va={},on=null;function ag(e,n,t){return e=ja(e,n,t),function(i){var s=i.relatedTarget;(!s||s!==this&&!(8&s.compareDocumentPosition(this)))&&e.call(this,i)}}function ja(e,n,t){return function(i){var s=on;on=i;try{e.call(this,this.__data__,n,t)}finally{on=s}}}function lg(e){return e.trim().split(/^|\s+/).map(function(n){var t="",i=n.indexOf(".");return i>=0&&(t=n.slice(i+1),n=n.slice(0,i)),{type:n,name:t}})}function cg(e){return function(){var n=this.__on;if(n){for(var o,t=0,i=-1,s=n.length;t<s;++t)o=n[t],e.type&&o.type!==e.type||o.name!==e.name?n[++i]=o:this.removeEventListener(o.type,o.listener,o.capture);++i?n.length=i:delete this.__on}}}function dg(e,n,t){var i=Va.hasOwnProperty(e.type)?ag:ja;return function(s,o,a){var c,l=this.__on,d=i(n,o,a);if(l)for(var u=0,m=l.length;u<m;++u)if((c=l[u]).type===e.type&&c.name===e.name)return this.removeEventListener(c.type,c.listener,c.capture),this.addEventListener(c.type,c.listener=d,c.capture=t),void(c.value=n);this.addEventListener(e.type,d,t),c={type:e.type,name:e.name,value:n,listener:d,capture:t},l?l.push(c):this.__on=[c]}}function za(e,n,t){var i=ni(e),s=i.CustomEvent;"function"==typeof s?s=new s(n,t):(s=i.document.createEvent("Event"),t?(s.initEvent(n,t.bubbles,t.cancelable),s.detail=t.detail):s.initEvent(n,!1,!1)),e.dispatchEvent(s)}function hg(e,n){return function(){return za(this,e,n)}}function fg(e,n){return function(){return za(this,e,n.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Va={mouseenter:"mouseover",mouseleave:"mouseout"}));var Ua=[null];function ue(e,n){this._groups=e,this._parents=n}function Wa(){return new ue([[document.documentElement]],Ua)}ue.prototype=Wa.prototype={constructor:ue,select:function L(e){"function"!=typeof e&&(e=I(e));for(var n=this._groups,t=n.length,i=new Array(t),s=0;s<t;++s)for(var c,d,o=n[s],a=o.length,l=i[s]=new Array(a),u=0;u<a;++u)(c=o[u])&&(d=e.call(c,c.__data__,u,o))&&("__data__"in c&&(d.__data__=c.__data__),l[u]=d);return new ue(i,this._parents)},selectAll:function J(e){"function"!=typeof e&&(e=U(e));for(var n=this._groups,t=n.length,i=[],s=[],o=0;o<t;++o)for(var c,a=n[o],l=a.length,d=0;d<l;++d)(c=a[d])&&(i.push(e.call(c,c.__data__,d,a)),s.push(c));return new ue(i,s)},filter:function X(e){"function"!=typeof e&&(e=K(e));for(var n=this._groups,t=n.length,i=new Array(t),s=0;s<t;++s)for(var c,o=n[s],a=o.length,l=i[s]=[],d=0;d<a;++d)(c=o[d])&&e.call(c,c.__data__,d,o)&&l.push(c);return new ue(i,this._parents)},data:function at(e,n){if(!e)return N=new Array(this.size()),d=-1,this.each(function(ht){N[++d]=ht}),N;var t=n?Q:W,i=this._parents,s=this._groups;"function"!=typeof e&&(e=function j(e){return function(){return e}}(e));for(var o=s.length,a=new Array(o),l=new Array(o),c=new Array(o),d=0;d<o;++d){var u=i[d],m=s[d],v=m.length,N=e.call(u,u&&u.__data__,d,i),E=N.length,k=l[d]=new Array(E),P=a[d]=new Array(E);t(u,m,k,P,c[d]=new Array(v),N,n);for(var st,et,Z=0,q=0;Z<E;++Z)if(st=k[Z]){for(Z>=q&&(q=Z+1);!(et=P[q])&&++q<E;);st._next=et||null}}return(a=new ue(a,i))._enter=l,a._exit=c,a},enter:function F(){return new ue(this._enter||this._groups.map(it),this._parents)},exit:function Y(){return new ue(this._exit||this._groups.map(it),this._parents)},join:function z(e,n,t){var i=this.enter(),s=this,o=this.exit();return i="function"==typeof e?e(i):i.append(e+""),null!=n&&(s=n(s)),null==t?o.remove():t(o),i&&s?i.merge(s).order():s},merge:function nt(e){for(var n=this._groups,t=e._groups,i=n.length,o=Math.min(i,t.length),a=new Array(i),l=0;l<o;++l)for(var v,c=n[l],d=t[l],u=c.length,m=a[l]=new Array(u),N=0;N<u;++N)(v=c[N]||d[N])&&(m[N]=v);for(;l<i;++l)a[l]=n[l];return new ue(a,this._parents)},order:function ot(){for(var e=this._groups,n=-1,t=e.length;++n<t;)for(var a,i=e[n],s=i.length-1,o=i[s];--s>=0;)(a=i[s])&&(o&&4^a.compareDocumentPosition(o)&&o.parentNode.insertBefore(a,o),o=a);return this},sort:function dt(e){function n(m,v){return m&&v?e(m.__data__,v.__data__):!m-!v}e||(e=lt);for(var t=this._groups,i=t.length,s=new Array(i),o=0;o<i;++o){for(var d,a=t[o],l=a.length,c=s[o]=new Array(l),u=0;u<l;++u)(d=a[u])&&(c[u]=d);c.sort(n)}return new ue(s,this._parents).order()},call:function ft(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function _t(){var e=new Array(this.size()),n=-1;return this.each(function(){e[++n]=this}),e},node:function St(){for(var e=this._groups,n=0,t=e.length;n<t;++n)for(var i=e[n],s=0,o=i.length;s<o;++s){var a=i[s];if(a)return a}return null},size:function tt(){var e=0;return this.each(function(){++e}),e},empty:function rt(){return!this.node()},each:function ct(e){for(var n=this._groups,t=0,i=n.length;t<i;++t)for(var l,s=n[t],o=0,a=s.length;o<a;++o)(l=s[o])&&e.call(l,l.__data__,o,s);return this},attr:function hs(e,n){var t=bt(e);if(arguments.length<2){var i=this.node();return t.local?i.getAttributeNS(t.space,t.local):i.getAttribute(t)}return this.each((null==n?t.local?Lt:Nt:"function"==typeof n?t.local?sn:te:t.local?Ut:Ee)(t,n))},style:function Mf(e,n,t){return arguments.length>1?this.each((null==n?Nf:"function"==typeof n?Cf:Tf)(e,n,null==t?"":t)):Tn(this.node(),e)},property:function Af(e,n){return arguments.length>1?this.each((null==n?Ef:"function"==typeof n?Of:kf)(e,n)):this.node()[e]},classed:function Ff(e,n){var t=Fa(e+"");if(arguments.length<2){for(var i=Ro(this.node()),s=-1,o=t.length;++s<o;)if(!i.contains(t[s]))return!1;return!0}return this.each(("function"==typeof n?Rf:n?If:Pf)(t,n))},text:function Hf(e){return arguments.length?this.each(null==e?Lf:("function"==typeof e?Gf:Bf)(e)):this.node().textContent},html:function Uf(e){return arguments.length?this.each(null==e?Vf:("function"==typeof e?zf:jf)(e)):this.node().innerHTML},raise:function $f(){return this.each(Wf)},lower:function Zf(){return this.each(Yf)},append:function Qf(e){var n="function"==typeof e?e:Ha(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function qf(e,n){var t="function"==typeof e?e:Ha(e),i=null==n?Kf:"function"==typeof n?n:I(n);return this.select(function(){return this.insertBefore(t.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function eg(){return this.each(tg)},clone:function sg(e){return this.select(e?ig:ng)},datum:function og(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function ug(e,n,t){var s,a,i=lg(e+""),o=i.length;if(!(arguments.length<2)){for(l=n?dg:cg,null==t&&(t=!1),s=0;s<o;++s)this.each(l(i[s],n,t));return this}var l=this.node().__on;if(l)for(var u,c=0,d=l.length;c<d;++c)for(s=0,u=l[c];s<o;++s)if((a=i[s]).type===u.type&&a.name===u.name)return u.value},dispatch:function gg(e,n){return this.each(("function"==typeof n?fg:hg)(e,n))}};const ii=Wa;function $a(e){return"string"==typeof e?new ue([[document.querySelector(e)]],[document.documentElement]):new ue([[e]],Ua)}function Ya(e,n,t){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+n)/6,(e._y0+4*e._y1+t)/6)}function fs(e){this._context=e}function Za(e,n){this._basis=new fs(e),this._beta=n}fs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ya(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ya(this,e,n)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=n}},Za.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,n=this._y,t=e.length-1;if(t>0)for(var c,i=e[0],s=n[0],o=e[t]-i,a=n[t]-s,l=-1;++l<=t;)this._basis.point(this._beta*e[l]+(1-this._beta)*(i+(c=l/t)*o),this._beta*n[l]+(1-this._beta)*(s+c*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,n){this._x.push(+e),this._y.push(+n)}};const pg=function e(n){function t(i){return 1===n?new fs(i):new Za(i,n)}return t.beta=function(i){return e(+i)},t}(.85);var Fo=Math.PI,Lo=2*Fo,rn=1e-6,mg=Lo-rn;function Bo(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Xa(){return new Bo}Bo.prototype=Xa.prototype={constructor:Bo,moveTo:function(e,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,n){this._+="L"+(this._x1=+e)+","+(this._y1=+n)},quadraticCurveTo:function(e,n,t,i){this._+="Q"+ +e+","+ +n+","+(this._x1=+t)+","+(this._y1=+i)},bezierCurveTo:function(e,n,t,i,s,o){this._+="C"+ +e+","+ +n+","+ +t+","+ +i+","+(this._x1=+s)+","+(this._y1=+o)},arcTo:function(e,n,t,i,s){var o=this._x1,a=this._y1,l=(t=+t)-(e=+e),c=(i=+i)-(n=+n),d=o-e,u=a-n,m=d*d+u*u;if((s=+s)<0)throw new Error("negative radius: "+s);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=n);else if(m>rn)if(Math.abs(u*l-c*d)>rn&&s){var v=t-o,N=i-a,E=l*l+c*c,k=v*v+N*N,P=Math.sqrt(E),V=Math.sqrt(m),Z=s*Math.tan((Fo-Math.acos((E+m-k)/(2*P*V)))/2),q=Z/V,st=Z/P;Math.abs(q-1)>rn&&(this._+="L"+(e+q*d)+","+(n+q*u)),this._+="A"+s+","+s+",0,0,"+ +(u*v>d*N)+","+(this._x1=e+st*l)+","+(this._y1=n+st*c)}else this._+="L"+(this._x1=e)+","+(this._y1=n)},arc:function(e,n,t,i,s,o){e=+e,n=+n,o=!!o;var a=(t=+t)*Math.cos(i),l=t*Math.sin(i),c=e+a,d=n+l,u=1^o,m=o?i-s:s-i;if(t<0)throw new Error("negative radius: "+t);null===this._x1?this._+="M"+c+","+d:(Math.abs(this._x1-c)>rn||Math.abs(this._y1-d)>rn)&&(this._+="L"+c+","+d),t&&(m<0&&(m=m%Lo+Lo),m>mg?this._+="A"+t+","+t+",0,1,"+u+","+(e-a)+","+(n-l)+"A"+t+","+t+",0,1,"+u+","+(this._x1=c)+","+(this._y1=d):m>rn&&(this._+="A"+t+","+t+",0,"+ +(m>=Fo)+","+u+","+(this._x1=e+t*Math.cos(s))+","+(this._y1=n+t*Math.sin(s))))},rect:function(e,n,t,i){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+n)+"h"+ +t+"v"+ +i+"h"+-t+"Z"},toString:function(){return this._}};const _g=Xa;function gs(e){return function(){return e}}function Ja(e){this._context=e}function bg(e){return new Ja(e)}function vg(e){return e[0]}function yg(e){return e[1]}Ja.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;default:this._context.lineTo(e,n)}}};var Qa=Math.PI;function qa(e){return(1-Math.cos(Qa*e))/2}var wg={value:function(){}};function tl(){for(var i,e=0,n=arguments.length,t={};e<n;++e){if(!(i=arguments[e]+"")||i in t||/[\s.]/.test(i))throw new Error("illegal type: "+i);t[i]=[]}return new ps(t)}function ps(e){this._=e}function Sg(e,n){return e.trim().split(/^|\s+/).map(function(t){var i="",s=t.indexOf(".");if(s>=0&&(i=t.slice(s+1),t=t.slice(0,s)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}function Dg(e,n){for(var s,t=0,i=e.length;t<i;++t)if((s=e[t]).name===n)return s.value}function el(e,n,t){for(var i=0,s=e.length;i<s;++i)if(e[i].name===n){e[i]=wg,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=t&&e.push({name:n,value:t}),e}ps.prototype=tl.prototype={constructor:ps,on:function(e,n){var s,t=this._,i=Sg(e+"",t),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<a;)if(s=(e=i[o]).type)t[s]=el(t[s],e.name,n);else if(null==n)for(s in t)t[s]=el(t[s],e.name,null);return this}for(;++o<a;)if((s=(e=i[o]).type)&&(s=Dg(t[s],e.name)))return s},copy:function(){var e={},n=this._;for(var t in n)e[t]=n[t].slice();return new ps(e)},call:function(e,n){if((s=arguments.length-2)>0)for(var s,o,t=new Array(s),i=0;i<s;++i)t[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,s=(o=this._[e]).length;i<s;++i)o[i].value.apply(n,t)},apply:function(e,n,t){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],s=0,o=i.length;s<o;++s)i[s].value.apply(n,t)}};const Go=tl;var ms,ri,Cn=0,si=0,oi=0,_s=0,an=0,bs=0,ai="object"==typeof performance&&performance.now?performance:Date,il="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Mn(){return an||(il(Ng),an=ai.now()+bs)}function Ng(){an=0}function li(){this._call=this._time=this._next=null}function vs(e,n,t){var i=new li;return i.restart(e,n,t),i}function sl(){Mn(),++Cn;for(var n,e=ms;e;)(n=an-e._time)>=0&&e._call.call(null,n),e=e._next;--Cn}function ol(){an=(_s=ai.now())+bs,Cn=si=0;try{sl()}finally{Cn=0,function Cg(){for(var e,t,n=ms,i=1/0;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:ms=t);ri=e,Ho(i)}(),an=0}}function Tg(){var e=ai.now(),n=e-_s;n>1e3&&(bs-=n,_s=e)}function Ho(e){Cn||(si&&(si=clearTimeout(si)),e-an>24?(e<1/0&&(si=setTimeout(ol,e-ai.now()-bs)),oi&&(oi=clearInterval(oi))):(oi||(_s=ai.now(),oi=setInterval(Tg,1e3)),Cn=1,il(ol)))}function Vo(e,n,t){var i=new li;return i.restart(function(s){i.stop(),e(s+n)},n=null==n?0:+n,t),i}li.prototype=vs.prototype={constructor:li,restart:function(e,n,t){if("function"!=typeof e)throw new TypeError("callback is not a function");t=(null==t?Mn():+t)+(null==n?0:+n),!this._next&&ri!==this&&(ri?ri._next=this:ms=this,ri=this),this._call=e,this._time=t,Ho()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ho())}};var Mg=Go("start","end","cancel","interrupt"),Eg=[];function ws(e,n,t,i,s,o){var a=e.__transition;if(a){if(t in a)return}else e.__transition={};!function kg(e,n,t){var s,i=e.__transition;function a(d){var u,m,v,N;if(1!==t.state)return c();for(u in i)if((N=i[u]).name===t.name){if(3===N.state)return Vo(a);4===N.state?(N.state=6,N.timer.stop(),N.on.call("interrupt",e,e.__data__,N.index,N.group),delete i[u]):+u<n&&(N.state=6,N.timer.stop(),N.on.call("cancel",e,e.__data__,N.index,N.group),delete i[u])}if(Vo(function(){3===t.state&&(t.state=4,t.timer.restart(l,t.delay,t.time),l(d))}),t.state=2,t.on.call("start",e,e.__data__,t.index,t.group),2===t.state){for(t.state=3,s=new Array(v=t.tween.length),u=0,m=-1;u<v;++u)(N=t.tween[u].value.call(e,e.__data__,t.index,t.group))&&(s[++m]=N);s.length=m+1}}function l(d){for(var u=d<t.duration?t.ease.call(null,d/t.duration):(t.timer.restart(c),t.state=5,1),m=-1,v=s.length;++m<v;)s[m].call(e,u);5===t.state&&(t.on.call("end",e,e.__data__,t.index,t.group),c())}function c(){for(var d in t.state=6,t.timer.stop(),delete i[n],i)return;delete e.__transition}i[n]=t,t.timer=vs(function o(d){t.state=1,t.timer.restart(a,t.delay,t.time),t.delay<=d&&a(d-t.delay)},0,t.time)}(e,t,{name:n,index:i,group:s,on:Mg,tween:Eg,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function Uo(e,n){var t=be(e,n);if(t.state>0)throw new Error("too late; already scheduled");return t}function ke(e,n){var t=be(e,n);if(t.state>3)throw new Error("too late; already running");return t}function be(e,n){var t=e.__transition;if(!t||!(t=t[n]))throw new Error("transition not found");return t}function je(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}var ci,$o,ul,Ss,cl=180/Math.PI,Wo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function dl(e,n,t,i,s,o){var a,l,c;return(a=Math.sqrt(e*e+n*n))&&(e/=a,n/=a),(c=e*t+n*i)&&(t-=e*c,i-=n*c),(l=Math.sqrt(t*t+i*i))&&(t/=l,i/=l,c/=l),e*i<n*t&&(e=-e,n=-n,c=-c,a=-a),{translateX:s,translateY:o,rotate:Math.atan2(n,e)*cl,skewX:Math.atan(c)*cl,scaleX:a,scaleY:l}}function hl(e,n,t,i){function s(d){return d.length?d.pop()+" ":""}return function(d,u){var m=[],v=[];return d=e(d),u=e(u),function o(d,u,m,v,N,E){if(d!==m||u!==v){var k=N.push("translate(",null,n,null,t);E.push({i:k-4,x:je(d,m)},{i:k-2,x:je(u,v)})}else(m||v)&&N.push("translate("+m+n+v+t)}(d.translateX,d.translateY,u.translateX,u.translateY,m,v),function a(d,u,m,v){d!==u?(d-u>180?u+=360:u-d>180&&(d+=360),v.push({i:m.push(s(m)+"rotate(",null,i)-2,x:je(d,u)})):u&&m.push(s(m)+"rotate("+u+i)}(d.rotate,u.rotate,m,v),function l(d,u,m,v){d!==u?v.push({i:m.push(s(m)+"skewX(",null,i)-2,x:je(d,u)}):u&&m.push(s(m)+"skewX("+u+i)}(d.skewX,u.skewX,m,v),function c(d,u,m,v,N,E){if(d!==m||u!==v){var k=N.push(s(N)+"scale(",null,",",null,")");E.push({i:k-4,x:je(d,m)},{i:k-2,x:je(u,v)})}else(1!==m||1!==v)&&N.push(s(N)+"scale("+m+","+v+")")}(d.scaleX,d.scaleY,u.scaleX,u.scaleY,m,v),d=u=null,function(N){for(var P,E=-1,k=v.length;++E<k;)m[(P=v[E]).i]=P.x(N);return m.join("")}}}var Rg=hl(function Ig(e){return"none"===e?Wo:(ci||(ci=document.createElement("DIV"),$o=document.documentElement,ul=document.defaultView),ci.style.transform=e,e=ul.getComputedStyle($o.appendChild(ci),null).getPropertyValue("transform"),$o.removeChild(ci),dl(+(e=e.slice(7,-1).split(","))[0],+e[1],+e[2],+e[3],+e[4],+e[5]))},"px, ","px)","deg)"),Fg=hl(function Pg(e){return null!=e&&(Ss||(Ss=document.createElementNS("http://www.w3.org/2000/svg","g")),Ss.setAttribute("transform",e),e=Ss.transform.baseVal.consolidate())?dl((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Wo},", ",")",")");function Lg(e,n){var t,i;return function(){var s=ke(this,e),o=s.tween;if(o!==t)for(var a=0,l=(i=t=o).length;a<l;++a)if(i[a].name===n){(i=i.slice()).splice(a,1);break}s.tween=i}}function Bg(e,n,t){var i,s;if("function"!=typeof t)throw new Error;return function(){var o=ke(this,e),a=o.tween;if(a!==i){s=(i=a).slice();for(var l={name:n,value:t},c=0,d=s.length;c<d;++c)if(s[c].name===n){s[c]=l;break}c===d&&s.push(l)}o.tween=s}}function Yo(e,n,t){var i=e._id;return e.each(function(){var s=ke(this,i);(s.value||(s.value={}))[n]=t.apply(this,arguments)}),function(s){return be(s,i).value[n]}}function Zo(e,n,t){e.prototype=n.prototype=t,t.constructor=e}function fl(e,n){var t=Object.create(e.prototype);for(var i in n)t[i]=n[i];return t}function di(){}var Ds=1/.7,En="\\s*([+-]?\\d+)\\s*",hi="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",xe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Hg=/^#([0-9a-f]{3,8})$/,Vg=new RegExp("^rgb\\("+[En,En,En]+"\\)$"),jg=new RegExp("^rgb\\("+[xe,xe,xe]+"\\)$"),zg=new RegExp("^rgba\\("+[En,En,En,hi]+"\\)$"),Ug=new RegExp("^rgba\\("+[xe,xe,xe,hi]+"\\)$"),Wg=new RegExp("^hsl\\("+[hi,xe,xe]+"\\)$"),$g=new RegExp("^hsla\\("+[hi,xe,xe,hi]+"\\)$"),gl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function pl(){return this.rgb().formatHex()}function ml(){return this.rgb().formatRgb()}function fi(e){var n,t;return e=(e+"").trim().toLowerCase(),(n=Hg.exec(e))?(t=n[1].length,n=parseInt(n[1],16),6===t?_l(n):3===t?new he(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===t?Ns(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===t?Ns(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Vg.exec(e))?new he(n[1],n[2],n[3],1):(n=jg.exec(e))?new he(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=zg.exec(e))?Ns(n[1],n[2],n[3],n[4]):(n=Ug.exec(e))?Ns(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Wg.exec(e))?yl(n[1],n[2]/100,n[3]/100,1):(n=$g.exec(e))?yl(n[1],n[2]/100,n[3]/100,n[4]):gl.hasOwnProperty(e)?_l(gl[e]):"transparent"===e?new he(NaN,NaN,NaN,0):null}function _l(e){return new he(e>>16&255,e>>8&255,255&e,1)}function Ns(e,n,t,i){return i<=0&&(e=n=t=NaN),new he(e,n,t,i)}function Zg(e){return e instanceof di||(e=fi(e)),e?new he((e=e.rgb()).r,e.g,e.b,e.opacity):new he}function Ts(e,n,t,i){return 1===arguments.length?Zg(e):new he(e,n,t,null==i?1:i)}function he(e,n,t,i){this.r=+e,this.g=+n,this.b=+t,this.opacity=+i}function bl(){return"#"+Xo(this.r)+Xo(this.g)+Xo(this.b)}function vl(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function Xo(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function yl(e,n,t,i){return i<=0?e=n=t=NaN:t<=0||t>=1?e=n=NaN:n<=0&&(e=NaN),new we(e,n,t,i)}function xl(e){if(e instanceof we)return new we(e.h,e.s,e.l,e.opacity);if(e instanceof di||(e=fi(e)),!e)return new we;if(e instanceof we)return e;var n=(e=e.rgb()).r/255,t=e.g/255,i=e.b/255,s=Math.min(n,t,i),o=Math.max(n,t,i),a=NaN,l=o-s,c=(o+s)/2;return l?(a=n===o?(t-i)/l+6*(t<i):t===o?(i-n)/l+2:(n-t)/l+4,l/=c<.5?o+s:2-o-s,a*=60):l=c>0&&c<1?0:a,new we(a,l,c,e.opacity)}function we(e,n,t,i){this.h=+e,this.s=+n,this.l=+t,this.opacity=+i}function Jo(e,n,t){return 255*(e<60?n+(t-n)*e/60:e<180?t:e<240?n+(t-n)*(240-e)/60:n)}function wl(e,n,t,i,s){var o=e*e,a=o*e;return((1-3*e+3*o-a)*n+(4-6*o+3*a)*t+(1+3*e+3*o-3*a)*i+a*s)/6}function Sl(e){return function(){return e}}function Nl(e,n){var t=n-e;return t?function Dl(e,n){return function(t){return e+t*n}}(e,t):Sl(isNaN(e)?n:e)}Zo(di,fi,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:pl,formatHex:pl,formatHsl:function Yg(){return xl(this).formatHsl()},formatRgb:ml,toString:ml}),Zo(he,Ts,fl(di,{brighter:function(e){return e=null==e?Ds:Math.pow(Ds,e),new he(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new he(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bl,formatHex:bl,formatRgb:vl,toString:vl})),Zo(we,function Xg(e,n,t,i){return 1===arguments.length?xl(e):new we(e,n,t,null==i?1:i)},fl(di,{brighter:function(e){return e=null==e?Ds:Math.pow(Ds,e),new we(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new we(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),n=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*n,s=2*t-i;return new he(Jo(e>=240?e-240:e+120,s,i),Jo(e,s,i),Jo(e<120?e+240:e-120,s,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));const Tl=function e(n){var t=function qg(e){return 1==(e=+e)?Nl:function(n,t){return t-n?function Kg(e,n,t){return e=Math.pow(e,t),n=Math.pow(n,t)-e,t=1/t,function(i){return Math.pow(e+i*n,t)}}(n,t,e):Sl(isNaN(n)?t:n)}}(n);function i(s,o){var a=t((s=Ts(s)).r,(o=Ts(o)).r),l=t(s.g,o.g),c=t(s.b,o.b),d=Nl(s.opacity,o.opacity);return function(u){return s.r=a(u),s.g=l(u),s.b=c(u),s.opacity=d(u),s+""}}return i.gamma=e,i}(1);function Cl(e){return function(n){var a,l,t=n.length,i=new Array(t),s=new Array(t),o=new Array(t);for(a=0;a<t;++a)l=Ts(n[a]),i[a]=l.r||0,s[a]=l.g||0,o[a]=l.b||0;return i=e(i),s=e(s),o=e(o),l.opacity=1,function(c){return l.r=i(c),l.g=s(c),l.b=o(c),l+""}}}Cl(function Jg(e){var n=e.length-1;return function(t){var i=t<=0?t=0:t>=1?(t=1,n-1):Math.floor(t*n),s=e[i],o=e[i+1];return wl((t-i/n)*n,i>0?e[i-1]:2*s-o,s,o,i<n-1?e[i+2]:2*o-s)}}),Cl(function Qg(e){var n=e.length;return function(t){var i=Math.floor(((t%=1)<0?++t:t)*n);return wl((t-i/n)*n,e[(i+n-1)%n],e[i%n],e[(i+1)%n],e[(i+2)%n])}});var Qo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ko=new RegExp(Qo.source,"g");function np(e,n){var i,s,o,t=Qo.lastIndex=Ko.lastIndex=0,a=-1,l=[],c=[];for(e+="",n+="";(i=Qo.exec(e))&&(s=Ko.exec(n));)(o=s.index)>t&&(o=n.slice(t,o),l[a]?l[a]+=o:l[++a]=o),(i=i[0])===(s=s[0])?l[a]?l[a]+=s:l[++a]=s:(l[++a]=null,c.push({i:a,x:je(i,s)})),t=Ko.lastIndex;return t<n.length&&(o=n.slice(t),l[a]?l[a]+=o:l[++a]=o),l.length<2?c[0]?function ep(e){return function(n){return e(n)+""}}(c[0].x):function tp(e){return function(){return e}}(n):(n=c.length,function(d){for(var m,u=0;u<n;++u)l[(m=c[u]).i]=m.x(d);return l.join("")})}function Ml(e,n){var t;return("number"==typeof n?je:n instanceof fi?Tl:(t=fi(n))?(n=t,Tl):np)(e,n)}function ip(e){return function(){this.removeAttribute(e)}}function sp(e){return function(){this.removeAttributeNS(e.space,e.local)}}function op(e,n,t){var i,o,s=t+"";return function(){var a=this.getAttribute(e);return a===s?null:a===i?o:o=n(i=a,t)}}function rp(e,n,t){var i,o,s=t+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===s?null:a===i?o:o=n(i=a,t)}}function ap(e,n,t){var i,s,o;return function(){var a,c,l=t(this);return null==l?void this.removeAttribute(e):(a=this.getAttribute(e))===(c=l+"")?null:a===i&&c===s?o:(s=c,o=n(i=a,l))}}function lp(e,n,t){var i,s,o;return function(){var a,c,l=t(this);return null==l?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local))===(c=l+"")?null:a===i&&c===s?o:(s=c,o=n(i=a,l))}}function dp(e,n){return function(t){this.setAttribute(e,n.call(this,t))}}function up(e,n){return function(t){this.setAttributeNS(e.space,e.local,n.call(this,t))}}function hp(e,n){var t,i;function s(){var o=n.apply(this,arguments);return o!==i&&(t=(i=o)&&up(e,o)),t}return s._value=n,s}function fp(e,n){var t,i;function s(){var o=n.apply(this,arguments);return o!==i&&(t=(i=o)&&dp(e,o)),t}return s._value=n,s}function pp(e,n){return function(){Uo(this,e).delay=+n.apply(this,arguments)}}function mp(e,n){return n=+n,function(){Uo(this,e).delay=n}}function bp(e,n){return function(){ke(this,e).duration=+n.apply(this,arguments)}}function vp(e,n){return n=+n,function(){ke(this,e).duration=n}}function xp(e,n){if("function"!=typeof n)throw new Error;return function(){ke(this,e).ease=n}}function Tp(e,n,t){var i,s,o=function Np(e){return(e+"").trim().split(/^|\s+/).every(function(n){var t=n.indexOf(".");return t>=0&&(n=n.slice(0,t)),!n||"start"===n})}(n)?Uo:ke;return function(){var a=o(this,e),l=a.on;l!==i&&(s=(i=l).copy()).on(n,t),a.on=s}}var Ap=ii.prototype.constructor;function El(e){return function(){this.style.removeProperty(e)}}function Gp(e,n,t){return function(i){this.style.setProperty(e,n.call(this,i),t)}}function Hp(e,n,t){var i,s;function o(){var a=n.apply(this,arguments);return a!==s&&(i=(s=a)&&Gp(e,a,t)),i}return o._value=n,o}function Wp(e){return function(n){this.textContent=e.call(this,n)}}function $p(e){var n,t;function i(){var s=e.apply(this,arguments);return s!==t&&(n=(t=s)&&Wp(s)),n}return i._value=e,i}var Jp=0;function Oe(e,n,t,i){this._groups=e,this._parents=n,this._name=t,this._id=i}function kl(){return++Jp}var kn=ii.prototype;Oe.prototype=function Qp(e){return ii().transition(e)}.prototype={constructor:Oe,select:function kp(e){var n=this._name,t=this._id;"function"!=typeof e&&(e=I(e));for(var i=this._groups,s=i.length,o=new Array(s),a=0;a<s;++a)for(var u,m,l=i[a],c=l.length,d=o[a]=new Array(c),v=0;v<c;++v)(u=l[v])&&(m=e.call(u,u.__data__,v,l))&&("__data__"in u&&(m.__data__=u.__data__),d[v]=m,ws(d[v],n,t,v,d,be(u,t)));return new Oe(o,this._parents,n,t)},selectAll:function Op(e){var n=this._name,t=this._id;"function"!=typeof e&&(e=U(e));for(var i=this._groups,s=i.length,o=[],a=[],l=0;l<s;++l)for(var u,c=i[l],d=c.length,m=0;m<d;++m)if(u=c[m]){for(var N,v=e.call(u,u.__data__,m,c),E=be(u,t),k=0,P=v.length;k<P;++k)(N=v[k])&&ws(N,n,t,k,v,E);o.push(v),a.push(u)}return new Oe(o,a,n,t)},filter:function Sp(e){"function"!=typeof e&&(e=K(e));for(var n=this._groups,t=n.length,i=new Array(t),s=0;s<t;++s)for(var c,o=n[s],a=o.length,l=i[s]=[],d=0;d<a;++d)(c=o[d])&&e.call(c,c.__data__,d,o)&&l.push(c);return new Oe(i,this._parents,this._name,this._id)},merge:function Dp(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,t=e._groups,i=n.length,o=Math.min(i,t.length),a=new Array(i),l=0;l<o;++l)for(var v,c=n[l],d=t[l],u=c.length,m=a[l]=new Array(u),N=0;N<u;++N)(v=c[N]||d[N])&&(m[N]=v);for(;l<i;++l)a[l]=n[l];return new Oe(a,this._parents,this._name,this._id)},selection:function Ip(){return new Ap(this._groups,this._parents)},transition:function Zp(){for(var e=this._name,n=this._id,t=kl(),i=this._groups,s=i.length,o=0;o<s;++o)for(var c,a=i[o],l=a.length,d=0;d<l;++d)if(c=a[d]){var u=be(c,n);ws(c,e,t,d,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Oe(i,this._parents,e,t)},call:kn.call,nodes:kn.nodes,node:kn.node,size:kn.size,empty:kn.empty,each:kn.each,on:function Cp(e,n){var t=this._id;return arguments.length<2?be(this.node(),t).on.on(e):this.each(Tp(t,e,n))},attr:function cp(e,n){var t=bt(e),i="transform"===t?Fg:Ml;return this.attrTween(e,"function"==typeof n?(t.local?lp:ap)(t,i,Yo(this,"attr."+e,n)):null==n?(t.local?sp:ip)(t):(t.local?rp:op)(t,i,n))},attrTween:function gp(e,n){var t="attr."+e;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(null==n)return this.tween(t,null);if("function"!=typeof n)throw new Error;var i=bt(e);return this.tween(t,(i.local?hp:fp)(i,n))},style:function Bp(e,n,t){var i="transform"==(e+="")?Rg:Ml;return null==n?this.styleTween(e,function Pp(e,n){var t,i,s;return function(){var o=Tn(this,e),a=(this.style.removeProperty(e),Tn(this,e));return o===a?null:o===t&&a===i?s:s=n(t=o,i=a)}}(e,i)).on("end.style."+e,El(e)):"function"==typeof n?this.styleTween(e,function Fp(e,n,t){var i,s,o;return function(){var a=Tn(this,e),l=t(this),c=l+"";return null==l&&(this.style.removeProperty(e),c=l=Tn(this,e)),a===c?null:a===i&&c===s?o:(s=c,o=n(i=a,l))}}(e,i,Yo(this,"style."+e,n))).each(function Lp(e,n){var t,i,s,l,o="style."+n,a="end."+o;return function(){var c=ke(this,e),d=c.on,u=null==c.value[o]?l||(l=El(n)):void 0;(d!==t||s!==u)&&(i=(t=d).copy()).on(a,s=u),c.on=i}}(this._id,e)):this.styleTween(e,function Rp(e,n,t){var i,o,s=t+"";return function(){var a=Tn(this,e);return a===s?null:a===i?o:o=n(i=a,t)}}(e,i,n),t).on("end.style."+e,null)},styleTween:function Vp(e,n,t){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==n)return this.tween(i,null);if("function"!=typeof n)throw new Error;return this.tween(i,Hp(e,n,null==t?"":t))},text:function Up(e){return this.tween("text","function"==typeof e?function zp(e){return function(){var n=e(this);this.textContent=null==n?"":n}}(Yo(this,"text",e)):function jp(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function Yp(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;return this.tween(n,$p(e))},remove:function Ep(){return this.on("end.remove",function Mp(e){return function(){var n=this.parentNode;for(var t in this.__transition)if(+t!==e)return;n&&n.removeChild(this)}}(this._id))},tween:function Gg(e,n){var t=this._id;if(e+="",arguments.length<2){for(var a,i=be(this.node(),t).tween,s=0,o=i.length;s<o;++s)if((a=i[s]).name===e)return a.value;return null}return this.each((null==n?Lg:Bg)(t,e,n))},delay:function _p(e){var n=this._id;return arguments.length?this.each(("function"==typeof e?pp:mp)(n,e)):be(this.node(),n).delay},duration:function yp(e){var n=this._id;return arguments.length?this.each(("function"==typeof e?bp:vp)(n,e)):be(this.node(),n).duration},ease:function wp(e){var n=this._id;return arguments.length?this.each(xp(n,e)):be(this.node(),n).ease},end:function Xp(){var e,n,t=this,i=t._id,s=t.size();return new Promise(function(o,a){var l={value:a},c={value:function(){0==--s&&o()}};t.each(function(){var d=ke(this,i),u=d.on;u!==e&&((n=(e=u).copy())._.cancel.push(l),n._.interrupt.push(l),n._.end.push(c)),d.on=n})})}};var qo={time:null,delay:0,duration:250,ease:function Kp(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function qp(e,n){for(var t;!(t=e.__transition)||!(t=t[n]);)if(!(e=e.parentNode))return qo.time=Mn(),qo;return t}ii.prototype.interrupt=function Ag(e){return this.each(function(){!function Og(e,n){var i,s,a,t=e.__transition,o=!0;if(t){for(a in n=null==n?null:n+"",t)(i=t[a]).name===n?(s=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(s?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete t[a]):o=!1;o&&delete e.__transition}}(this,e)})},ii.prototype.transition=function tm(e){var n,t;e instanceof Oe?(n=e._id,e=e._name):(n=kl(),(t=qo).time=Mn(),e=null==e?null:e+"");for(var i=this._groups,s=i.length,o=0;o<s;++o)for(var c,a=i[o],l=a.length,d=0;d<l;++d)(c=a[d])&&ws(c,e,n,d,a,t||qp(c,n));return new Oe(i,this._parents,e,n)};var ie=b(65248),tr=b(3603),gi=b(5432),On=b(74388),ce=b(13742),nm=b(89137),im=b(15812);function um(e){return void 0===e}function pm(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}function mm(e){return Array.isArray(e)?e:Array.from(e)}function pi(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];var i=function(m,v){return{a:m.a*v.a+m.c*v.b,c:m.a*v.c+m.c*v.d,e:m.a*v.e+m.c*v.f+m.e,b:m.b*v.a+m.d*v.b,d:m.b*v.c+m.d*v.d,f:m.b*v.e+m.d*v.f+m.f}};switch((n=Array.isArray(n[0])?n[0]:n).length){case 0:throw new Error("no matrices provided");case 1:return n[0];case 2:return i(n[0],n[1]);default:var s=n,o=mm(s),a=o[0],l=o[1],c=o.slice(2),d=i(a,l);return pi.apply(void 0,[d].concat(pm(c)))}}function Il(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{a:1,c:0,e,b:0,d:1,f:n}}"function"==typeof Symbol&&Symbol,Math,Math,Math,Math;class Pl extends Map{constructor(n,t=Ll){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=n)for(const[i,s]of n)this.set(i,s)}get(n){return super.get(er(this,n))}has(n){return super.has(er(this,n))}set(n,t){return super.set(function Rl({_intern:e,_key:n},t){const i=n(t);return e.has(i)?e.get(i):(e.set(i,t),t)}(this,n),t)}delete(n){return super.delete(function Fl({_intern:e,_key:n},t){const i=n(t);return e.has(i)&&(t=e.get(i),e.delete(i)),t}(this,n))}}function er({_intern:e,_key:n},t){const i=n(t);return e.has(i)?e.get(i):t}function Ll(e){return null!==e&&"object"==typeof e?e.valueOf():e}function bm(e,n){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(n).domain(e)}return this}Set;const Bl=Symbol("implicit");function Gl(){var e=new Pl,n=[],t=[],i=Bl;function s(o){let a=e.get(o);if(void 0===a){if(i!==Bl)return i;e.set(o,a=n.push(o)-1)}return t[a%t.length]}return s.domain=function(o){if(!arguments.length)return n.slice();n=[],e=new Pl;for(const a of o)e.has(a)||e.set(a,n.push(a)-1);return s},s.range=function(o){return arguments.length?(t=Array.from(o),s):t.slice()},s.unknown=function(o){return arguments.length?(i=o,s):i},s.copy=function(){return Gl(n,t).unknown(i)},bm.apply(s,arguments),s}var ze=b(89545);function vm(e,n){var t;function i(){var s,a,o=t.length,l=0,c=0;for(s=0;s<o;++s)l+=(a=t[s]).x,c+=a.y;for(l=l/o-e,c=c/o-n,s=0;s<o;++s)(a=t[s]).x-=l,a.y-=c}return null==e&&(e=0),null==n&&(n=0),i.initialize=function(s){t=s},i.x=function(s){return arguments.length?(e=+s,i):e},i.y=function(s){return arguments.length?(n=+s,i):n},i}function Wt(e){return function(){return e}}function Ue(){return 1e-6*(Math.random()-.5)}function Hl(e,n,t,i){if(isNaN(n)||isNaN(t))return e;var s,m,v,N,E,k,P,V,Z,o=e._root,a={data:i},l=e._x0,c=e._y0,d=e._x1,u=e._y1;if(!o)return e._root=a,e;for(;o.length;)if((k=n>=(m=(l+d)/2))?l=m:d=m,(P=t>=(v=(c+u)/2))?c=v:u=v,s=o,!(o=o[V=P<<1|k]))return s[V]=a,e;if(N=+e._x.call(null,o.data),E=+e._y.call(null,o.data),n===N&&t===E)return a.next=o,s?s[V]=a:e._root=a,e;do{s=s?s[V]=new Array(4):e._root=new Array(4),(k=n>=(m=(l+d)/2))?l=m:d=m,(P=t>=(v=(c+u)/2))?c=v:u=v}while((V=P<<1|k)==(Z=(E>=v)<<1|N>=m));return s[Z]=o,s[V]=a,e}function se(e,n,t,i,s){this.node=e,this.x0=n,this.y0=t,this.x1=i,this.y1=s}function Am(e){return e[0]}function Pm(e){return e[1]}function nr(e,n,t){var i=new ir(null==n?Am:n,null==t?Pm:t,NaN,NaN,NaN,NaN);return null==e?i:i.addAll(e)}function ir(e,n,t,i,s,o){this._x=e,this._y=n,this._x0=t,this._y0=i,this._x1=s,this._y1=o,this._root=void 0}function Vl(e){for(var n={data:e.data},t=n;e=e.next;)t=t.next={data:e.data};return n}var oe=nr.prototype=ir.prototype;function Fm(e){return e.x+e.vx}function Lm(e){return e.y+e.vy}function jl(e){var n,t,i=1,s=1;function o(){for(var c,u,m,v,N,E,k,d=n.length,P=0;P<s;++P)for(u=nr(n,Fm,Lm).visitAfter(a),c=0;c<d;++c)k=(E=t[(m=n[c]).index])*E,v=m.x+m.vx,N=m.y+m.vy,u.visit(V);function V(Z,q,st,et,ht){var ut=Z.data,gt=Z.r,mt=E+gt;if(!ut)return q>v+mt||et<v-mt||st>N+mt||ht<N-mt;if(ut.index>m.index){var Dt=v-ut.x-ut.vx,wt=N-ut.y-ut.vy,xt=Dt*Dt+wt*wt;xt<mt*mt&&(0===Dt&&(xt+=(Dt=Ue())*Dt),0===wt&&(xt+=(wt=Ue())*wt),xt=(mt-(xt=Math.sqrt(xt)))/xt*i,m.vx+=(Dt*=xt)*(mt=(gt*=gt)/(k+gt)),m.vy+=(wt*=xt)*mt,ut.vx-=Dt*(mt=1-mt),ut.vy-=wt*mt)}}}function a(c){if(c.data)return c.r=t[c.data.index];for(var d=c.r=0;d<4;++d)c[d]&&c[d].r>c.r&&(c.r=c[d].r)}function l(){if(n){var c,u,d=n.length;for(t=new Array(d),c=0;c<d;++c)t[(u=n[c]).index]=+e(u,c,n)}}return"function"!=typeof e&&(e=Wt(null==e?1:+e)),o.initialize=function(c){n=c,l()},o.iterations=function(c){return arguments.length?(s=+c,o):s},o.strength=function(c){return arguments.length?(i=+c,o):i},o.radius=function(c){return arguments.length?(e="function"==typeof c?c:Wt(+c),l(),o):e},o}oe.copy=function(){var t,i,e=new ir(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root;if(!n)return e;if(!n.length)return e._root=Vl(n),e;for(t=[{source:n,target:e._root=new Array(4)}];n=t.pop();)for(var s=0;s<4;++s)(i=n.source[s])&&(i.length?t.push({source:i,target:n.target[s]=new Array(4)}):n.target[s]=Vl(i));return e},oe.add=function ym(e){var n=+this._x.call(null,e),t=+this._y.call(null,e);return Hl(this.cover(n,t),n,t,e)},oe.addAll=function xm(e){var n,t,s,o,i=e.length,a=new Array(i),l=new Array(i),c=1/0,d=1/0,u=-1/0,m=-1/0;for(t=0;t<i;++t)isNaN(s=+this._x.call(null,n=e[t]))||isNaN(o=+this._y.call(null,n))||(a[t]=s,l[t]=o,s<c&&(c=s),s>u&&(u=s),o<d&&(d=o),o>m&&(m=o));if(c>u||d>m)return this;for(this.cover(c,d).cover(u,m),t=0;t<i;++t)Hl(this,a[t],l[t],e[t]);return this},oe.cover=function wm(e,n){if(isNaN(e=+e)||isNaN(n=+n))return this;var t=this._x0,i=this._y0,s=this._x1,o=this._y1;if(isNaN(t))s=(t=Math.floor(e))+1,o=(i=Math.floor(n))+1;else{for(var c,d,a=s-t,l=this._root;t>e||e>=s||i>n||n>=o;)switch(d=(n<i)<<1|e<t,c=new Array(4),c[d]=l,l=c,a*=2,d){case 0:s=t+a,o=i+a;break;case 1:t=s-a,o=i+a;break;case 2:s=t+a,i=o-a;break;case 3:t=s-a,i=o-a}this._root&&this._root.length&&(this._root=l)}return this._x0=t,this._y0=i,this._x1=s,this._y1=o,this},oe.data=function Sm(){var e=[];return this.visit(function(n){if(!n.length)do{e.push(n.data)}while(n=n.next)}),e},oe.extent=function Dm(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},oe.find=function Nm(e,n,t){var i,a,l,c,d,E,k,s=this._x0,o=this._y0,u=this._x1,m=this._y1,v=[],N=this._root;for(N&&v.push(new se(N,s,o,u,m)),null==t?t=1/0:(s=e-t,o=n-t,u=e+t,m=n+t,t*=t);E=v.pop();)if(!(!(N=E.node)||(a=E.x0)>u||(l=E.y0)>m||(c=E.x1)<s||(d=E.y1)<o))if(N.length){var P=(a+c)/2,V=(l+d)/2;v.push(new se(N[3],P,V,c,d),new se(N[2],a,V,P,d),new se(N[1],P,l,c,V),new se(N[0],a,l,P,V)),(k=(n>=V)<<1|e>=P)&&(E=v[v.length-1],v[v.length-1]=v[v.length-1-k],v[v.length-1-k]=E)}else{var Z=e-+this._x.call(null,N.data),q=n-+this._y.call(null,N.data),st=Z*Z+q*q;if(st<t){var et=Math.sqrt(t=st);s=e-et,o=n-et,u=e+et,m=n+et,i=N.data}}return i},oe.remove=function Tm(e){if(isNaN(u=+this._x.call(null,e))||isNaN(m=+this._y.call(null,e)))return this;var n,i,s,o,u,m,v,N,E,k,P,V,t=this._root,a=this._x0,l=this._y0,c=this._x1,d=this._y1;if(!t)return this;if(t.length)for(;;){if((E=u>=(v=(a+c)/2))?a=v:c=v,(k=m>=(N=(l+d)/2))?l=N:d=N,n=t,!(t=t[P=k<<1|E]))return this;if(!t.length)break;(n[P+1&3]||n[P+2&3]||n[P+3&3])&&(i=n,V=P)}for(;t.data!==e;)if(s=t,!(t=t.next))return this;return(o=t.next)&&delete t.next,s?(o?s.next=o:delete s.next,this):n?(o?n[P]=o:delete n[P],(t=n[0]||n[1]||n[2]||n[3])&&t===(n[3]||n[2]||n[1]||n[0])&&!t.length&&(i?i[V]=t:this._root=t),this):(this._root=o,this)},oe.removeAll=function Cm(e){for(var n=0,t=e.length;n<t;++n)this.remove(e[n]);return this},oe.root=function Mm(){return this._root},oe.size=function Em(){var e=0;return this.visit(function(n){if(!n.length)do{++e}while(n=n.next)}),e},oe.visit=function km(e){var t,s,o,a,l,c,n=[],i=this._root;for(i&&n.push(new se(i,this._x0,this._y0,this._x1,this._y1));t=n.pop();)if(!e(i=t.node,o=t.x0,a=t.y0,l=t.x1,c=t.y1)&&i.length){var d=(o+l)/2,u=(a+c)/2;(s=i[3])&&n.push(new se(s,d,u,l,c)),(s=i[2])&&n.push(new se(s,o,u,d,c)),(s=i[1])&&n.push(new se(s,d,a,l,u)),(s=i[0])&&n.push(new se(s,o,a,d,u))}return this},oe.visitAfter=function Om(e){var i,n=[],t=[];for(this._root&&n.push(new se(this._root,this._x0,this._y0,this._x1,this._y1));i=n.pop();){var s=i.node;if(s.length){var o,a=i.x0,l=i.y0,c=i.x1,d=i.y1,u=(a+c)/2,m=(l+d)/2;(o=s[0])&&n.push(new se(o,a,l,u,m)),(o=s[1])&&n.push(new se(o,u,l,c,m)),(o=s[2])&&n.push(new se(o,a,m,u,d)),(o=s[3])&&n.push(new se(o,u,m,c,d))}t.push(i)}for(;i=t.pop();)e(i.node,i.x0,i.y0,i.x1,i.y1);return this},oe.x=function Im(e){return arguments.length?(this._x=e,this):this._x},oe.y=function Rm(e){return arguments.length?(this._y=e,this):this._y};var ge="$";function Cs(){}function zl(e,n){var t=new Cs;if(e instanceof Cs)e.each(function(l,c){t.set(c,l)});else if(Array.isArray(e)){var o,i=-1,s=e.length;if(null==n)for(;++i<s;)t.set(i,e[i]);else for(;++i<s;)t.set(n(o=e[i],i,e),o)}else if(e)for(var a in e)t.set(a,e[a]);return t}Cs.prototype=zl.prototype={constructor:Cs,has:function(e){return ge+e in this},get:function(e){return this[ge+e]},set:function(e,n){return this[ge+e]=n,this},remove:function(e){var n=ge+e;return n in this&&delete this[n]},clear:function(){for(var e in this)e[0]===ge&&delete this[e]},keys:function(){var e=[];for(var n in this)n[0]===ge&&e.push(n.slice(1));return e},values:function(){var e=[];for(var n in this)n[0]===ge&&e.push(this[n]);return e},entries:function(){var e=[];for(var n in this)n[0]===ge&&e.push({key:n.slice(1),value:this[n]});return e},size:function(){var e=0;for(var n in this)n[0]===ge&&++e;return e},empty:function(){for(var e in this)if(e[0]===ge)return!1;return!0},each:function(e){for(var n in this)n[0]===ge&&e(this[n],n.slice(1),this)}};const sr=zl;function Ms(){}var ln=sr.prototype;function Vm(e){return e.index}function $l(e,n){var t=e.get(n);if(!t)throw new Error("missing: "+n);return t}function Yl(e){var i,o,a,l,c,n=Vm,t=function u(k){return 1/Math.min(l[k.source.index],l[k.target.index])},s=Wt(30),d=1;function m(k){for(var P=0,V=e.length;P<d;++P)for(var q,st,et,ht,ut,gt,mt,Z=0;Z<V;++Z)ht=(et=(q=e[Z]).target).x+et.vx-(st=q.source).x-st.vx||Ue(),ut=et.y+et.vy-st.y-st.vy||Ue(),ut*=gt=((gt=Math.sqrt(ht*ht+ut*ut))-o[Z])/gt*k*i[Z],et.vx-=(ht*=gt)*(mt=c[Z]),et.vy-=ut*mt,st.vx+=ht*(mt=1-mt),st.vy+=ut*mt}function v(){if(a){var k,q,P=a.length,V=e.length,Z=sr(a,n);for(k=0,l=new Array(P);k<V;++k)(q=e[k]).index=k,"object"!=typeof q.source&&(q.source=$l(Z,q.source)),"object"!=typeof q.target&&(q.target=$l(Z,q.target)),l[q.source.index]=(l[q.source.index]||0)+1,l[q.target.index]=(l[q.target.index]||0)+1;for(k=0,c=new Array(V);k<V;++k)c[k]=l[(q=e[k]).source.index]/(l[q.source.index]+l[q.target.index]);i=new Array(V),N(),o=new Array(V),E()}}function N(){if(a)for(var k=0,P=e.length;k<P;++k)i[k]=+t(e[k],k,e)}function E(){if(a)for(var k=0,P=e.length;k<P;++k)o[k]=+s(e[k],k,e)}return null==e&&(e=[]),m.initialize=function(k){a=k,v()},m.links=function(k){return arguments.length?(e=k,v(),m):e},m.id=function(k){return arguments.length?(n=k,m):n},m.iterations=function(k){return arguments.length?(d=+k,m):d},m.strength=function(k){return arguments.length?(t="function"==typeof k?k:Wt(+k),N(),m):t},m.distance=function(k){return arguments.length?(s="function"==typeof k?k:Wt(+k),E(),m):s},m}function jm(e){return e.x}function zm(e){return e.y}Ms.prototype=function Hm(e,n){var t=new Ms;if(e instanceof Ms)e.each(function(o){t.add(o)});else if(e){var i=-1,s=e.length;if(null==n)for(;++i<s;)t.add(e[i]);else for(;++i<s;)t.add(n(e[i],i,e))}return t}.prototype={constructor:Ms,has:ln.has,add:function(e){return this[ge+(e+="")]=e,this},remove:ln.remove,clear:ln.clear,values:ln.keys,size:ln.size,empty:ln.empty,each:ln.each};var Wm=Math.PI*(3-Math.sqrt(5));function Zl(e){var n,t=1,i=.001,s=1-Math.pow(i,1/300),o=0,a=.6,l=sr(),c=vs(u),d=Go("tick","end");function u(){m(),d.call("tick",n),t<i&&(c.stop(),d.call("end",n))}function m(E){var k,V,P=e.length;void 0===E&&(E=1);for(var Z=0;Z<E;++Z)for(t+=(o-t)*s,l.each(function(q){q(t)}),k=0;k<P;++k)null==(V=e[k]).fx?V.x+=V.vx*=a:(V.x=V.fx,V.vx=0),null==V.fy?V.y+=V.vy*=a:(V.y=V.fy,V.vy=0);return n}function v(){for(var P,E=0,k=e.length;E<k;++E){if((P=e[E]).index=E,null!=P.fx&&(P.x=P.fx),null!=P.fy&&(P.y=P.fy),isNaN(P.x)||isNaN(P.y)){var V=10*Math.sqrt(E),Z=E*Wm;P.x=V*Math.cos(Z),P.y=V*Math.sin(Z)}(isNaN(P.vx)||isNaN(P.vy))&&(P.vx=P.vy=0)}}function N(E){return E.initialize&&E.initialize(e),E}return null==e&&(e=[]),v(),n={tick:m,restart:function(){return c.restart(u),n},stop:function(){return c.stop(),n},nodes:function(E){return arguments.length?(e=E,v(),l.each(N),n):e},alpha:function(E){return arguments.length?(t=+E,n):t},alphaMin:function(E){return arguments.length?(i=+E,n):i},alphaDecay:function(E){return arguments.length?(s=+E,n):+s},alphaTarget:function(E){return arguments.length?(o=+E,n):o},velocityDecay:function(E){return arguments.length?(a=1-E,n):1-a},force:function(E,k){return arguments.length>1?(null==k?l.remove(E):l.set(E,N(k)),n):l.get(E)},find:function(E,k,P){var q,st,et,ht,ut,V=0,Z=e.length;for(null==P?P=1/0:P*=P,V=0;V<Z;++V)(et=(q=E-(ht=e[V]).x)*q+(st=k-ht.y)*st)<P&&(ut=ht,P=et);return ut},on:function(E,k){return arguments.length>1?(d.on(E,k),n):d.on(E)}}}function Xl(){var e,n,t,s,i=Wt(-30),o=1,a=1/0,l=.81;function c(v){var N,E=e.length,k=nr(e,jm,zm).visitAfter(u);for(t=v,N=0;N<E;++N)n=e[N],k.visit(m)}function d(){if(e){var v,E,N=e.length;for(s=new Array(N),v=0;v<N;++v)s[(E=e[v]).index]=+i(E,v,e)}}function u(v){var E,k,V,Z,q,N=0,P=0;if(v.length){for(V=Z=q=0;q<4;++q)(E=v[q])&&(k=Math.abs(E.value))&&(N+=E.value,P+=k,V+=k*E.x,Z+=k*E.y);v.x=V/P,v.y=Z/P}else{(E=v).x=E.data.x,E.y=E.data.y;do{N+=s[E.data.index]}while(E=E.next)}v.value=N}function m(v,N,E,k){if(!v.value)return!0;var P=v.x-n.x,V=v.y-n.y,Z=k-N,q=P*P+V*V;if(Z*Z/l<q)return q<a&&(0===P&&(q+=(P=Ue())*P),0===V&&(q+=(V=Ue())*V),q<o&&(q=Math.sqrt(o*q)),n.vx+=P*v.value*t/q,n.vy+=V*v.value*t/q),!0;if(!(v.length||q>=a)){(v.data!==n||v.next)&&(0===P&&(q+=(P=Ue())*P),0===V&&(q+=(V=Ue())*V),q<o&&(q=Math.sqrt(o*q)));do{v.data!==n&&(n.vx+=P*(Z=s[v.data.index]*t/q),n.vy+=V*Z)}while(v=v.next)}}return c.initialize=function(v){e=v,d()},c.strength=function(v){return arguments.length?(i="function"==typeof v?v:Wt(+v),d(),c):i},c.distanceMin=function(v){return arguments.length?(o=v*v,c):Math.sqrt(o)},c.distanceMax=function(v){return arguments.length?(a=v*v,c):Math.sqrt(a)},c.theta=function(v){return arguments.length?(l=v*v,c):Math.sqrt(l)},c}function $m(e,n,t){var i,o,a,s=Wt(.1);function l(d){for(var u=0,m=i.length;u<m;++u){var v=i[u],N=v.x-n||1e-6,E=v.y-t||1e-6,k=Math.sqrt(N*N+E*E),P=(a[u]-k)*o[u]*d/k;v.vx+=N*P,v.vy+=E*P}}function c(){if(i){var d,u=i.length;for(o=new Array(u),a=new Array(u),d=0;d<u;++d)a[d]=+e(i[d],d,i),o[d]=isNaN(a[d])?0:+s(i[d],d,i)}}return"function"!=typeof e&&(e=Wt(+e)),null==n&&(n=0),null==t&&(t=0),l.initialize=function(d){i=d,c()},l.strength=function(d){return arguments.length?(s="function"==typeof d?d:Wt(+d),c(),l):s},l.radius=function(d){return arguments.length?(e="function"==typeof d?d:Wt(+d),c(),l):e},l.x=function(d){return arguments.length?(n=+d,l):n},l.y=function(d){return arguments.length?(t=+d,l):t},l}function Ym(e){var t,i,s,n=Wt(.1);function o(l){for(var u,c=0,d=t.length;c<d;++c)(u=t[c]).vx+=(s[c]-u.x)*i[c]*l}function a(){if(t){var l,c=t.length;for(i=new Array(c),s=new Array(c),l=0;l<c;++l)i[l]=isNaN(s[l]=+e(t[l],l,t))?0:+n(t[l],l,t)}}return"function"!=typeof e&&(e=Wt(null==e?0:+e)),o.initialize=function(l){t=l,a()},o.strength=function(l){return arguments.length?(n="function"==typeof l?l:Wt(+l),a(),o):n},o.x=function(l){return arguments.length?(e="function"==typeof l?l:Wt(+l),a(),o):e},o}function Zm(e){var t,i,s,n=Wt(.1);function o(l){for(var u,c=0,d=t.length;c<d;++c)(u=t[c]).vy+=(s[c]-u.y)*i[c]*l}function a(){if(t){var l,c=t.length;for(i=new Array(c),s=new Array(c),l=0;l<c;++l)i[l]=isNaN(s[l]=+e(t[l],l,t))?0:+n(t[l],l,t)}}return"function"!=typeof e&&(e=Wt(null==e?0:+e)),o.initialize=function(l){t=l,a()},o.strength=function(l){return arguments.length?(n="function"==typeof l?l:Wt(+l),a(),o):n},o.y=function(l){return arguments.length?(e="function"==typeof l?l:Wt(+l),a(),o):e},o}var Xm=b(11111);function Jm(e,n,t){var i=new li,s=n;return null==n?(i.restart(e,n,t),i):(n=+n,t=null==t?Mn():+t,i.restart(function o(a){a+=s,i.restart(o,s+=n,t),e(a)},n,t),i)}const Qm=["linkTemplate"],Km=["nodeTemplate"],qm=["clusterTemplate"],t_=["defsTemplate"],e_=["miniMapNodeTemplate"],n_=["nodeElement"],i_=["linkElement"];function s_(e,n){if(1&e&&(r.O4$(),r.GkF(0,14)),2&e){const t=r.oxw(2);r.Q6J("ngTemplateOutlet",t.defsTemplate)}}function o_(e,n){if(1&e&&(r.O4$(),r._UZ(0,"path",15)),2&e){const t=n.$implicit;r.uIk("d",t.textPath)("id",t.id)}}const mi=function(e){return{$implicit:e}};function r_(e,n){if(1&e&&(r.O4$(),r.GkF(0,20)),2&e){const t=r.oxw().$implicit,i=r.oxw(2);r.Q6J("ngTemplateOutlet",i.clusterTemplate)("ngTemplateOutletContext",r.VKq(2,mi,t))}}function a_(e,n){if(1&e&&(r.O4$(),r.TgZ(0,"g",21),r._UZ(1,"rect"),r.TgZ(2,"text",22),r._uU(3),r.qZA()()),2&e){const t=r.oxw().$implicit;r.xp6(1),r.uIk("width",t.dimension.width)("height",t.dimension.height)("fill",null==t.data?null:t.data.color),r.xp6(1),r.uIk("x",10)("y",t.dimension.height/2),r.xp6(1),r.hij(" ",t.label," ")}}function l_(e,n){if(1&e){const t=r.EpF();r.O4$(),r.TgZ(0,"g",16,17),r.NdJ("click",function(){const o=r.CHM(t).$implicit,a=r.oxw(2);return r.KtG(a.onClick(o))}),r.YNc(2,r_,1,4,"ng-container",18),r.YNc(3,a_,4,6,"g",19),r.qZA()}if(2&e){const t=n.$implicit,i=r.oxw(2);r.ekj("old-node",i.animate&&i.oldClusters.has(t.id)),r.Q6J("id",t.id),r.uIk("transform",t.transform),r.xp6(2),r.Q6J("ngIf",i.clusterTemplate),r.xp6(1),r.Q6J("ngIf",!i.clusterTemplate)}}function c_(e,n){if(1&e&&(r.O4$(),r.GkF(0,20)),2&e){const t=r.oxw().$implicit,i=r.oxw(2);r.Q6J("ngTemplateOutlet",i.linkTemplate)("ngTemplateOutletContext",r.VKq(2,mi,t))}}function d_(e,n){if(1&e&&(r.O4$(),r._UZ(0,"path",26)),2&e){const t=r.oxw().$implicit;r.uIk("d",t.line)}}function u_(e,n){if(1&e&&(r.O4$(),r.TgZ(0,"g",23,24),r.YNc(2,c_,1,4,"ng-container",18),r.YNc(3,d_,1,1,"path",25),r.qZA()),2&e){const t=n.$implicit,i=r.oxw(2);r.Q6J("id",t.id),r.xp6(2),r.Q6J("ngIf",i.linkTemplate),r.xp6(1),r.Q6J("ngIf",!i.linkTemplate)}}function h_(e,n){if(1&e&&(r.O4$(),r.GkF(0,20)),2&e){const t=r.oxw().$implicit,i=r.oxw(2);r.Q6J("ngTemplateOutlet",i.nodeTemplate)("ngTemplateOutletContext",r.VKq(2,mi,t))}}function f_(e,n){if(1&e&&(r.O4$(),r._UZ(0,"circle",30)),2&e){const t=r.oxw().$implicit;r.uIk("cx",t.dimension.width/2)("cy",t.dimension.height/2)("fill",null==t.data?null:t.data.color)}}function g_(e,n){if(1&e){const t=r.EpF();r.O4$(),r.TgZ(0,"g",27,28),r.NdJ("click",function(){const o=r.CHM(t).$implicit,a=r.oxw(2);return r.KtG(a.onClick(o))})("mousedown",function(s){const a=r.CHM(t).$implicit,l=r.oxw(2);return r.KtG(l.onNodeMouseDown(s,a))}),r.YNc(2,h_,1,4,"ng-container",18),r.YNc(3,f_,1,3,"circle",29),r.qZA()}if(2&e){const t=n.$implicit,i=r.oxw(2);r.ekj("old-node",i.animate&&i.oldNodes.has(t.id)),r.Q6J("id",t.id),r.uIk("transform",t.transform),r.xp6(2),r.Q6J("ngIf",i.nodeTemplate),r.xp6(1),r.Q6J("ngIf",!i.nodeTemplate)}}function p_(e,n){if(1&e){const t=r.EpF();r.O4$(),r.TgZ(0,"g",4),r.NdJ("touchstart",function(s){r.CHM(t);const o=r.oxw();return r.KtG(o.onTouchStart(s))})("touchend",function(s){r.CHM(t);const o=r.oxw();return r.KtG(o.onTouchEnd(s))}),r.TgZ(1,"defs"),r.YNc(2,s_,1,1,"ng-container",5),r.YNc(3,o_,1,2,"path",6),r.qZA(),r.TgZ(4,"rect",7),r.NdJ("mousedown",function(){r.CHM(t);const s=r.oxw();return r.KtG(s.isPanning=!0)}),r.qZA(),r.Hsn(5),r.TgZ(6,"g",8),r.YNc(7,l_,4,6,"g",9),r.qZA(),r.TgZ(8,"g",10),r.YNc(9,u_,4,3,"g",11),r.qZA(),r.TgZ(10,"g",12),r.YNc(11,g_,4,6,"g",13),r.qZA()()}if(2&e){const t=r.oxw();r.uIk("transform",t.transform),r.xp6(2),r.Q6J("ngIf",t.defsTemplate),r.xp6(1),r.Q6J("ngForOf",t.graph.edges),r.xp6(1),r.uIk("width",100*t.dims.width)("height",100*t.dims.height)("transform","translate("+50*(-t.dims.width||0)+","+50*(-t.dims.height||0)+")"),r.xp6(3),r.Q6J("ngForOf",t.graph.clusters)("ngForTrackBy",t.trackNodeBy),r.xp6(2),r.Q6J("ngForOf",t.graph.edges)("ngForTrackBy",t.trackLinkBy),r.xp6(2),r.Q6J("ngForOf",t.graph.nodes)("ngForTrackBy",t.trackNodeBy)}}function m_(e,n){if(1&e&&(r.O4$(),r.GkF(0,20)),2&e){const t=r.oxw().$implicit,i=r.oxw(2);r.Q6J("ngTemplateOutlet",i.miniMapNodeTemplate)("ngTemplateOutletContext",r.VKq(2,mi,t))}}function __(e,n){if(1&e&&(r.O4$(),r.GkF(0,20)),2&e){const t=r.oxw().$implicit,i=r.oxw(2);r.Q6J("ngTemplateOutlet",i.nodeTemplate)("ngTemplateOutletContext",r.VKq(2,mi,t))}}function b_(e,n){if(1&e&&(r.O4$(),r._UZ(0,"circle",30)),2&e){const t=r.oxw().$implicit,i=r.oxw(2);r.uIk("cx",t.dimension.width/2/i.minimapScaleCoefficient)("cy",t.dimension.height/2/i.minimapScaleCoefficient)("fill",null==t.data?null:t.data.color)}}function v_(e,n){if(1&e&&(r.O4$(),r.TgZ(0,"g",36,28),r.YNc(2,m_,1,4,"ng-container",18),r.YNc(3,__,1,4,"ng-container",18),r.YNc(4,b_,1,3,"circle",29),r.qZA()),2&e){const t=n.$implicit,i=r.oxw(2);r.ekj("old-node",i.animate&&i.oldNodes.has(t.id)),r.Q6J("id",t.id),r.uIk("transform",t.transform),r.xp6(2),r.Q6J("ngIf",i.miniMapNodeTemplate),r.xp6(1),r.Q6J("ngIf",!i.miniMapNodeTemplate&&i.nodeTemplate),r.xp6(1),r.Q6J("ngIf",!i.nodeTemplate&&!i.miniMapNodeTemplate)}}function y_(e,n){if(1&e){const t=r.EpF();r.O4$(),r.TgZ(0,"g",31)(1,"rect",32),r.NdJ("mousedown",function(s){r.CHM(t);const o=r.oxw();return r.KtG(o.onMinimapPanTo(s))}),r.qZA(),r.TgZ(2,"g")(3,"g",33),r.YNc(4,v_,5,7,"g",34),r.qZA(),r.TgZ(5,"rect",35),r.NdJ("mousedown",function(){r.CHM(t);const s=r.oxw();return r.KtG(s.onMinimapDragMouseDown())}),r.qZA()()()}if(2&e){const t=r.oxw();r.uIk("transform",t.minimapTransform)("clip-path","url(#"+t.minimapClipPathId+")"),r.xp6(1),r.uIk("width",t.graphDims.width/t.minimapScaleCoefficient)("height",t.graphDims.height/t.minimapScaleCoefficient),r.xp6(1),r.Udp("transform","translate("+-t.minimapOffsetX/t.minimapScaleCoefficient+"px,"+-t.minimapOffsetY/t.minimapScaleCoefficient+"px)"),r.xp6(1),r.Udp("transform","scale("+1/t.minimapScaleCoefficient+")"),r.xp6(1),r.Q6J("ngForOf",t.graph.nodes)("ngForTrackBy",t.trackNodeBy),r.xp6(1),r.ekj("panning",t.isMinimapPanning),r.uIk("transform","translate("+t.panOffsetX/t.zoomLevel/-t.minimapScaleCoefficient+","+t.panOffsetY/t.zoomLevel/-t.minimapScaleCoefficient+")")("width",t.width/t.minimapScaleCoefficient/t.zoomLevel)("height",t.height/t.minimapScaleCoefficient/t.zoomLevel)}}const x_=["*"],Jl={};function Ae(){let e=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return e=`a${e}`,Jl[e]?Ae():(Jl[e]=!0,e)}var In=(()=>{return(e=In||(In={})).Both="both",e.Horizontal="horizontal",e.Vertical="vertical",In;var e})(),Pn=(()=>{return(e=Pn||(Pn={})).UpperLeft="UpperLeft",e.UpperRight="UpperRight",Pn;var e})();function w_(e,n,t){t=t||{};let i,s,o,a=null,l=0;function c(){l=!1===t.leading?0:+new Date,a=null,o=e.apply(i,s)}return function(){const d=+new Date;!l&&!1===t.leading&&(l=d);const u=n-(d-l);return i=this,s=arguments,u<=0?(clearTimeout(a),a=null,l=d,o=e.apply(i,s)):!a&&!1!==t.trailing&&(a=setTimeout(c,u)),o}}function S_(e,n){return function(i,s,o){return{configurable:!0,enumerable:o.enumerable,get:function(){return Object.defineProperty(this,s,{configurable:!0,enumerable:o.enumerable,value:w_(o.value,e,n)}),this[s]}}}}let Ql=[{name:"vivid",selectable:!0,group:"Ordinal",domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:"Ordinal",domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:"Ordinal",domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:"Ordinal",domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:"Continuous",domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:"Continuous",domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:"Continuous",domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:"Ordinal",domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:"Ordinal",domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:"Ordinal",domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:"Ordinal",domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:"Ordinal",domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:"Ordinal",domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:"Ordinal",domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:"Ordinal",domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}];class D_{constructor(n,t,i){"string"==typeof n&&(n=Ql.find(s=>s.name===n)),this.colorDomain=n.domain,this.domain=t,this.customColors=i,this.scale=this.generateColorScheme(n,this.domain)}generateColorScheme(n,t){return"string"==typeof n&&(n=Ql.find(i=>i.name===n)),Gl().range(n.domain).domain(t)}getColor(n){if(null==n)throw new Error("Value can not be null");if("function"==typeof this.customColors)return this.customColors(n);const t=n.toString();let i;return this.customColors&&this.customColors.length>0&&(i=this.customColors.find(s=>s.name.toLowerCase()===t.toLowerCase())),i?i.value:this.scale(n)}}let T_=(()=>{class e{constructor(t,i){this.element=t,this.zone=i,this.visible=new r.vpe,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){const t=()=>{if(!this.element)return;const{offsetHeight:i,offsetWidth:s}=this.element.nativeElement;i&&s?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>t(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>t())})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.R0b))},e.\u0275dir=r.lG2({type:e,selectors:[["visibility-observer"]],outputs:{visible:"visible"}}),e})();var Rn=(()=>{return(e=Rn||(Rn={})).LEFT_TO_RIGHT="LR",e.RIGHT_TO_LEFT="RL",e.TOP_TO_BOTTOM="TB",e.BOTTOM_TO_TOM="BT",Rn;var e})();function Fn(e){return"string"==typeof e?{id:e,x:0,y:0}:e}function ql(e,n){return"number"==typeof n?e[n]:n}const tc={dagre:class C_{constructor(){this.defaultSettings={orientation:Rn.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,multigraph:!0,compound:!0},this.settings={}}run(n){this.createDagreGraph(n),ze.layout(this.dagreGraph),n.edgeLabels=this.dagreGraph._edgeLabels;for(const t in this.dagreGraph._nodes){const i=this.dagreGraph._nodes[t],s=n.nodes.find(o=>o.id===i.id);s.position={x:i.x,y:i.y},s.dimension={width:i.width,height:i.height}}return n}updateEdge(n,t){const i=n.nodes.find(c=>c.id===t.source),s=n.nodes.find(c=>c.id===t.target),o=i.position.y<=s.position.y?-1:1;return t.points=[{x:i.position.x,y:i.position.y-o*(i.dimension.height/2)},{x:s.position.x,y:s.position.y+o*(s.dimension.height/2)}],n}createDagreGraph(n){const t=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new ze.graphlib.Graph({compound:t.compound,multigraph:t.multigraph}),this.dagreGraph.setGraph({rankdir:t.orientation,marginx:t.marginX,marginy:t.marginY,edgesep:t.edgePadding,ranksep:t.rankPadding,nodesep:t.nodePadding,align:t.align,acyclicer:t.acyclicer,ranker:t.ranker,multigraph:t.multigraph,compound:t.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=n.nodes.map(i=>{const s=Object.assign({},i);return s.width=i.dimension.width,s.height=i.dimension.height,s.x=i.position.x,s.y=i.position.y,s}),this.dagreEdges=n.edges.map(i=>{const s=Object.assign({},i);return s.id||(s.id=Ae()),s});for(const i of this.dagreNodes)i.width||(i.width=20),i.height||(i.height=30),this.dagreGraph.setNode(i.id,i);for(const i of this.dagreEdges)t.multigraph?this.dagreGraph.setEdge(i.source,i.target,i,i.id):this.dagreGraph.setEdge(i.source,i.target);return this.dagreGraph}},dagreCluster:class M_{constructor(){this.defaultSettings={orientation:Rn.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,multigraph:!0,compound:!0},this.settings={}}run(n){this.createDagreGraph(n),ze.layout(this.dagreGraph),n.edgeLabels=this.dagreGraph._edgeLabels;const t=i=>{const s=this.dagreGraph._nodes[i.id];return Object.assign(Object.assign({},i),{position:{x:s.x,y:s.y},dimension:{width:s.width,height:s.height}})};return n.clusters=(n.clusters||[]).map(t),n.nodes=n.nodes.map(t),n}updateEdge(n,t){const i=n.nodes.find(c=>c.id===t.source),s=n.nodes.find(c=>c.id===t.target),o=i.position.y<=s.position.y?-1:1;return t.points=[{x:i.position.x,y:i.position.y-o*(i.dimension.height/2)},{x:s.position.x,y:s.position.y+o*(s.dimension.height/2)}],n}createDagreGraph(n){const t=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new ze.graphlib.Graph({compound:t.compound,multigraph:t.multigraph}),this.dagreGraph.setGraph({rankdir:t.orientation,marginx:t.marginX,marginy:t.marginY,edgesep:t.edgePadding,ranksep:t.rankPadding,nodesep:t.nodePadding,align:t.align,acyclicer:t.acyclicer,ranker:t.ranker,multigraph:t.multigraph,compound:t.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=n.nodes.map(i=>{const s=Object.assign({},i);return s.width=i.dimension.width,s.height=i.dimension.height,s.x=i.position.x,s.y=i.position.y,s}),this.dagreClusters=n.clusters||[],this.dagreEdges=n.edges.map(i=>{const s=Object.assign({},i);return s.id||(s.id=Ae()),s});for(const i of this.dagreNodes)this.dagreGraph.setNode(i.id,i);for(const i of this.dagreClusters)this.dagreGraph.setNode(i.id,i),i.childNodeIds.forEach(s=>{this.dagreGraph.setParent(s,i.id)});for(const i of this.dagreEdges)t.multigraph?this.dagreGraph.setEdge(i.source,i.target,i,i.id):this.dagreGraph.setEdge(i.source,i.target);return this.dagreGraph}},dagreNodesOnly:class k_{constructor(){this.defaultSettings={orientation:Rn.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,curveDistance:20,multigraph:!0,compound:!0},this.settings={}}run(n){this.createDagreGraph(n),ze.layout(this.dagreGraph),n.edgeLabels=this.dagreGraph._edgeLabels;for(const t in this.dagreGraph._nodes){const i=this.dagreGraph._nodes[t],s=n.nodes.find(o=>o.id===i.id);s.position={x:i.x,y:i.y},s.dimension={width:i.width,height:i.height}}for(const t of n.edges)this.updateEdge(n,t);return n}updateEdge(n,t){const i=n.nodes.find(E=>E.id===t.source),s=n.nodes.find(E=>E.id===t.target),o="BT"===this.settings.orientation||"TB"===this.settings.orientation?"y":"x",a="y"===o?"x":"y",l="y"===o?"height":"width",c=i.position[o]<=s.position[o]?-1:1,d={[a]:i.position[a],[o]:i.position[o]-c*(i.dimension[l]/2)},u={[a]:s.position[a],[o]:s.position[o]+c*(s.dimension[l]/2)},m=this.settings.curveDistance||this.defaultSettings.curveDistance;t.points=[d,{[a]:d[a],[o]:d[o]-c*m},{[a]:u[a],[o]:u[o]+c*m},u];const N=n.edgeLabels[`${t.source}\x01${t.target}\x01\0`];return N&&(N.points=t.points),n}createDagreGraph(n){const t=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new ze.graphlib.Graph({compound:t.compound,multigraph:t.multigraph}),this.dagreGraph.setGraph({rankdir:t.orientation,marginx:t.marginX,marginy:t.marginY,edgesep:t.edgePadding,ranksep:t.rankPadding,nodesep:t.nodePadding,align:t.align,acyclicer:t.acyclicer,ranker:t.ranker,multigraph:t.multigraph,compound:t.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=n.nodes.map(i=>{const s=Object.assign({},i);return s.width=i.dimension.width,s.height=i.dimension.height,s.x=i.position.x,s.y=i.position.y,s}),this.dagreEdges=n.edges.map(i=>{const s=Object.assign({},i);return s.id||(s.id=Ae()),s});for(const i of this.dagreNodes)i.width||(i.width=20),i.height||(i.height=30),this.dagreGraph.setNode(i.id,i);for(const i of this.dagreEdges)t.multigraph?this.dagreGraph.setEdge(i.source,i.target,i,i.id):this.dagreGraph.setEdge(i.source,i.target);return this.dagreGraph}},d3ForceDirected:class O_{constructor(){this.defaultSettings={force:Zl().force("charge",Xl().strength(-150)).force("collide",jl(5)),forceLink:Yl().id(n=>n.id).distance(()=>100)},this.settings={},this.outputGraph$=new ie.xQ}run(n){return this.inputGraph=n,this.d3Graph={nodes:[...this.inputGraph.nodes.map(t=>Object.assign({},t))],edges:[...this.inputGraph.edges.map(t=>Object.assign({},t))]},this.outputGraph={nodes:[],edges:[],edgeLabels:[]},this.outputGraph$.next(this.outputGraph),this.settings=Object.assign({},this.defaultSettings,this.settings),this.settings.force&&this.settings.force.nodes(this.d3Graph.nodes).force("link",this.settings.forceLink.links(this.d3Graph.edges)).alpha(.5).restart().on("tick",()=>{this.outputGraph$.next(this.d3GraphToOutputGraph(this.d3Graph))}),this.outputGraph$.asObservable()}updateEdge(n,t){const i=Object.assign({},this.defaultSettings,this.settings);return i.force&&i.force.nodes(this.d3Graph.nodes).force("link",i.forceLink.links(this.d3Graph.edges)).alpha(.5).restart().on("tick",()=>{this.outputGraph$.next(this.d3GraphToOutputGraph(this.d3Graph))}),this.outputGraph$.asObservable()}d3GraphToOutputGraph(n){return this.outputGraph.nodes=this.d3Graph.nodes.map(t=>Object.assign(Object.assign({},t),{id:t.id||Ae(),position:{x:t.x,y:t.y},dimension:{width:t.dimension&&t.dimension.width||20,height:t.dimension&&t.dimension.height||20},transform:`translate(${t.x-(t.dimension&&t.dimension.width||20)/2||0}, ${t.y-(t.dimension&&t.dimension.height||20)/2||0})`})),this.outputGraph.edges=this.d3Graph.edges.map(t=>Object.assign(Object.assign({},t),{source:Fn(t.source).id,target:Fn(t.target).id,points:[{x:Fn(t.source).x,y:Fn(t.source).y},{x:Fn(t.target).x,y:Fn(t.target).y}]})),this.outputGraph.edgeLabels=this.outputGraph.edges,this.outputGraph}onDragStart(n,t){this.settings.force.alphaTarget(.3).restart();const i=this.d3Graph.nodes.find(s=>s.id===n.id);!i||(this.draggingStart={x:t.x-i.x,y:t.y-i.y},i.fx=t.x-this.draggingStart.x,i.fy=t.y-this.draggingStart.y)}onDrag(n,t){if(!n)return;const i=this.d3Graph.nodes.find(s=>s.id===n.id);!i||(i.fx=t.x-this.draggingStart.x,i.fy=t.y-this.draggingStart.y)}onDragEnd(n,t){if(!n)return;const i=this.d3Graph.nodes.find(s=>s.id===n.id);!i||(this.settings.force.alphaTarget(0),i.fx=void 0,i.fy=void 0)}},colaForceDirected:class A_{constructor(){this.defaultSettings={force:(0,Xm.d3adaptor)(Object.assign(Object.assign(Object.assign({},O),y),C)).linkDistance(150).avoidOverlaps(!0),viewDimensions:{width:600,height:600}},this.settings={},this.outputGraph$=new ie.xQ}run(n){return this.inputGraph=n,this.inputGraph.clusters||(this.inputGraph.clusters=[]),this.internalGraph={nodes:[...this.inputGraph.nodes.map(t=>Object.assign(Object.assign({},t),{width:t.dimension?t.dimension.width:20,height:t.dimension?t.dimension.height:20}))],groups:[...this.inputGraph.clusters.map(t=>({padding:5,groups:t.childNodeIds.map(i=>this.inputGraph.clusters.findIndex(s=>s.id===i)).filter(i=>i>=0),leaves:t.childNodeIds.map(i=>this.inputGraph.nodes.findIndex(s=>s.id===i)).filter(i=>i>=0)}))],links:[...this.inputGraph.edges.map(t=>{const i=this.inputGraph.nodes.findIndex(o=>t.source===o.id),s=this.inputGraph.nodes.findIndex(o=>t.target===o.id);if(-1!==i&&-1!==s)return Object.assign(Object.assign({},t),{source:i,target:s})}).filter(t=>!!t)],groupLinks:[...this.inputGraph.edges.map(t=>{const i=this.inputGraph.nodes.findIndex(o=>t.source===o.id),s=this.inputGraph.nodes.findIndex(o=>t.target===o.id);if(!(i>=0&&s>=0))return t}).filter(t=>!!t)]},this.outputGraph={nodes:[],clusters:[],edges:[],edgeLabels:[]},this.outputGraph$.next(this.outputGraph),this.settings=Object.assign({},this.defaultSettings,this.settings),this.settings.force&&(this.settings.force=this.settings.force.nodes(this.internalGraph.nodes).groups(this.internalGraph.groups).links(this.internalGraph.links).alpha(.5).on("tick",()=>{this.settings.onTickListener&&this.settings.onTickListener(this.internalGraph),this.outputGraph$.next(this.internalGraphToOutputGraph(this.internalGraph))}),this.settings.viewDimensions&&(this.settings.force=this.settings.force.size([this.settings.viewDimensions.width,this.settings.viewDimensions.height])),this.settings.forceModifierFn&&(this.settings.force=this.settings.forceModifierFn(this.settings.force)),this.settings.force.start()),this.outputGraph$.asObservable()}updateEdge(n,t){const i=Object.assign({},this.defaultSettings,this.settings);return i.force&&i.force.start(),this.outputGraph$.asObservable()}internalGraphToOutputGraph(n){return this.outputGraph.nodes=n.nodes.map(t=>Object.assign(Object.assign({},t),{id:t.id||Ae(),position:{x:t.x,y:t.y},dimension:{width:t.dimension&&t.dimension.width||20,height:t.dimension&&t.dimension.height||20},transform:`translate(${t.x-(t.dimension&&t.dimension.width||20)/2||0}, ${t.y-(t.dimension&&t.dimension.height||20)/2||0})`})),this.outputGraph.edges=n.links.map(t=>{const i=ql(n.nodes,t.source),s=ql(n.nodes,t.target);return Object.assign(Object.assign({},t),{source:i.id,target:s.id,points:[i.bounds.rayIntersection(s.bounds.cx(),s.bounds.cy()),s.bounds.rayIntersection(i.bounds.cx(),i.bounds.cy())]})}).concat(n.groupLinks.map(t=>{const i=n.nodes.find(l=>l.id===t.source),s=n.nodes.find(l=>l.id===t.target),o=i||n.groups.find(l=>l.id===t.source),a=s||n.groups.find(l=>l.id===t.target);return Object.assign(Object.assign({},t),{source:o.id,target:a.id,points:[o.bounds.rayIntersection(a.bounds.cx(),a.bounds.cy()),a.bounds.rayIntersection(o.bounds.cx(),o.bounds.cy())]})})),this.outputGraph.clusters=n.groups.map((t,i)=>Object.assign(Object.assign({},this.inputGraph.clusters[i]),{dimension:{width:t.bounds?t.bounds.width():20,height:t.bounds?t.bounds.height():20},position:{x:t.bounds?t.bounds.x+t.bounds.width()/2:0,y:t.bounds?t.bounds.y+t.bounds.height()/2:0}})),this.outputGraph.edgeLabels=this.outputGraph.edges,this.outputGraph}onDragStart(n,t){const i=this.outputGraph.nodes.findIndex(o=>o.id===n.id),s=this.internalGraph.nodes[i];!s||(this.draggingStart={x:s.x-t.x,y:s.y-t.y},s.fixed=1,this.settings.force.start())}onDrag(n,t){if(!n)return;const i=this.outputGraph.nodes.findIndex(o=>o.id===n.id),s=this.internalGraph.nodes[i];!s||(s.x=this.draggingStart.x+t.x,s.y=this.draggingStart.y+t.y)}onDragEnd(n,t){if(!n)return;const i=this.outputGraph.nodes.findIndex(o=>o.id===n.id),s=this.internalGraph.nodes[i];!s||(s.fixed=0)}}};let ec=(()=>{class e{getLayout(t){if(tc[t])return new tc[t];throw new Error(`Unknown layout type '${t}'`)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),I_=(()=>{class e{constructor(){this.mouseWheelUp=new r.vpe,this.mouseWheelDown=new r.vpe}onMouseWheelChrome(t){this.mouseWheelFunc(t)}onMouseWheelFirefox(t){this.mouseWheelFunc(t)}onWheel(t){this.mouseWheelFunc(t)}onMouseWheelIE(t){this.mouseWheelFunc(t)}mouseWheelFunc(t){window.event&&(t=window.event);const i=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail||t.deltaY||t.deltaX)),o=t.wheelDelta?i<0:i>0;(t.wheelDelta?i>0:i<0)?this.mouseWheelUp.emit(t):o&&this.mouseWheelDown.emit(t),t.returnValue=!1,t.preventDefault&&t.preventDefault()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["","mouseWheel",""]],hostBindings:function(t,i){1&t&&r.NdJ("mousewheel",function(o){return i.onMouseWheelChrome(o)})("DOMMouseScroll",function(o){return i.onMouseWheelFirefox(o)})("wheel",function(o){return i.onWheel(o)})("onmousewheel",function(o){return i.onMouseWheelIE(o)})},outputs:{mouseWheelUp:"mouseWheelUp",mouseWheelDown:"mouseWheelDown"}}),e})(),P_=(()=>{class e{constructor(t,i,s,o){this.el=t,this.zone=i,this.cd=s,this.layoutService=o,this.nodes=[],this.clusters=[],this.links=[],this.activeEntries=[],this.draggingEnabled=!0,this.panningEnabled=!0,this.panningAxis=In.Both,this.enableZoom=!0,this.zoomSpeed=.1,this.minZoomLevel=.1,this.maxZoomLevel=4,this.autoZoom=!1,this.panOnZoom=!0,this.animate=!1,this.autoCenter=!1,this.enableTrackpadSupport=!1,this.showMiniMap=!1,this.miniMapMaxWidth=100,this.miniMapPosition=Pn.UpperRight,this.scheme="cool",this.animations=!0,this.select=new r.vpe,this.activate=new r.vpe,this.deactivate=new r.vpe,this.zoomChange=new r.vpe,this.clickHandler=new r.vpe,this.isMouseMoveCalled=!1,this.graphSubscription=new tr.w,this.subscriptions=[],this.isPanning=!1,this.isDragging=!1,this.initialized=!1,this.graphDims={width:0,height:0},this._oldLinks=[],this.oldNodes=new Set,this.oldClusters=new Set,this.transformationMatrix={a:1,c:0,e:0,b:0,d:1,f:0},this._touchLastX=null,this._touchLastY=null,this.minimapScaleCoefficient=3,this.minimapOffsetX=0,this.minimapOffsetY=0,this.isMinimapPanning=!1,this.groupResultsBy=a=>a.label}get zoomLevel(){return this.transformationMatrix.a}set zoomLevel(t){this.zoomTo(Number(t))}get panOffsetX(){return this.transformationMatrix.e}set panOffsetX(t){this.panTo(Number(t),null)}get panOffsetY(){return this.transformationMatrix.f}set panOffsetY(t){this.panTo(null,Number(t))}ngOnInit(){this.update$&&this.subscriptions.push(this.update$.subscribe(()=>{this.update()})),this.center$&&this.subscriptions.push(this.center$.subscribe(()=>{this.center()})),this.zoomToFit$&&this.subscriptions.push(this.zoomToFit$.subscribe(()=>{this.zoomToFit()})),this.panToNode$&&this.subscriptions.push(this.panToNode$.subscribe(t=>{this.panToNodeId(t)})),this.minimapClipPathId=`minimapClip${Ae()}`}ngOnChanges(t){this.basicUpdate();const{layoutSettings:s}=t;this.setLayout(this.layout),s&&this.setLayoutSettings(this.layoutSettings),this.update()}setLayout(t){this.initialized=!1,t||(t="dagre"),"string"==typeof t&&(this.layout=this.layoutService.getLayout(t),this.setLayoutSettings(this.layoutSettings))}setLayoutSettings(t){this.layout&&"string"!=typeof this.layout&&(this.layout.settings=t)}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy());for(const t of this.subscriptions)t.unsubscribe();this.subscriptions=null}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new T_(this.el,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this)),setTimeout(()=>this.update())}update(){this.basicUpdate(),this.curve||(this.curve=pg.beta(1)),this.zone.run(()=>{this.dims=function N_({width:e,height:n}){let t=e,i=n;return t=Math.max(0,t),i=Math.max(0,i),{width:Math.floor(t),height:Math.floor(i)}}({width:this.width,height:this.height}),this.seriesDomain=this.getSeriesDomain(),this.setColors(),this.createGraph(),this.updateTransform(),this.initialized=!0})}createGraph(){this.graphSubscription.unsubscribe(),this.graphSubscription=new tr.w;const t=i=>(i.meta||(i.meta={}),i.id||(i.id=Ae()),i.dimension?i.meta.forceDimensions=void 0===i.meta.forceDimensions||i.meta.forceDimensions:(i.dimension={width:this.nodeWidth?this.nodeWidth:30,height:this.nodeHeight?this.nodeHeight:30},i.meta.forceDimensions=!1),i.position={x:0,y:0},i.data=i.data?i.data:{},i);this.graph={nodes:this.nodes.length>0?[...this.nodes].map(t):[],clusters:this.clusters&&this.clusters.length>0?[...this.clusters].map(t):[],edges:this.links.length>0?[...this.links].map(i=>(i.id||(i.id=Ae()),i)):[]},requestAnimationFrame(()=>this.draw())}draw(){if(!this.layout||"string"==typeof this.layout)return;this.applyNodeDimensions();const t=this.layout.run(this.graph),i=t instanceof gi.y?t:(0,On.of)(t);this.graphSubscription.add(i.subscribe(s=>{this.graph=s,this.tick()})),0!==this.graph.nodes.length&&i.pipe((0,nm.P)()).subscribe(()=>this.applyNodeDimensions())}tick(){const t=new Set;this.graph.nodes.map(o=>{o.transform=`translate(${o.position.x-o.dimension.width/2||0}, ${o.position.y-o.dimension.height/2||0})`,o.data||(o.data={}),o.data.color=this.colors.getColor(this.groupResultsBy(o)),t.add(o.id)});const i=new Set;(this.graph.clusters||[]).map(o=>{o.transform=`translate(${o.position.x-o.dimension.width/2||0}, ${o.position.y-o.dimension.height/2||0})`,o.data||(o.data={}),o.data.color=this.colors.getColor(this.groupResultsBy(o)),i.add(o.id)}),setTimeout(()=>{this.oldNodes=t,this.oldClusters=i},500);const s=[];for(const o in this.graph.edgeLabels){const a=this.graph.edgeLabels[o],l=o.replace(/[^\w-]*/g,""),c=this.layout&&"string"!=typeof this.layout&&this.layout.settings&&this.layout.settings.multigraph;let d=this._oldLinks.find(c?k=>`${k.source}${k.target}${k.id}`===l:k=>`${k.source}${k.target}`===l);const u=this.graph.edges.find(c?k=>`${k.source}${k.target}${k.id}`===l:k=>`${k.source}${k.target}`===l);d?d.data&&u&&u.data&&JSON.stringify(d.data)!==JSON.stringify(u.data)&&(d.data=u.data):d=u||a,d.oldLine=d.line;const m=a.points,v=this.generateLine(m),N=Object.assign({},d);N.line=v,N.points=m,this.updateMidpointOnEdge(N,m);const E=m[Math.floor(m.length/2)];E&&(N.textTransform=`translate(${E.x||0},${E.y||0})`),N.textAngle=0,N.oldLine||(N.oldLine=N.line),this.calcDominantBaseline(N),s.push(N)}this.graph.edges=s,this.graph.edges&&(this._oldLinks=this.graph.edges.map(o=>{const a=Object.assign({},o);return a.oldLine=o.line,a})),this.updateMinimap(),this.autoZoom&&this.zoomToFit(),this.autoCenter&&this.center(),requestAnimationFrame(()=>this.redrawLines()),this.cd.markForCheck()}getMinimapTransform(){switch(this.miniMapPosition){case Pn.UpperLeft:return"";case Pn.UpperRight:return"translate("+(this.dims.width-this.graphDims.width/this.minimapScaleCoefficient)+",0)";default:return""}}updateGraphDims(){let t=1/0,i=-1/0,s=1/0,o=-1/0;for(let a=0;a<this.graph.nodes.length;a++){const l=this.graph.nodes[a];t=l.position.x<t?l.position.x:t,s=l.position.y<s?l.position.y:s,i=l.position.x+l.dimension.width>i?l.position.x+l.dimension.width:i,o=l.position.y+l.dimension.height>o?l.position.y+l.dimension.height:o}t-=100,s-=100,i+=100,o+=100,this.graphDims.width=i-t,this.graphDims.height=o-s,this.minimapOffsetX=t,this.minimapOffsetY=s}updateMinimap(){this.graph.nodes&&this.graph.nodes.length&&(this.updateGraphDims(),this.miniMapMaxWidth&&(this.minimapScaleCoefficient=this.graphDims.width/this.miniMapMaxWidth),this.miniMapMaxHeight&&(this.minimapScaleCoefficient=Math.max(this.minimapScaleCoefficient,this.graphDims.height/this.miniMapMaxHeight)),this.minimapTransform=this.getMinimapTransform())}applyNodeDimensions(){this.nodeElements&&this.nodeElements.length&&this.nodeElements.map(t=>{const i=t.nativeElement,s=this.graph.nodes.find(a=>a.id===i.id);if(!s)return;let o;try{if(o=i.getBBox(),!o.width||!o.height)return}catch(a){return}if(s.dimension.height=this.nodeHeight?s.dimension.height&&s.meta.forceDimensions?s.dimension.height:this.nodeHeight:s.dimension.height&&s.meta.forceDimensions?s.dimension.height:o.height,this.nodeMaxHeight&&(s.dimension.height=Math.max(s.dimension.height,this.nodeMaxHeight)),this.nodeMinHeight&&(s.dimension.height=Math.min(s.dimension.height,this.nodeMinHeight)),this.nodeWidth)s.dimension.width=s.dimension.width&&s.meta.forceDimensions?s.dimension.width:this.nodeWidth;else if(i.getElementsByTagName("text").length){let a;try{for(const l of i.getElementsByTagName("text")){const c=l.getBBox();a?(c.width>a.width&&(a.width=c.width),c.height>a.height&&(a.height=c.height)):a=c}}catch(l){return}s.dimension.width=s.dimension.width&&s.meta.forceDimensions?s.dimension.width:a.width+20}else s.dimension.width=s.dimension.width&&s.meta.forceDimensions?s.dimension.width:o.width;this.nodeMaxWidth&&(s.dimension.width=Math.max(s.dimension.width,this.nodeMaxWidth)),this.nodeMinWidth&&(s.dimension.width=Math.min(s.dimension.width,this.nodeMinWidth))})}redrawLines(t=this.animate){this.linkElements.map(i=>{const s=this.graph.edges.find(o=>o.id===i.nativeElement.id);s&&($a(i.nativeElement).select(".line").attr("d",s.oldLine).transition().ease(qa).duration(t?500:0).attr("d",s.line),$a(this.el.nativeElement).select(`#${s.id}`).attr("d",s.oldTextPath).transition().ease(qa).duration(t?500:0).attr("d",s.textPath),this.updateMidpointOnEdge(s,s.points))})}calcDominantBaseline(t){const i=t.points[0],s=t.points[t.points.length-1];t.oldTextPath=t.textPath,s.x<i.x?(t.dominantBaseline="text-before-edge",t.textPath=this.generateLine([...t.points].reverse())):(t.dominantBaseline="text-after-edge",t.textPath=t.line)}generateLine(t){return function xg(){var e=vg,n=yg,t=gs(!0),i=null,s=bg,o=null;function a(l){var c,u,v,d=l.length,m=!1;for(null==i&&(o=s(v=_g())),c=0;c<=d;++c)!(c<d&&t(u=l[c],c,l))===m&&((m=!m)?o.lineStart():o.lineEnd()),m&&o.point(+e(u,c,l),+n(u,c,l));if(v)return o=null,v+""||null}return a.x=function(l){return arguments.length?(e="function"==typeof l?l:gs(+l),a):e},a.y=function(l){return arguments.length?(n="function"==typeof l?l:gs(+l),a):n},a.defined=function(l){return arguments.length?(t="function"==typeof l?l:gs(!!l),a):t},a.curve=function(l){return arguments.length?(s=l,null!=i&&(o=s(i)),a):s},a.context=function(l){return arguments.length?(null==l?i=o=null:o=s(i=l),a):i},a}().x(s=>s.x).y(s=>s.y).curve(this.curve)(t)}onZoom(t,i){if(this.enableTrackpadSupport&&!t.ctrlKey)return void this.pan(-1*t.deltaX,-1*t.deltaY);const s=1+("in"===i?this.zoomSpeed:-this.zoomSpeed),o=this.zoomLevel*s;if(!(o<=this.minZoomLevel||o>=this.maxZoomLevel)&&this.enableZoom)if(!0===this.panOnZoom&&t){const a=t.clientX,l=t.clientY,c=this.el.nativeElement.querySelector("svg"),d=c.querySelector("g.chart"),u=c.createSVGPoint();u.x=a,u.y=l;const m=u.matrixTransform(d.getScreenCTM().inverse());this.pan(m.x,m.y,!0),this.zoom(s),this.pan(-m.x,-m.y,!0)}else this.zoom(s)}pan(t,i,s=!1){const o=s?1:this.zoomLevel;this.transformationMatrix=pi(this.transformationMatrix,Il(t/o,i/o)),this.updateTransform()}panTo(t,i){null==t||isNaN(t)||null==i||isNaN(i)||(this.transformationMatrix=pi(this.transformationMatrix,Il((-this.panOffsetX-t*this.zoomLevel+this.dims.width/2)/this.zoomLevel,(-this.panOffsetY-i*this.zoomLevel+this.dims.height/2)/this.zoomLevel)),this.updateTransform())}zoom(t){this.transformationMatrix=pi(this.transformationMatrix,function hm(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return um(n)&&(n=e),{a:e,c:0,e:0,b:0,d:n,f:0}}(t,t)),this.zoomChange.emit(this.zoomLevel),this.updateTransform()}zoomTo(t){this.transformationMatrix.a=isNaN(t)?this.transformationMatrix.a:Number(t),this.transformationMatrix.d=isNaN(t)?this.transformationMatrix.d:Number(t),this.zoomChange.emit(this.zoomLevel),this.updateTransform(),this.update()}onDrag(t){if(!this.draggingEnabled)return;const i=this.draggingNode;this.layout&&"string"!=typeof this.layout&&this.layout.onDrag&&this.layout.onDrag(i,t),i.position.x+=t.movementX/this.zoomLevel,i.position.y+=t.movementY/this.zoomLevel,i.transform=`translate(${i.position.x-i.dimension.width/2}, ${i.position.y-i.dimension.height/2})`;for(const a of this.graph.edges)if((a.target===i.id||a.source===i.id||a.target.id===i.id||a.source.id===i.id)&&this.layout&&"string"!=typeof this.layout){const l=this.layout.updateEdge(this.graph,a),c=l instanceof gi.y?l:(0,On.of)(l);this.graphSubscription.add(c.subscribe(d=>{this.graph=d,this.redrawEdge(a)}))}this.redrawLines(!1),this.updateMinimap()}redrawEdge(t){const i=this.generateLine(t.points);this.calcDominantBaseline(t),t.oldLine=t.line,t.line=i}updateTransform(){this.transform=function gm(e){return function Al(e){return"matrix("+e.a+","+e.b+","+e.c+","+e.d+","+e.e+","+e.f+")"}(e)}(function _m(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e10;return{a:Math.round(e.a*n)/n,b:Math.round(e.b*n)/n,c:Math.round(e.c*n)/n,d:Math.round(e.d*n)/n,e:Math.round(e.e*n)/n,f:Math.round(e.f*n)/n}}(this.transformationMatrix,100))}onClick(t){this.select.emit(t)}onActivate(t){this.activeEntries.indexOf(t)>-1||(this.activeEntries=[t,...this.activeEntries],this.activate.emit({value:t,entries:this.activeEntries}))}onDeactivate(t){const i=this.activeEntries.indexOf(t);this.activeEntries.splice(i,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:t,entries:this.activeEntries})}getSeriesDomain(){return this.nodes.map(t=>this.groupResultsBy(t)).reduce((t,i)=>-1!==t.indexOf(i)?t:t.concat([i]),[]).sort()}trackLinkBy(t,i){return i.id}trackNodeBy(t,i){return i.id}setColors(){this.colors=new D_(this.scheme,this.seriesDomain,this.customColors)}onMouseMove(t){this.isMouseMoveCalled=!0,(this.isPanning||this.isMinimapPanning)&&this.panningEnabled?this.panWithConstraints(this.panningAxis,t):this.isDragging&&this.draggingEnabled&&this.onDrag(t)}onMouseDown(t){this.isMouseMoveCalled=!1}graphClick(t){this.isMouseMoveCalled||this.clickHandler.emit(t)}onTouchStart(t){this._touchLastX=t.changedTouches[0].clientX,this._touchLastY=t.changedTouches[0].clientY,this.isPanning=!0}onTouchMove(t){if(this.isPanning&&this.panningEnabled){const i=t.changedTouches[0].clientX,s=t.changedTouches[0].clientY,o=i-this._touchLastX,a=s-this._touchLastY;this._touchLastX=i,this._touchLastY=s,this.pan(o,a)}}onTouchEnd(t){this.isPanning=!1}onMouseUp(t){this.isDragging=!1,this.isPanning=!1,this.isMinimapPanning=!1,this.layout&&"string"!=typeof this.layout&&this.layout.onDragEnd&&this.layout.onDragEnd(this.draggingNode,t)}onNodeMouseDown(t,i){!this.draggingEnabled||(this.isDragging=!0,this.draggingNode=i,this.layout&&"string"!=typeof this.layout&&this.layout.onDragStart&&this.layout.onDragStart(i,t))}onMinimapDragMouseDown(){this.isMinimapPanning=!0}onMinimapPanTo(t){this.panTo((t.offsetX-(this.dims.width-(this.graphDims.width+this.minimapOffsetX)/this.minimapScaleCoefficient))*this.minimapScaleCoefficient,(t.offsetY+this.minimapOffsetY/this.minimapScaleCoefficient)*this.minimapScaleCoefficient),this.isMinimapPanning=!0}center(){this.panTo(this.graphDims.width/2,this.graphDims.height/2)}zoomToFit(){let s=Math.min(this.dims.height/this.graphDims.height,this.dims.width/this.graphDims.width,1);s<this.minZoomLevel&&(s=this.minZoomLevel),s>this.maxZoomLevel&&(s=this.maxZoomLevel),s!==this.zoomLevel&&(this.zoomLevel=s,this.updateTransform(),this.zoomChange.emit(this.zoomLevel))}panToNodeId(t){const i=this.graph.nodes.find(s=>s.id===t);!i||this.panTo(i.position.x,i.position.y)}panWithConstraints(t,i){let s=i.movementX,o=i.movementY;switch(this.isMinimapPanning&&(s=-this.minimapScaleCoefficient*s*this.zoomLevel,o=-this.minimapScaleCoefficient*o*this.zoomLevel),t){case In.Horizontal:this.pan(s,0);break;case In.Vertical:this.pan(0,o);break;default:this.pan(s,o)}}updateMidpointOnEdge(t,i){if(t&&i)if(i.length%2==1)t.midPoint=i[Math.floor(i.length/2)];else{const s=i[i.length/2],o=i[i.length/2-1];t.midPoint={x:(s.x+o.x)/2,y:(s.y+o.y)/2}}}basicUpdate(){if(this.view)this.width=this.view[0],this.height=this.view[1];else{const t=this.getContainerDims();t&&(this.width=t.width,this.height=t.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let t,i;const s=this.el.nativeElement;if(null!==s.parentNode){const o=s.parentNode.getBoundingClientRect();t=o.width,i=o.height}return t&&i?{width:t,height:i}:null}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){const i=(0,ce.R)(window,"resize").pipe((0,im.b)(200)).subscribe(s=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=i}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(r.sBO),r.Y36(ec))},e.\u0275cmp=r.Xpm({type:e,selectors:[["ngx-graph"]],contentQueries:function(t,i,s){if(1&t&&(r.Suo(s,Qm,5),r.Suo(s,Km,5),r.Suo(s,qm,5),r.Suo(s,t_,5),r.Suo(s,e_,5)),2&t){let o;r.iGM(o=r.CRH())&&(i.linkTemplate=o.first),r.iGM(o=r.CRH())&&(i.nodeTemplate=o.first),r.iGM(o=r.CRH())&&(i.clusterTemplate=o.first),r.iGM(o=r.CRH())&&(i.defsTemplate=o.first),r.iGM(o=r.CRH())&&(i.miniMapNodeTemplate=o.first)}},viewQuery:function(t,i){if(1&t&&(r.Gf(n_,5),r.Gf(i_,5)),2&t){let s;r.iGM(s=r.CRH())&&(i.nodeElements=s),r.iGM(s=r.CRH())&&(i.linkElements=s)}},hostBindings:function(t,i){1&t&&r.NdJ("mousemove",function(o){return i.onMouseMove(o)},!1,r.evT)("mousedown",function(o){return i.onMouseDown(o)},!1,r.evT)("click",function(o){return i.graphClick(o)},!1,r.evT)("touchmove",function(o){return i.onTouchMove(o)},!1,r.evT)("mouseup",function(o){return i.onMouseUp(o)},!1,r.evT)},inputs:{nodes:"nodes",clusters:"clusters",links:"links",activeEntries:"activeEntries",curve:"curve",draggingEnabled:"draggingEnabled",nodeHeight:"nodeHeight",nodeMaxHeight:"nodeMaxHeight",nodeMinHeight:"nodeMinHeight",nodeWidth:"nodeWidth",nodeMinWidth:"nodeMinWidth",nodeMaxWidth:"nodeMaxWidth",panningEnabled:"panningEnabled",panningAxis:"panningAxis",enableZoom:"enableZoom",zoomSpeed:"zoomSpeed",minZoomLevel:"minZoomLevel",maxZoomLevel:"maxZoomLevel",autoZoom:"autoZoom",panOnZoom:"panOnZoom",animate:"animate",autoCenter:"autoCenter",update$:"update$",center$:"center$",zoomToFit$:"zoomToFit$",panToNode$:"panToNode$",layout:"layout",layoutSettings:"layoutSettings",enableTrackpadSupport:"enableTrackpadSupport",showMiniMap:"showMiniMap",miniMapMaxWidth:"miniMapMaxWidth",miniMapMaxHeight:"miniMapMaxHeight",miniMapPosition:"miniMapPosition",view:"view",scheme:"scheme",customColors:"customColors",animations:"animations",groupResultsBy:"groupResultsBy",zoomLevel:"zoomLevel",panOffsetX:"panOffsetX",panOffsetY:"panOffsetY"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",zoomChange:"zoomChange",clickHandler:"clickHandler"},features:[r.TTD],ngContentSelectors:x_,decls:6,vars:11,consts:[["mouseWheel","",1,"ngx-charts-outer",3,"mouseWheelUp","mouseWheelDown"],[1,"ngx-charts"],["class","graph chart",3,"touchstart","touchend",4,"ngIf"],["class","minimap",4,"ngIf"],[1,"graph","chart",3,"touchstart","touchend"],[3,"ngTemplateOutlet",4,"ngIf"],["class","text-path",4,"ngFor","ngForOf"],[1,"panning-rect",3,"mousedown"],[1,"clusters"],["class","node-group",3,"old-node","id","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"links"],["class","link-group",3,"id",4,"ngFor","ngForOf","ngForTrackBy"],[1,"nodes"],["class","node-group",3,"old-node","id","click","mousedown",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngTemplateOutlet"],[1,"text-path"],[1,"node-group",3,"id","click"],["clusterElement",""],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["class","node cluster",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"node","cluster"],["alignment-baseline","central"],[1,"link-group",3,"id"],["linkElement",""],["class","edge",4,"ngIf"],[1,"edge"],[1,"node-group",3,"id","click","mousedown"],["nodeElement",""],["r","10",4,"ngIf"],["r","10"],[1,"minimap"],[1,"minimap-background",3,"mousedown"],[1,"minimap-nodes"],["class","node-group",3,"old-node","id",4,"ngFor","ngForOf","ngForTrackBy"],[1,"minimap-drag",3,"mousedown"],[1,"node-group",3,"id"]],template:function(t,i){1&t&&(r.F$t(),r.TgZ(0,"div",0),r.NdJ("mouseWheelUp",function(o){return i.onZoom(o,"in")})("mouseWheelDown",function(o){return i.onZoom(o,"out")}),r.O4$(),r.TgZ(1,"svg",1),r.YNc(2,p_,12,12,"g",2),r.TgZ(3,"clipPath"),r._UZ(4,"rect"),r.qZA(),r.YNc(5,y_,6,15,"g",3),r.qZA()()),2&t&&(r.Udp("width",i.width,"px"),r.Q6J("@animationState","active")("@.disabled",!i.animations),r.xp6(1),r.uIk("width",i.width)("height",i.height),r.xp6(1),r.Q6J("ngIf",i.initialized&&i.graph),r.xp6(1),r.uIk("id",i.minimapClipPathId),r.xp6(1),r.uIk("width",i.graphDims.width/i.minimapScaleCoefficient)("height",i.graphDims.height/i.minimapScaleCoefficient),r.xp6(1),r.Q6J("ngIf",i.showMiniMap))},dependencies:[I_,D.O5,D.tP,D.sg],styles:[".minimap .minimap-background{fill:#0000001a}.minimap .minimap-drag{fill:#0003;stroke:#fff;stroke-width:1px;stroke-dasharray:2px;stroke-dashoffset:2px;cursor:pointer}.minimap .minimap-drag.panning{fill:#0000004d}.minimap .minimap-nodes{opacity:.5;pointer-events:none}.graph{-webkit-user-select:none;user-select:none}.graph .edge{stroke:#666;fill:none}.graph .edge .edge-label{stroke:none;font-size:12px;fill:#251e1e}.graph .panning-rect{fill:#0000;cursor:move}.graph .node-group.old-node{transition:transform .5s ease-in-out}.graph .node-group .node:focus{outline:none}.graph .cluster rect{opacity:.2}\n"],encapsulation:2,data:{animation:[(0,M.X$)("animationState",[(0,M.eR)(":enter",[(0,M.oB)({opacity:0}),(0,M.jt)("500ms 100ms",(0,M.oB)({opacity:1}))])])]},changeDetection:0}),(0,T.gn)([S_(500)],e.prototype,"updateMinimap",null),e})(),R_=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[ec],imports:[[D.ez]]}),e})(),F_=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[D.ez],R_]}),e})();var L_=b(44287),or=b(10963),cn=b(29466),B_=b(21850);function G_(e,n){if(1&e&&(r.TgZ(0,"tr")(1,"td",11),r._uU(2),r.qZA(),r.TgZ(3,"td",12),r._uU(4),r.qZA(),r.TgZ(5,"td",13)(6,"span"),r.ALo(7,"severityBadge"),r._uU(8),r.qZA()(),r.TgZ(9,"td",14),r._uU(10),r.ALo(11,"date"),r.qZA()()),2&e){const t=n.$implicit,i=r.oxw();r.xp6(2),r.Oqu(t.event_name),r.xp6(2),r.Oqu(t.content),r.xp6(2),r.Gre("badge ",r.lcZ(7,7,t.severity),""),r.xp6(2),r.Oqu(t.severity),r.xp6(2),r.Oqu(r.xi3(11,9,i.getLogDate(t.created_at),"medium"))}}let H_=(()=>{class e{trackByLogId(t,i){return i.id}getLogDate(t){return Date.parse(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["dxp-dc-ch-dashboard-recent-logs-list"]],inputs:{logs:"logs"},decls:21,vars:2,consts:[[1,"table-responsive"],[1,"px-4","border-gray-10"],[1,"table","table-layout-fixed"],[1,"table-header"],["scope","col",1,"w-15"],["translate","",1,"text-muted"],["scope","col",1,"w-60"],["translate","",1,"text-muted","text-nowrap"],["scope","col",1,"w-10"],[1,"px-4"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"tables-source","py-3","w-15","text-nowrap"],[1,"truncate","w-60"],[1,"tables-source","w-10","text-nowrap"],[1,"w-15","text-nowrap"]],template:function(t,i){1&t&&(r.TgZ(0,"div",0)(1,"div",1)(2,"table",2)(3,"thead",3)(4,"tr")(5,"th",4)(6,"span",5),r._uU(7," [Type] "),r.qZA()(),r.TgZ(8,"th",6)(9,"span",7),r._uU(10," [Description] "),r.qZA()(),r.TgZ(11,"th",8)(12,"span",7),r._uU(13," [Severity] "),r.qZA()(),r.TgZ(14,"th",4)(15,"span",5),r._uU(16," [DateTime] "),r.qZA()()()()()(),r.TgZ(17,"div",9)(18,"table",2)(19,"tbody"),r.YNc(20,G_,12,12,"tr",10),r.qZA()()()()),2&t&&(r.xp6(20),r.Q6J("ngForOf",i.logs)("ngForTrackBy",i.trackByLogId))},dependencies:[D.sg,_.Pi,D.uU,B_.a],styles:["tr[_ngcontent-%COMP%]:not(:last-child){border-bottom:.5px solid #e0e6eb}td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{padding-left:0}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{padding-right:0}th[_ngcontent-%COMP%]{border:0}.border-gray-10[_ngcontent-%COMP%]{border-left:0;border-right:0}"],changeDetection:0}),e})();function V_(e,n){if(1&e&&(r.ynx(0)(1),r._UZ(2,"dxp-dc-ch-dashboard-recent-logs-list",10),r.BQk()()),2&e){const t=r.oxw().ngIf;r.xp6(2),r.Q6J("logs",t)}}function j_(e,n){if(1&e&&(r.ynx(0),r.YNc(1,V_,3,1,"ng-container",8),r.BQk()),2&e){const t=n.ngIf;r.oxw();const i=r.MAs(2);r.xp6(1),r.Q6J("ngIf",t.length>0)("ngIfElse",i)}}function z_(e,n){1&e&&(r.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"div",14)(4,"h2",15),r._uU(5," [NoLogsYet] "),r.qZA()()()()()),2&e&&r.Akn("min-height: 400px")}function U_(e,n){if(1&e&&(r.YNc(0,j_,2,2,"ng-container",8),r.YNc(1,z_,6,2,"ng-template",null,9,r.W1O)),2&e){const t=r.MAs(2),i=r.oxw().ngIf;r.Q6J("ngIf",i.logs)("ngIfElse",t)}}function W_(e,n){if(1&e&&(r.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),r._uU(4,"[RecentActivity] "),r.qZA(),r.TgZ(5,"a",5),r._uU(6," [ViewAllLogs] "),r.qZA()(),r.TgZ(7,"dxp-web-ui-state-container",6),r.YNc(8,U_,3,2,"ng-template",null,7,r.W1O),r.qZA()()()),2&e){const t=n.ngIf,i=r.MAs(9);r.xp6(7),r.Q6J("state",t.status)("resolved",i)}}const $_=function(e,n){return{status:e,logs:n}};let Y_=(()=>{class e{constructor(t){this.logsService=t}ngOnInit(){this.logs$=this.logsService.get(this.eventUrl,{num_records:7}),this.status$=this.logsService.status$}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(w.u))},e.\u0275cmp=r.Xpm({type:e,selectors:[["dxp-dc-ch-dashboard-recent-logs"]],inputs:{eventUrl:"eventUrl"},decls:3,vars:8,consts:[["class","recent-logs",4,"ngIf"],[1,"recent-logs"],[1,"card"],[1,"d-flex","d-inline-block","justify-content-between","m-4","mb-3"],["translate","",1,"card-title"],["routerLink","/logs","translate",""],[3,"state","resolved"],["resolved",""],[4,"ngIf","ngIfElse"],["emptyStateContainer",""],[3,"logs"],[1,"empty"],[1,"card-body","text-center"],[1,"row","justify-content-center"],[1,"col-12","col-md-10","col-xl-8"],["translate",""]],template:function(t,i){1&t&&(r.YNc(0,W_,10,2,"div",0),r.ALo(1,"async"),r.ALo(2,"async")),2&t&&r.Q6J("ngIf",r.WLB(5,$_,r.lcZ(1,1,i.status$),r.lcZ(2,3,i.logs$)))},dependencies:[D.O5,S.yS,_.Pi,cn.q,H_,D.Ov],changeDetection:0}),e})();var nc=b(90592),Es=b(75770),Jt=b(92129),Ln=(()=>{return(e=Ln||(Ln={})).LEFT_TO_RIGHT="LR",e.TOP_TO_BOTTOM="TB",e.BOTTOM_TO_TOP="BT",Ln;var e})();class Z_{constructor(){this.defaultSettings={orientation:Ln.LEFT_TO_RIGHT,curveDistance:150,rankPadding:0,multigraph:!0,compound:!0,ranker:"longest-path"},this.settings={}}run(n){this.createDagreGraph(n),ze.layout(this.dagreGraph),n.edgeLabels=this.dagreGraph._edgeLabels;const t=Object.keys(this.dagreGraph._nodes).length-1,i=this.getStartingNodePosition("y")/t;let a=0,l=0;for(const c in this.dagreGraph._nodes){l=a-1;const d=this.dagreGraph._nodes[c],u=n.nodes.find(m=>m.id===d.id);u.position={x:d.x,y:i/2+i*l+21},u.dimension={width:d.width,height:d.height},0===a?(u.position.x=150,u.position.y=this.getStartingNodePosition("y")/2+21):u.position.x=this.getStartingNodePosition("x"),a++}for(const c of n.edges)this.updateEdge(n,c);return n}updateEdge(n,t){const i=n.nodes.find(E=>E.id===t.source),s=n.nodes.find(E=>E.id===t.target),o=this.settings.orientation===Ln.BOTTOM_TO_TOP||this.settings.orientation===Ln.TOP_TO_BOTTOM?"y":"x",a="y"===o?"x":"y",l="y"===o?"height":"width",c=i.position[o]<=s.position[o]?-1:1,u={[a]:s.position[a]-13,[o]:s.position[o]+c*(s.dimension[l]/2)};t.points=[{[a]:i.position[a],[o]:i.position[o]-c*(i.dimension[l]/1.5)},{[a]:u[a],[o]:u[o]+c*(this.settings.curveDistance||this.defaultSettings.curveDistance)*3},u];const v=`${t.source}\x01${t.target}\x01${t.id}`;return n.edgeLabels[v]&&(n.edgeLabels[v].points=t.points),n}createDagreGraph(n){const t=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new ze.graphlib.Graph({compound:t.compound,multigraph:t.multigraph}),this.dagreGraph.setGraph({rankdir:t.orientation,marginx:t.marginX,marginy:t.marginY,edgesep:t.edgePadding,ranksep:t.rankPadding,nodesep:t.nodePadding,align:t.align,acyclicer:t.acyclicer,ranker:t.ranker,compound:t.compound}),this.dagreNodes=n.nodes.map(i=>{const s=Object.assign({},i);return s.width=i.dimension.width,s.height=i.dimension.height,s.x=i.position.x,s.y=i.position.y,s}),this.dagreEdges=n.edges.map(i=>{let s=1;const o=Object.assign({},i);return o.id||(o.id="a"+s.toString(),s++),o});for(const i of this.dagreNodes)i.width||(i.width=20),i.height||(i.height=30),this.dagreGraph.setNode(i.id,i);for(const i of this.dagreEdges)t.multigraph?this.dagreGraph.setEdge(i.source,i.target,i,i.id):this.dagreGraph.setEdge(i.source,i.target);return this.dagreGraph}getStartingNodePosition(n){const t=document.getElementsByClassName("ngx-charts-outer").item(0);return Number("x"===n?t.clientWidth:t.clientHeight)}}var X_=b(45068),sc=b(55482),oc=b(53660),We=b(17254),J_=b(54453);new gi.y(J_.Z),b(63097),b(38029),b(95299),b(42944),b(62142);var r0=b(34311),a0=b(57738),$t=b(74753),Se=b(58006),ve=b(50277),As=(b(49891),b(55390)),lr=(b(20720),b(77252)),cr=b(91430),lc=b(69773),c0=b(7739),u0=(b(16431),b(5026));b(45028);const cc=["*"];"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){let n=this;if(!document.documentElement.contains(n))return null;do{if(n.matches(e))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null});const uc={animation:!0,transitionTimerDelayMs:5},Ob=()=>{},{transitionTimerDelayMs:Ab}=uc,_i=new Map,re=(e,n,t,i)=>{let s=i.context||{};const o=_i.get(n);if(o)switch(i.runningTransition){case"continue":return X_.E;case"stop":e.run(()=>o.transition$.complete()),s=Object.assign(o.context,s),_i.delete(n)}const a=t(n,i.animation,s)||Ob;if(!i.animation||"none"===window.getComputedStyle(n).transitionProperty)return e.run(()=>a()),(0,On.of)(void 0).pipe(function Eb(e){return n=>new gi.y(t=>n.subscribe({next:a=>e.run(()=>t.next(a)),error:a=>e.run(()=>t.error(a)),complete:()=>e.run(()=>t.complete())}))}(e));const l=new ie.xQ,c=new ie.xQ,d=l.pipe(function l0(...e){return n=>(0,a0.z)(n,(0,On.of)(...e))}(!0));_i.set(n,{transition$:l,complete:()=>{c.next(),c.complete()},context:s});const u=function kb(e){const{transitionDelay:n,transitionDuration:t}=window.getComputedStyle(e);return 1e3*(parseFloat(n)+parseFloat(t))}(n);return e.runOutsideAngular(()=>{const m=(0,ce.R)(n,"transitionend").pipe((0,$t.R)(d),(0,Se.h)(({target:N})=>N===n)),v=(0,sc.H)(u+Ab).pipe((0,$t.R)(d));(0,oc.S3)(v,m,c).pipe((0,$t.R)(d)).subscribe(()=>{_i.delete(n),e.run(()=>{a(),l.next(),l.complete()})})}),l.asObservable()};let bi=(()=>{class e{constructor(){this.animation=uc.animation}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Yt=(()=>{return(e=Yt||(Yt={}))[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",Yt;var e})();const Rs=(e,n)=>!!n&&n.some(t=>t.contains(e)),yc=(e,n)=>!n||null!=function Mb(e,n){return n&&void 0!==e.closest?e.closest(n):null}(e,n),n1="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");const r1=/\s+/,Dc=new class o1{getAllStyles(n){return window.getComputedStyle(n)}getStyle(n,t){return this.getAllStyles(n)[t]}isStaticPositioned(n){return"static"===(this.getStyle(n,"position")||"static")}offsetParent(n){let t=n.offsetParent||document.documentElement;for(;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement}position(n,t=!0){let i,s={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(n,"position"))i=n.getBoundingClientRect(),i={top:i.top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{const o=this.offsetParent(n);i=this.offset(n,!1),o!==document.documentElement&&(s=this.offset(o,!1)),s.top+=o.clientTop,s.left+=o.clientLeft}return i.top-=s.top,i.bottom-=s.top,i.left-=s.left,i.right-=s.left,t&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i}offset(n,t=!0){const i=n.getBoundingClientRect(),s_top=window.scrollY-document.documentElement.clientTop,s_left=window.scrollX-document.documentElement.clientLeft;let o={height:i.height||n.offsetHeight,width:i.width||n.offsetWidth,top:i.top+s_top,bottom:i.bottom+s_top,left:i.left+s_left,right:i.right+s_left};return t&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}positionElements(n,t,i,s){const[o="top",a="center"]=i.split("-"),l=s?this.offset(n,!1):this.position(n,!1),c=this.getAllStyles(t),d=parseFloat(c.marginTop),u=parseFloat(c.marginBottom),m=parseFloat(c.marginLeft),v=parseFloat(c.marginRight);let N=0,E=0;switch(o){case"top":N=l.top-(t.offsetHeight+d+u);break;case"bottom":N=l.top+l.height;break;case"left":E=l.left-(t.offsetWidth+m+v);break;case"right":E=l.left+l.width}switch(a){case"top":N=l.top;break;case"bottom":N=l.top+l.height-t.offsetHeight;break;case"left":E=l.left;break;case"right":E=l.left+l.width-t.offsetWidth;break;case"center":"top"===o||"bottom"===o?E=l.left+l.width/2-t.offsetWidth/2:N=l.top+l.height/2-t.offsetHeight/2}t.style.transform=`translate(${Math.round(E)}px, ${Math.round(N)}px)`;const k=t.getBoundingClientRect(),P=document.documentElement,V=window.innerHeight||P.clientHeight,Z=window.innerWidth||P.clientWidth;return k.left>=0&&k.top>=0&&k.right<=Z&&k.bottom<=V}};new Date(1882,10,12),new Date(2174,10,25);class gn{constructor(n,t,i){this.nodes=n,this.viewRef=t,this.componentRef=i}}class v1{constructor(n,t,i,s,o,a){this._type=n,this._injector=t,this._viewContainerRef=i,this._renderer=s,this._ngZone=o,this._applicationRef=a,this._windowRef=null,this._contentRef=null}open(n,t,i=!1){this._windowRef||(this._contentRef=this._getContentRef(n,t),this._windowRef=this._viewContainerRef.createComponent(this._type,{index:this._viewContainerRef.length,injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:s}=this._windowRef.location,o=this._ngZone.onStable.pipe((0,ve.q)(1),(0,c0.zg)(()=>re(this._ngZone,s,({classList:a})=>a.add("show"),{animation:i,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:o}}close(n=!1){return this._windowRef?re(this._ngZone,this._windowRef.location.nativeElement,({classList:t})=>t.remove("show"),{animation:n,runningTransition:"stop"}).pipe((0,lr.b)(()=>{var t;this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),null!==(t=this._contentRef)&&void 0!==t&&t.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):(0,On.of)(void 0)}_getContentRef(n,t){if(n){if(n instanceof r.Rgc){const i=n.createEmbeddedView(t);return this._applicationRef.attachView(i),new gn([i.rootNodes],i)}return new gn([[this._renderer.createText(`${n}`)]])}return new gn([])}}class R1{constructor(n,t){this.open=n,this.close=t,t||(this.close=n)}isManual(){return"manual"===this.open||"manual"===this.close}}const F1={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},Wc=e=>e>0?(0,lc.g)(e):n=>n;let Z1=(()=>{class e{constructor(t){this._ngbConfig=t,this.autoClose=!0,this.placement="auto",this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(bi))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),X1=0,J1=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(t,i){2&t&&(r.Ikx("id",i.id),r.Tol("tooltip"+(i.tooltipClass?" "+i.tooltipClass:"")),r.ekj("fade",i.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:cc,decls:3,vars:0,consts:[[1,"arrow"],[1,"tooltip-inner"]],template:function(t,i){1&t&&(r.F$t(),r._UZ(0,"div",0),r.TgZ(1,"div",1),r.Hsn(2),r.qZA())},styles:["ngb-tooltip-window{pointer-events:none}ngb-tooltip-window .tooltip-inner{pointer-events:auto}ngb-tooltip-window.bs-tooltip-top .arrow,ngb-tooltip-window.bs-tooltip-bottom .arrow{left:calc(50% - 0.4rem)}ngb-tooltip-window.bs-tooltip-top-left .arrow,ngb-tooltip-window.bs-tooltip-bottom-left .arrow{left:1em}ngb-tooltip-window.bs-tooltip-top-right .arrow,ngb-tooltip-window.bs-tooltip-bottom-right .arrow{left:auto;right:.8rem}ngb-tooltip-window.bs-tooltip-left .arrow,ngb-tooltip-window.bs-tooltip-right .arrow{top:calc(50% - 0.4rem)}ngb-tooltip-window.bs-tooltip-left-top .arrow,ngb-tooltip-window.bs-tooltip-right-top .arrow{top:.4rem}ngb-tooltip-window.bs-tooltip-left-bottom .arrow,ngb-tooltip-window.bs-tooltip-right-bottom .arrow{top:auto;bottom:.4rem}\n"],encapsulation:2,changeDetection:0}),e})(),Vs=(()=>{class e{constructor(t,i,s,o,a,l,c,d,u){this._elementRef=t,this._renderer=i,this._ngZone=l,this._document=c,this._changeDetector=d,this.shown=new r.vpe,this.hidden=new r.vpe,this._ngbTooltipWindowId="ngb-tooltip-"+X1++,this._windowRef=null,this.animation=a.animation,this.autoClose=a.autoClose,this.placement=a.placement,this.triggers=a.triggers,this.container=a.container,this.disableTooltip=a.disableTooltip,this.tooltipClass=a.tooltipClass,this.openDelay=a.openDelay,this.closeDelay=a.closeDelay,this._popupService=new v1(J1,s,o,i,this._ngZone,u),this._zoneSubscription=l.onStable.subscribe(()=>{this._windowRef&&function Nc(e,n,t,i,s){let o=Array.isArray(t)?t:t.split(r1);const a=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],l=n.classList,c=N=>{const[E,k]=N.split("-"),P=[];return s&&(P.push(`${s}-${E}`),k&&P.push(`${s}-${E}-${k}`),P.forEach(V=>{l.add(V)})),P};s&&a.forEach(N=>{l.remove(`${s}-${N}`)});let d=o.findIndex(N=>"auto"===N);d>=0&&a.forEach(function(N){null==o.find(E=>-1!==E.search("^"+N))&&o.splice(d++,1,N)});const u=n.style;u.position="absolute",u.top="0",u.left="0",u["will-change"]="transform";let m=null,v=!1;for(m of o){let N=c(m);if(Dc.positionElements(e,n,m,i)){v=!0;break}s&&N.forEach(E=>{l.remove(E)})}return v||(m=o[0],c(m),Dc.positionElements(e,n,m,i)),m}(this._elementRef.nativeElement,this._windowRef.location.nativeElement,this.placement,"body"===this.container,"bs-tooltip")})}set ngbTooltip(t){this._ngbTooltip=t,!t&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(t){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:i,transition$:s}=this._popupService.open(this._ngbTooltip,t,this.animation);this._windowRef=i,this._windowRef.instance.animation=this.animation,this._windowRef.instance.tooltipClass=this.tooltipClass,this._windowRef.instance.id=this._ngbTooltipWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),function xc(e,n,t,i,s,o,a,l){t&&e.runOutsideAngular((e=>n1?()=>setTimeout(()=>e(),100):e)(()=>{const d=(0,ce.R)(n,"keydown").pipe((0,$t.R)(s),(0,Se.h)(v=>v.which===Yt.Escape),(0,lr.b)(v=>v.preventDefault())),u=(0,ce.R)(n,"mousedown").pipe((0,Jt.U)(v=>{const N=v.target;return 2!==v.button&&!Rs(N,a)&&("inside"===t?Rs(N,o)&&yc(N,l):"outside"===t?!Rs(N,o):yc(N,l)||!Rs(N,o))}),(0,$t.R)(s)),m=(0,ce.R)(n,"mouseup").pipe((0,cr.M)(u),(0,Se.h)(([v,N])=>N),(0,lc.g)(0),(0,$t.R)(s));(0,oc.S3)([d.pipe((0,Jt.U)(v=>0)),m.pipe((0,Jt.U)(v=>1))]).subscribe(v=>e.run(()=>i(v)))}))}(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),s.subscribe(()=>this.shown.emit())}}close(){null!=this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(this.animation).subscribe(()=>{this._windowRef=null,this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function H1(e,n,t,i,s,o,a=0,l=0){const c=function L1(e,n=F1){const t=(e||"").trim();if(0===t.length)return[];const i=t.split(/\s+/).map(o=>o.split(":")).map(o=>{let a=n[o[0]]||o;return new R1(a[0],a[1])}),s=i.filter(o=>o.isManual());if(s.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===s.length&&i.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return i}(t);if(1===c.length&&c[0].isManual())return()=>{};const d=function B1(e,n,t,i){return new gi.y(s=>{const o=[],a=()=>s.next(!0),l=()=>s.next(!1),c=()=>s.next(!i());return t.forEach(d=>{d.open===d.close?o.push(e.listen(n,d.open,c)):o.push(e.listen(n,d.open,a),e.listen(n,d.close,l))}),()=>{o.forEach(d=>d())}})}(e,n,c,i).pipe(function G1(e,n,t){return i=>{let s=null;const o=i.pipe((0,Jt.U)(c=>({open:c})),(0,Se.h)(c=>{const d=t();return d===c.open||s&&s.open!==d?(s&&s.open!==c.open&&(s=null),!1):(s=c,!0)}),(0,u0.B)()),a=o.pipe((0,Se.h)(c=>c.open),Wc(e)),l=o.pipe((0,Se.h)(c=>!c.open),Wc(n));return(0,r0.T)(a,l).pipe((0,Se.h)(c=>c===s&&(s=null,c.open!==t())),(0,Jt.U)(c=>c.open))}}(a,l,i)).subscribe(u=>u?s():o());return()=>d.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:t}){t&&this.isOpen()&&(this._windowRef.instance.tooltipClass=t.currentValue)}ngOnDestroy(){this.close(),this._unregisterListenersFn&&this._unregisterListenersFn(),this._zoneSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(r.zs3),r.Y36(r.s_b),r.Y36(Z1),r.Y36(r.R0b),r.Y36(D.K0),r.Y36(r.sBO),r.Y36(r.z2F))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[r.TTD]}),e})(),$c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();function K1(e,n){if(1&e&&(r.TgZ(0,"div")(1,"label",1),r._uU(2,"[LatestAvailable]"),r.qZA(),r.TgZ(3,"span"),r._uU(4),r.qZA(),r._UZ(5,"i",3),r.qZA()),2&e){const t=r.oxw();r.xp6(4),r.Oqu(t.chVerLatest)}}function q1(e,n){if(1&e&&(r.TgZ(0,"div")(1,"label",1),r._uU(2,"[LatestAvailable]"),r.qZA(),r.TgZ(3,"span"),r._uU(4),r.qZA(),r._UZ(5,"i",3),r.qZA()),2&e){const t=r.oxw();r.xp6(4),r.Oqu(t.drupalVerLatest)}}new r.OlP("live announcer delay",{providedIn:"root",factory:function Q1(){return 100}});let tv=(()=>{class e{ngOnInit(){this.chVerCurrent=this.nodeInfo.chVersion.current,this.chVerLatest=this.nodeInfo.chVersion.latest,this.drupalVerCurrent=this.nodeInfo.drupalVersion.current,this.drupalVerLatest=this.nodeInfo.drupalVersion.latest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["dxp-dc-ch-dashboard-graph-node-info"]],inputs:{nodeInfo:"nodeInfo"},decls:11,vars:4,consts:[[1,"graph-info"],["translate",""],[4,"ngIf"],[1,"fe","fe-alert-triangle","alert-triangle"]],template:function(t,i){1&t&&(r.TgZ(0,"div",0)(1,"div")(2,"label",1),r._uU(3,"[ChVersion]"),r.qZA(),r._uU(4),r.YNc(5,K1,6,1,"div",2),r.qZA(),r.TgZ(6,"div")(7,"label",1),r._uU(8,"[DrupalVersion]"),r.qZA(),r._uU(9),r.YNc(10,q1,6,1,"div",2),r.qZA()()),2&t&&(r.xp6(4),r.hij("",i.chVerCurrent," "),r.xp6(1),r.Q6J("ngIf",i.chVerCurrent!==i.chVerLatest),r.xp6(4),r.hij("",i.drupalVerCurrent," "),r.xp6(1),r.Q6J("ngIf",i.drupalVerCurrent!==i.drupalVerLatest))},dependencies:[D.O5,_.Pi],styles:["[_nghost-%COMP%]{display:block;font-weight:400;font-size:12px;color:#141a1f}.graph-info[_ngcontent-%COMP%]{background-color:#fff;position:absolute;z-index:1;border:.5px solid #141a1f;box-sizing:border-box;border-radius:6px;left:38px;width:160px}.graph-info[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:last-child){border-bottom:.5px solid #c2ced6}.graph-info[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:0;text-align:left;padding:.2rem 0}.graph-info[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:.2rem .5rem 0;line-height:0}.alert-triangle[_ngcontent-%COMP%]{width:12px;margin-left:.5rem;padding-bottom:.2rem;color:#ce2727}"],changeDetection:0}),e})();function ev(e,n){if(1&e&&r._UZ(0,"dxp-dc-ch-dashboard-graph-node-info",4),2&e){const t=r.oxw();r.Q6J("@graphNodeInfo",void 0)("nodeInfo",t.node.data.info)}}const nv=function(e){return{backgroundColor:e}};let iv=(()=>{class e{constructor(){this.show=!1}toggleInfoBox(){this.show=!this.show}getColor(){return{default:"#70B812",healthy:"#498414",suppressed:"#FEB32B",unreachable:"#CD3A3D"}[this.node.data.status]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["dxp-dc-ch-dashboard-graph-node"]],inputs:{node:"node",show:"show",foreignObjectWrapper:"foreignObjectWrapper"},decls:6,vars:5,consts:[[1,"node-container"],[1,"dot",3,"ngStyle","mouseover","mouseleave"],[1,"label"],[3,"nodeInfo",4,"ngIf"],[3,"nodeInfo"]],template:function(t,i){1&t&&(r.TgZ(0,"div")(1,"div",0)(2,"div",1),r.NdJ("mouseover",function(){return i.toggleInfoBox()})("mouseleave",function(){return i.toggleInfoBox()}),r.qZA(),r.TgZ(3,"span",2),r._uU(4),r.qZA()(),r.YNc(5,ev,1,2,"dxp-dc-ch-dashboard-graph-node-info",3),r.qZA()),2&t&&(r.xp6(2),r.Q6J("ngStyle",r.VKq(3,nv,i.getColor())),r.xp6(2),r.Oqu(i.node.label),r.xp6(1),r.Q6J("ngIf",!0===i.show))},dependencies:[D.O5,D.PC,tv],styles:["[_nghost-%COMP%]{display:block}.dot[_ngcontent-%COMP%]{min-height:16px;min-width:16px;background-color:#bbb;border-radius:50%;display:inline-block;cursor:pointer}.label[_ngcontent-%COMP%]{margin:0 .25rem}.node-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;padding:0 .75rem}.node-container[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{align-self:center}"],data:{animation:[(0,M.X$)("graphNodeInfo",[(0,M.eR)(":enter",[(0,M.oB)({opacity:0}),(0,M.jt)("100ms",(0,M.oB)({opacity:1}))]),(0,M.eR)(":leave",[(0,M.jt)("100ms",(0,M.oB)({opacity:0}))])])]},changeDetection:0}),e})();function sv(e,n){if(1&e&&(r.O4$(),r.TgZ(0,"g",11)(1,"foreignObject",12,13),r.kcU(),r.TgZ(3,"div",14),r._UZ(4,"dxp-dc-ch-dashboard-graph-node",15),r.qZA()()()),2&e){const t=n.$implicit,i=r.MAs(2);r.xp6(4),r.Tol("subscriber"===t.data.type?"subscriber":"cardContainer publisher"),r.Q6J("node",t)("foreignObjectWrapper",i)}}function ov(e,n){if(1&e&&(r.TgZ(0,"ngx-graph",9),r.YNc(1,sv,5,5,"ng-template",null,10,r.W1O),r.qZA()),2&e){const t=r.oxw().ngIf,i=r.oxw();r.Q6J("links",i.links)("nodes",t.nodes)("nodeWidth",150)("nodeHeight",50)("layout",i.dagre)("autoCenter",!1)("enableZoom",!1)("autoZoom",!0)}}function rv(e,n){if(1&e&&(r.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),r._uU(4,"[SiteHealth] "),r._UZ(5,"span",5),r.ALo(6,"translate"),r.qZA(),r.TgZ(7,"a",6),r._uU(8,"[ManageConnectedSites]"),r.qZA()()(),r.TgZ(9,"dxp-web-ui-state-container",7),r.YNc(10,ov,3,8,"ng-template",null,8,r.W1O),r.qZA()()),2&e){const t=n.ngIf,i=r.MAs(11);r.xp6(5),r.Q6J("ngbTooltip",r.lcZ(6,4,"[SH-WIDGET-DETAILS]")),r.xp6(4),r.Q6J("height","600px")("state",t.status)("resolved",i)}}const av=function(e,n){return{status:e,nodes:n}};let lv=(()=>{class e{constructor(t,i,s){this.service=t,this.webhookStatusService=i,this.translate=s,this.dagre=new Z_,this.links=[],this.subscription=new tr.w}ngOnInit(){this.status$=(0,Es.aj)([this.service.status$,this.webhookStatusService.status$]).pipe((0,Jt.U)(([t,i])=>({connected:t,webhooks:i}))),this.nodes$=this.getNodes().pipe((0,Jt.U)(t=>this.movePublisherToFirstNode(t))),this.subscription.add(this.nodes$.subscribe(t=>t.filter(i=>"publisher"!==i.data.type).forEach(i=>this.links.push({id:"edge_"+i.id,target:i.id,source:this.publisherUuid}))))}movePublisherToFirstNode(t){return t.forEach((i,s,o)=>{if("publisher"!==i.data.type)return;this.publisherUuid=i.id;const a=o[0];o[0]=i,o[s]=a}),t}getNodes(){const t=this.service.getClientEntities$(),i=this.webhookStatusService.getWebhookStatus$();return(0,Es.aj)([t,i]).pipe((0,Jt.U)(([s,o])=>s.map(a=>{var l,c,d,u,m,v,N,E,k,P,V,Z,q,st,et,ht,ut,gt,mt;const Dt=o.find(Vt=>{var Xt;return Vt.uuid===(null===(Xt=a.metadata.settings.webhook)||void 0===Xt?void 0:Xt.uuid)}),wt=a.uuid,xt=(0,nc.FO)(a);return{id:wt,label:null===(c=null===(l=a.metadata)||void 0===l?void 0:l.settings)||void 0===c?void 0:c.name,data:{type:xt,status:null!==(d=null==Dt?void 0:Dt.current_state)&&void 0!==d?d:this.translate.instant("[disabled]"),info:{chVersion:{current:null!==(N=null===(v=null===(m=null===(u=a.attributes)||void 0===u?void 0:u.ch_version.value)||void 0===m?void 0:m.und)||void 0===v?void 0:v.current)&&void 0!==N?N:this.translate.instant("[NA]"),latest:null!==(V=null===(P=null===(k=null===(E=a.attributes)||void 0===E?void 0:E.ch_version.value)||void 0===k?void 0:k.und)||void 0===P?void 0:P.latest)&&void 0!==V?V:this.translate.instant("[NA]")},drupalVersion:{current:null!==(et=null===(st=null===(q=null===(Z=a.attributes)||void 0===Z?void 0:Z.drupal_version.value)||void 0===q?void 0:q.und)||void 0===st?void 0:st.current)&&void 0!==et?et:this.translate.instant("[NA]"),latest:null!==(mt=null===(gt=null===(ut=null===(ht=a.attributes)||void 0===ht?void 0:ht.drupal_version.value)||void 0===ut?void 0:ut.und)||void 0===gt?void 0:gt.latest)&&void 0!==mt?mt:this.translate.instant("[NA]")}}}}})))}ngOnDestroy(){this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(g.bY),r.Y36(g.vq),r.Y36(_.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["dxp-dc-ch-dashboard-site-health"]],decls:3,vars:8,consts:[["class","card",4,"ngIf"],[1,"card"],[1,"border-bottom"],[1,"d-flex","d-inline-block","justify-content-between","m-4"],["translate","",1,"font-weight-normal","font-size-base","font-weight-bold"],["placement","top",1,"fe","fe-help-circle","fe-1x","me-2","ads-status-dot","mr-2","pointer",3,"ngbTooltip"],["routerLink","/connected-sites","translate",""],[3,"height","state","resolved"],["resolved",""],[1,"chart-container",3,"links","nodes","nodeWidth","nodeHeight","layout","autoCenter","enableZoom","autoZoom"],["nodeTemplate",""],["xmlns","http://www.w3.org/2000/xhtml",1,"node"],["width","250","height","100%"],["foreignObjectWrapper",""],["xmlns","http://www.w3.org/1999/xhtml",1,"nodeContainer"],[3,"node","foreignObjectWrapper"]],template:function(t,i){1&t&&(r.YNc(0,rv,12,6,"div",0),r.ALo(1,"async"),r.ALo(2,"async")),2&t&&r.Q6J("ngIf",r.WLB(5,av,r.lcZ(1,1,i.status$),r.lcZ(2,3,i.nodes$)))},dependencies:[D.O5,S.yS,P_,_.Pi,cn.q,Vs,iv,D.Ov,_.X$],styles:["[_nghost-%COMP%]{display:block;min-height:600px;max-height:688px;min-width:1000px;width:100%;box-sizing:border-box;border-radius:12px;background-color:#fff;margin:0 auto;font-weight:600}[_nghost-%COMP%]    {display:block;height:inherit;width:inherit}[_nghost-%COMP%]     .dxp-web-ui-state-container__resolved{min-height:600px}[_nghost-%COMP%]     .cardContainer{height:50px;width:180px;display:block;background-color:#fff;border:.5px solid #141A1F;box-sizing:border-box;border-radius:6px}[_nghost-%COMP%]     .subscriber .publisher-title{height:24px}[_nghost-%COMP%]     .subscriber .publisher-title span{line-height:20px;font-size:18px;font-weight:400;padding-left:8px}[_nghost-%COMP%]     .subscriber .label{width:100%;overflow-wrap:break-word;margin:0;height:25px;border-bottom:.5px solid #C2CED6;font-size:16px;padding:0 0 0 10px;display:block}[_nghost-%COMP%]     .subscriber .label:last-child{border:none}[_nghost-%COMP%]     .publisher.cardContainer{display:flex;height:auto;width:auto;min-width:180px;border-radius:12px;background:#F1F8E7;align-items:center;min-height:50px}[_nghost-%COMP%]     .publisher .label{margin:auto;display:block;width:100%;font-size:16px;padding-right:inherit;padding-left:10px;border-radius:12px}.nodeContainer[_ngcontent-%COMP%]{display:inline-flex;min-width:180px;max-width:250px}"],changeDetection:0}),e})();var cv=b(27552),Yc=b.n(cv);const Zc="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function Xc(e,n,t){const i=t||(a=>Array.prototype.slice.call(a));let s=!1,o=[];return function(...a){o=i(a),s||(s=!0,Zc.call(window,()=>{s=!1,e.apply(n,o)}))}}const wr=e=>"start"===e?"left":"end"===e?"right":"center",ee=(e,n,t)=>"start"===e?n:"end"===e?t:(n+t)/2;function Pe(){}const hv=function(){let e=0;return function(){return e++}}();function Et(e){return null==e}function Ot(e){if(Array.isArray&&Array.isArray(e))return!0;const n=Object.prototype.toString.call(e);return"[object"===n.slice(0,7)&&"Array]"===n.slice(-6)}function Tt(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}const Gt=e=>("number"==typeof e||e instanceof Number)&&isFinite(+e);function pe(e,n){return Gt(e)?e:n}function yt(e,n){return void 0===e?n:e}const Jc=(e,n)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*n:+e;function It(e,n,t){if(e&&"function"==typeof e.call)return e.apply(t,n)}function At(e,n,t,i){let s,o,a;if(Ot(e))if(o=e.length,i)for(s=o-1;s>=0;s--)n.call(t,e[s],s);else for(s=0;s<o;s++)n.call(t,e[s],s);else if(Tt(e))for(a=Object.keys(e),o=a.length,s=0;s<o;s++)n.call(t,e[a[s]],a[s])}function js(e,n){let t,i,s,o;if(!e||!n||e.length!==n.length)return!1;for(t=0,i=e.length;t<i;++t)if(s=e[t],o=n[t],s.datasetIndex!==o.datasetIndex||s.index!==o.index)return!1;return!0}function zs(e){if(Ot(e))return e.map(zs);if(Tt(e)){const n=Object.create(null),t=Object.keys(e),i=t.length;let s=0;for(;s<i;++s)n[t[s]]=zs(e[t[s]]);return n}return e}function Qc(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function gv(e,n,t,i){if(!Qc(e))return;const s=n[e],o=t[e];Tt(s)&&Tt(o)?Si(s,o,i):n[e]=zs(o)}function Si(e,n,t){const i=Ot(n)?n:[n],s=i.length;if(!Tt(e))return e;const o=(t=t||{}).merger||gv;for(let a=0;a<s;++a){if(!Tt(n=i[a]))continue;const l=Object.keys(n);for(let c=0,d=l.length;c<d;++c)o(l[c],e,n,t)}return e}function Di(e,n){return Si(e,n,{merger:pv})}function pv(e,n,t){if(!Qc(e))return;const i=n[e],s=t[e];Tt(i)&&Tt(s)?Di(i,s):Object.prototype.hasOwnProperty.call(n,e)||(n[e]=zs(s))}function Kc(e,n){const t=e.indexOf(".",n);return-1===t?e.length:t}function Ye(e,n){if(""===n)return e;let t=0,i=Kc(n,t);for(;e&&i>t;)e=e[n.slice(t,i)],t=i+1,i=Kc(n,t);return e}function Sr(e){return e.charAt(0).toUpperCase()+e.slice(1)}const zt=e=>void 0!==e,Ze=e=>"function"==typeof e,qc=(e,n)=>{if(e.size!==n.size)return!1;for(const t of e)if(!n.has(t))return!1;return!0},kt=Math.PI,Pt=2*kt,vv=Pt+kt,Us=Number.POSITIVE_INFINITY,td=kt/180,Ht=kt/2,Ni=kt/4,ed=2*kt/3,me=Math.log10,Ne=Math.sign;function nd(e){const n=Math.round(e);e=Ci(e,n,e/1e3)?n:e;const t=Math.pow(10,Math.floor(me(e))),i=e/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function Ti(e){return!isNaN(parseFloat(e))&&isFinite(e)}function Ci(e,n,t){return Math.abs(e-n)<t}function id(e,n,t){let i,s,o;for(i=0,s=e.length;i<s;i++)o=e[i][t],isNaN(o)||(n.min=Math.min(n.min,o),n.max=Math.max(n.max,o))}function Qt(e){return e*(kt/180)}function Dr(e){return e*(180/kt)}function sd(e){if(!Gt(e))return;let n=1,t=0;for(;Math.round(e*n)/n!==e;)n*=10,t++;return t}function od(e,n){const t=n.x-e.x,i=n.y-e.y,s=Math.sqrt(t*t+i*i);let o=Math.atan2(i,t);return o<-.5*kt&&(o+=Pt),{angle:o,distance:s}}function Mi(e,n){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function wv(e,n){return(e-n+vv)%Pt-kt}function fe(e){return(e%Pt+Pt)%Pt}function Ei(e,n,t,i){const s=fe(e),o=fe(n),a=fe(t),l=fe(o-s),c=fe(a-s),d=fe(s-o),u=fe(s-a);return s===o||s===a||i&&o===a||l>c&&d<u}function Kt(e,n,t){return Math.max(n,Math.min(t,e))}function Re(e,n,t,i=1e-6){return e>=Math.min(n,t)-i&&e<=Math.max(n,t)+i}const Ws=e=>0===e||1===e,rd=(e,n,t)=>-Math.pow(2,10*(e-=1))*Math.sin((e-n)*Pt/t),ad=(e,n,t)=>Math.pow(2,-10*e)*Math.sin((e-n)*Pt/t)+1,ki={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*Ht),easeOutSine:e=>Math.sin(e*Ht),easeInOutSine:e=>-.5*(Math.cos(kt*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>Ws(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Ws(e)?e:rd(e,.075,.3),easeOutElastic:e=>Ws(e)?e:ad(e,.075,.3),easeInOutElastic:e=>Ws(e)?e:e<.5?.5*rd(2*e,.1125,.45):.5+.5*ad(2*e-1,.1125,.45),easeInBack:e=>e*e*(2.70158*e-1.70158),easeOutBack:e=>(e-=1)*e*(2.70158*e+1.70158)+1,easeInOutBack(e){let n=1.70158;return(e/=.5)<1?e*e*((1+(n*=1.525))*e-n)*.5:.5*((e-=2)*e*((1+(n*=1.525))*e+n)+2)},easeInBounce:e=>1-ki.easeOutBounce(1-e),easeOutBounce:e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,easeInOutBounce:e=>e<.5?.5*ki.easeInBounce(2*e):.5*ki.easeOutBounce(2*e-1)+.5};function Oi(e){return e+.5|0}const Xe=(e,n,t)=>Math.max(Math.min(e,t),n);function Ai(e){return Xe(Oi(2.55*e),0,255)}function Je(e){return Xe(Oi(255*e),0,255)}function Fe(e){return Xe(Oi(e/2.55)/100,0,1)}function ld(e){return Xe(Oi(100*e),0,100)}const _e={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Nr=[..."0123456789ABCDEF"],Dv=e=>Nr[15&e],Nv=e=>Nr[(240&e)>>4]+Nr[15&e],$s=e=>(240&e)>>4==(15&e);const kv=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function cd(e,n,t){const i=n*Math.min(t,1-t),s=(o,a=(o+e/30)%12)=>t-i*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function Ov(e,n,t){const i=(s,o=(s+e/60)%6)=>t-t*n*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function Av(e,n,t){const i=cd(e,1,.5);let s;for(n+t>1&&(s=1/(n+t),n*=s,t*=s),s=0;s<3;s++)i[s]*=1-n-t,i[s]+=n;return i}function Tr(e){const t=e.r/255,i=e.g/255,s=e.b/255,o=Math.max(t,i,s),a=Math.min(t,i,s),l=(o+a)/2;let c,d,u;return o!==a&&(u=o-a,d=l>.5?u/(2-o-a):u/(o+a),c=function Iv(e,n,t,i,s){return e===s?(n-t)/i+(n<t?6:0):n===s?(t-e)/i+2:(e-n)/i+4}(t,i,s,u,o),c=60*c+.5),[0|c,d||0,l]}function Cr(e,n,t,i){return(Array.isArray(n)?e(n[0],n[1],n[2]):e(n,t,i)).map(Je)}function Mr(e,n,t){return Cr(cd,e,n,t)}function dd(e){return(e%360+360)%360}const ud={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},hd={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Ys;const Vv=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,Er=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,Hn=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Zs(e,n,t){if(e){let i=Tr(e);i[n]=Math.max(0,Math.min(i[n]+i[n]*t,0===n?360:1)),i=Mr(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function fd(e,n){return e&&Object.assign(n||{},e)}function gd(e){var n={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(n={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(n.a=Je(e[3]))):(n=fd(e,{r:0,g:0,b:0,a:1})).a=Je(n.a),n}function Wv(e){return"r"===e.charAt(0)?function jv(e){const n=Vv.exec(e);let i,s,o,t=255;if(n){if(n[7]!==i){const a=+n[7];t=n[8]?Ai(a):Xe(255*a,0,255)}return i=+n[1],s=+n[3],o=+n[5],i=255&(n[2]?Ai(i):Xe(i,0,255)),s=255&(n[4]?Ai(s):Xe(s,0,255)),o=255&(n[6]?Ai(o):Xe(o,0,255)),{r:i,g:s,b:o,a:t}}}(e):function Fv(e){const n=kv.exec(e);let i,t=255;if(!n)return;n[5]!==i&&(t=n[6]?Ai(+n[5]):Je(+n[5]));const s=dd(+n[2]),o=+n[3]/100,a=+n[4]/100;return i="hwb"===n[1]?function Pv(e,n,t){return Cr(Av,e,n,t)}(s,o,a):"hsv"===n[1]?function Rv(e,n,t){return Cr(Ov,e,n,t)}(s,o,a):Mr(s,o,a),{r:i[0],g:i[1],b:i[2],a:t}}(e)}class Xs{constructor(n){if(n instanceof Xs)return n;const t=typeof n;let i;"object"===t?i=gd(n):"string"===t&&(i=function Cv(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*_e[e[1]],g:255&17*_e[e[2]],b:255&17*_e[e[3]],a:5===n?17*_e[e[4]]:255}:(7===n||9===n)&&(t={r:_e[e[1]]<<4|_e[e[2]],g:_e[e[3]]<<4|_e[e[4]],b:_e[e[5]]<<4|_e[e[6]],a:9===n?_e[e[7]]<<4|_e[e[8]]:255})),t}(n)||function Hv(e){Ys||(Ys=function Gv(){const e={},n=Object.keys(hd),t=Object.keys(ud);let i,s,o,a,l;for(i=0;i<n.length;i++){for(a=l=n[i],s=0;s<t.length;s++)o=t[s],l=l.replace(o,ud[o]);o=parseInt(hd[a],16),e[l]=[o>>16&255,o>>8&255,255&o]}return e}(),Ys.transparent=[0,0,0,0]);const n=Ys[e.toLowerCase()];return n&&{r:n[0],g:n[1],b:n[2],a:4===n.length?n[3]:255}}(n)||Wv(n)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var n=fd(this._rgb);return n&&(n.a=Fe(n.a)),n}set rgb(n){this._rgb=gd(n)}rgbString(){return this._valid?function zv(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Fe(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}(this._rgb):void 0}hexString(){return this._valid?function Ev(e){var n=(e=>$s(e.r)&&$s(e.g)&&$s(e.b)&&$s(e.a))(e)?Dv:Nv;return e?"#"+n(e.r)+n(e.g)+n(e.b)+((e,n)=>e<255?n(e):"")(e.a,n):void 0}(this._rgb):void 0}hslString(){return this._valid?function Bv(e){if(!e)return;const n=Tr(e),t=n[0],i=ld(n[1]),s=ld(n[2]);return e.a<255?`hsla(${t}, ${i}%, ${s}%, ${Fe(e.a)})`:`hsl(${t}, ${i}%, ${s}%)`}(this._rgb):void 0}mix(n,t){if(n){const i=this.rgb,s=n.rgb;let o;const a=t===o?.5:t,l=2*a-1,c=i.a-s.a,d=((l*c==-1?l:(l+c)/(1+l*c))+1)/2;o=1-d,i.r=255&d*i.r+o*s.r+.5,i.g=255&d*i.g+o*s.g+.5,i.b=255&d*i.b+o*s.b+.5,i.a=a*i.a+(1-a)*s.a,this.rgb=i}return this}interpolate(n,t){return n&&(this._rgb=function Uv(e,n,t){const i=Hn(Fe(e.r)),s=Hn(Fe(e.g)),o=Hn(Fe(e.b));return{r:Je(Er(i+t*(Hn(Fe(n.r))-i))),g:Je(Er(s+t*(Hn(Fe(n.g))-s))),b:Je(Er(o+t*(Hn(Fe(n.b))-o))),a:e.a+t*(n.a-e.a)}}(this._rgb,n._rgb,t)),this}clone(){return new Xs(this.rgb)}alpha(n){return this._rgb.a=Je(n),this}clearer(n){return this._rgb.a*=1-n,this}greyscale(){const n=this._rgb,t=Oi(.3*n.r+.59*n.g+.11*n.b);return n.r=n.g=n.b=t,this}opaquer(n){return this._rgb.a*=1+n,this}negate(){const n=this._rgb;return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,this}lighten(n){return Zs(this._rgb,2,n),this}darken(n){return Zs(this._rgb,2,-n),this}saturate(n){return Zs(this._rgb,1,n),this}desaturate(n){return Zs(this._rgb,1,-n),this}rotate(n){return function Lv(e,n){var t=Tr(e);t[0]=dd(t[0]+n),t=Mr(t),e.r=t[0],e.g=t[1],e.b=t[2]}(this._rgb,n),this}}function pd(e){return new Xs(e)}function md(e){if(e&&"object"==typeof e){const n=e.toString();return"[object CanvasPattern]"===n||"[object CanvasGradient]"===n}return!1}function _d(e){return md(e)?e:pd(e)}function kr(e){return md(e)?e:pd(e).saturate(.5).darken(.1).hexString()}const pn=Object.create(null),Or=Object.create(null);function Ii(e,n){if(!n)return e;const t=n.split(".");for(let i=0,s=t.length;i<s;++i){const o=t[i];e=e[o]||(e[o]=Object.create(null))}return e}function Ar(e,n,t){return"string"==typeof n?Si(Ii(e,n),t):Si(Ii(e,""),n)}var Ct=new class $v{constructor(n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,i)=>kr(i.backgroundColor),this.hoverBorderColor=(t,i)=>kr(i.borderColor),this.hoverColor=(t,i)=>kr(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(n)}set(n,t){return Ar(this,n,t)}get(n){return Ii(this,n)}describe(n,t){return Ar(Or,n,t)}override(n,t){return Ar(pn,n,t)}route(n,t,i,s){const o=Ii(this,n),a=Ii(this,i),l="_"+t;Object.defineProperties(o,{[l]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const c=this[l],d=a[s];return Tt(c)?Object.assign({},d,c):yt(c,d)},set(c){this[l]=c}}})}}({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function Js(e,n,t,i,s){let o=n[s];return o||(o=n[s]=e.measureText(s).width,t.push(s)),o>i&&(i=o),i}function Zv(e,n,t,i){let s=(i=i||{}).data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==n&&(s=i.data={},o=i.garbageCollect=[],i.font=n),e.save(),e.font=n;let a=0;const l=t.length;let c,d,u,m,v;for(c=0;c<l;c++)if(m=t[c],null!=m&&!0!==Ot(m))a=Js(e,s,o,a,m);else if(Ot(m))for(d=0,u=m.length;d<u;d++)v=m[d],null!=v&&!Ot(v)&&(a=Js(e,s,o,a,v));e.restore();const N=o.length/2;if(N>t.length){for(c=0;c<N;c++)delete s[o[c]];o.splice(0,N)}return a}function mn(e,n,t){const i=e.currentDevicePixelRatio,s=0!==t?Math.max(t/2,.5):0;return Math.round((n-s)*i)/i+s}function bd(e,n){(n=n||e.getContext("2d")).save(),n.resetTransform(),n.clearRect(0,0,e.width,e.height),n.restore()}function Pi(e,n,t,i){let s,o,a,l,c;const d=n.pointStyle,u=n.rotation,m=n.radius;let v=(u||0)*td;if(d&&"object"==typeof d&&(s=d.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return e.save(),e.translate(t,i),e.rotate(v),e.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),void e.restore();if(!(isNaN(m)||m<=0)){switch(e.beginPath(),d){default:e.arc(t,i,m,0,Pt),e.closePath();break;case"triangle":e.moveTo(t+Math.sin(v)*m,i-Math.cos(v)*m),v+=ed,e.lineTo(t+Math.sin(v)*m,i-Math.cos(v)*m),v+=ed,e.lineTo(t+Math.sin(v)*m,i-Math.cos(v)*m),e.closePath();break;case"rectRounded":c=.516*m,l=m-c,o=Math.cos(v+Ni)*l,a=Math.sin(v+Ni)*l,e.arc(t-o,i-a,c,v-kt,v-Ht),e.arc(t+a,i-o,c,v-Ht,v),e.arc(t+o,i+a,c,v,v+Ht),e.arc(t-a,i+o,c,v+Ht,v+kt),e.closePath();break;case"rect":if(!u){l=Math.SQRT1_2*m,e.rect(t-l,i-l,2*l,2*l);break}v+=Ni;case"rectRot":o=Math.cos(v)*m,a=Math.sin(v)*m,e.moveTo(t-o,i-a),e.lineTo(t+a,i-o),e.lineTo(t+o,i+a),e.lineTo(t-a,i+o),e.closePath();break;case"crossRot":v+=Ni;case"cross":o=Math.cos(v)*m,a=Math.sin(v)*m,e.moveTo(t-o,i-a),e.lineTo(t+o,i+a),e.moveTo(t+a,i-o),e.lineTo(t-a,i+o);break;case"star":o=Math.cos(v)*m,a=Math.sin(v)*m,e.moveTo(t-o,i-a),e.lineTo(t+o,i+a),e.moveTo(t+a,i-o),e.lineTo(t-a,i+o),v+=Ni,o=Math.cos(v)*m,a=Math.sin(v)*m,e.moveTo(t-o,i-a),e.lineTo(t+o,i+a),e.moveTo(t+a,i-o),e.lineTo(t-a,i+o);break;case"line":o=Math.cos(v)*m,a=Math.sin(v)*m,e.moveTo(t-o,i-a),e.lineTo(t+o,i+a);break;case"dash":e.moveTo(t,i),e.lineTo(t+Math.cos(v)*m,i+Math.sin(v)*m)}e.fill(),n.borderWidth>0&&e.stroke()}}function Ri(e,n,t){return t=t||.5,!n||e&&e.x>n.left-t&&e.x<n.right+t&&e.y>n.top-t&&e.y<n.bottom+t}function Fi(e,n){e.save(),e.beginPath(),e.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),e.clip()}function Li(e){e.restore()}function Xv(e,n,t,i,s){if(!n)return e.lineTo(t.x,t.y);if("middle"===s){const o=(n.x+t.x)/2;e.lineTo(o,n.y),e.lineTo(o,t.y)}else"after"===s!=!!i?e.lineTo(n.x,t.y):e.lineTo(t.x,n.y);e.lineTo(t.x,t.y)}function Jv(e,n,t,i){if(!n)return e.lineTo(t.x,t.y);e.bezierCurveTo(i?n.cp1x:n.cp2x,i?n.cp1y:n.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function _n(e,n,t,i,s,o={}){const a=Ot(n)?n:[n],l=o.strokeWidth>0&&""!==o.strokeColor;let c,d;for(e.save(),e.font=s.string,function Qv(e,n){n.translation&&e.translate(n.translation[0],n.translation[1]),Et(n.rotation)||e.rotate(n.rotation),n.color&&(e.fillStyle=n.color),n.textAlign&&(e.textAlign=n.textAlign),n.textBaseline&&(e.textBaseline=n.textBaseline)}(e,o),c=0;c<a.length;++c)d=a[c],l&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),Et(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(d,t,i,o.maxWidth)),e.fillText(d,t,i,o.maxWidth),Kv(e,t,i,d,o),i+=s.lineHeight;e.restore()}function Kv(e,n,t,i,s){if(s.strikethrough||s.underline){const o=e.measureText(i),a=n-o.actualBoundingBoxLeft,l=n+o.actualBoundingBoxRight,c=t-o.actualBoundingBoxAscent,d=t+o.actualBoundingBoxDescent,u=s.strikethrough?(c+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(a,u),e.lineTo(l,u),e.stroke()}}function Vn(e,n){const{x:t,y:i,w:s,h:o,radius:a}=n;e.arc(t+a.topLeft,i+a.topLeft,a.topLeft,-Ht,kt,!0),e.lineTo(t,i+o-a.bottomLeft),e.arc(t+a.bottomLeft,i+o-a.bottomLeft,a.bottomLeft,kt,Ht,!0),e.lineTo(t+s-a.bottomRight,i+o),e.arc(t+s-a.bottomRight,i+o-a.bottomRight,a.bottomRight,Ht,0,!0),e.lineTo(t+s,i+a.topRight),e.arc(t+s-a.topRight,i+a.topRight,a.topRight,0,-Ht,!0),e.lineTo(t+a.topLeft,i)}const qv=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),ty=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function ey(e,n){const t=(""+e).match(qv);if(!t||"normal"===t[1])return 1.2*n;switch(e=+t[2],t[3]){case"px":return e;case"%":e/=100}return n*e}const ny=e=>+e||0;function Ir(e,n){const t={},i=Tt(n),s=i?Object.keys(n):n,o=Tt(e)?i?a=>yt(e[a],e[n[a]]):a=>e[a]:()=>e;for(const a of s)t[a]=ny(o(a));return t}function vd(e){return Ir(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Qe(e){return Ir(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Zt(e){const n=vd(e);return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function jt(e,n){let t=yt((e=e||{}).size,(n=n||Ct.font).size);"string"==typeof t&&(t=parseInt(t,10));let i=yt(e.style,n.style);i&&!(""+i).match(ty)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");const s={family:yt(e.family,n.family),lineHeight:ey(yt(e.lineHeight,n.lineHeight),t),size:t,style:i,weight:yt(e.weight,n.weight),string:""};return s.string=function Yv(e){return!e||Et(e.size)||Et(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(s),s}function Bi(e,n,t,i){let o,a,l,s=!0;for(o=0,a=e.length;o<a;++o)if(l=e[o],void 0!==l&&(void 0!==n&&"function"==typeof l&&(l=l(n),s=!1),void 0!==t&&Ot(l)&&(l=l[t%l.length],s=!1),void 0!==l))return i&&!s&&(i.cacheable=!1),l}function Ke(e,n){return Object.assign(Object.create(e),n)}function Pr(e,n,t){t=t||(a=>e[a]<n);let o,i=e.length-1,s=0;for(;i-s>1;)o=s+i>>1,t(o)?s=o:i=o;return{lo:s,hi:i}}const Le=(e,n,t)=>Pr(e,t,i=>e[i][n]<t),sy=(e,n,t)=>Pr(e,t,i=>e[i][n]>=t),yd=["push","pop","shift","splice","unshift"];function xd(e,n){const t=e._chartjs;if(!t)return;const i=t.listeners,s=i.indexOf(n);-1!==s&&i.splice(s,1),!(i.length>0)&&(yd.forEach(o=>{delete e[o]}),delete e._chartjs)}function wd(e){const n=new Set;let t,i;for(t=0,i=e.length;t<i;++t)n.add(e[t]);return n.size===i?e:Array.from(n)}function Rr(e,n=[""],t=e,i,s=(()=>e[0])){zt(i)||(i=Cd("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:t,_fallback:i,_getTarget:s,override:a=>Rr([a,...e],n,t,i)};return new Proxy(o,{deleteProperty:(a,l)=>(delete a[l],delete a._keys,delete e[0][l],!0),get:(a,l)=>Dd(a,l,()=>function gy(e,n,t,i){let s;for(const o of n)if(s=Cd(ay(o,e),t),zt(s))return Fr(e,s)?Lr(t,i,e,s):s}(l,n,e,a)),getOwnPropertyDescriptor:(a,l)=>Reflect.getOwnPropertyDescriptor(a._scopes[0],l),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(a,l)=>Md(a).includes(l),ownKeys:a=>Md(a),set(a,l,c){const d=a._storage||(a._storage=s());return a[l]=d[l]=c,delete a._keys,!0}})}function jn(e,n,t,i){const s={_cacheable:!1,_proxy:e,_context:n,_subProxy:t,_stack:new Set,_descriptors:Sd(e,i),setContext:o=>jn(e,o,t,i),override:o=>jn(e.override(o),n,t,i)};return new Proxy(s,{deleteProperty:(o,a)=>(delete o[a],delete e[a],!0),get:(o,a,l)=>Dd(o,a,()=>function ly(e,n,t){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=e;let l=i[n];return Ze(l)&&a.isScriptable(n)&&(l=function cy(e,n,t,i){const{_proxy:s,_context:o,_subProxy:a,_stack:l}=t;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);return l.add(e),n=n(o,a||i),l.delete(e),Fr(e,n)&&(n=Lr(s._scopes,s,e,n)),n}(n,l,e,t)),Ot(l)&&l.length&&(l=function dy(e,n,t,i){const{_proxy:s,_context:o,_subProxy:a,_descriptors:l}=t;if(zt(o.index)&&i(e))n=n[o.index%n.length];else if(Tt(n[0])){const c=n,d=s._scopes.filter(u=>u!==c);n=[];for(const u of c){const m=Lr(d,s,e,u);n.push(jn(m,o,a&&a[e],l))}}return n}(n,l,e,a.isIndexable)),Fr(n,l)&&(l=jn(l,s,o&&o[n],a)),l}(o,a,l)),getOwnPropertyDescriptor:(o,a)=>o._descriptors.allKeys?Reflect.has(e,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,a),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(o,a)=>Reflect.has(e,a),ownKeys:()=>Reflect.ownKeys(e),set:(o,a,l)=>(e[a]=l,delete o[a],!0)})}function Sd(e,n={scriptable:!0,indexable:!0}){const{_scriptable:t=n.scriptable,_indexable:i=n.indexable,_allKeys:s=n.allKeys}=e;return{allKeys:s,scriptable:t,indexable:i,isScriptable:Ze(t)?t:()=>t,isIndexable:Ze(i)?i:()=>i}}const ay=(e,n)=>e?e+Sr(n):n,Fr=(e,n)=>Tt(n)&&"adapters"!==e&&(null===Object.getPrototypeOf(n)||n.constructor===Object);function Dd(e,n,t){if(Object.prototype.hasOwnProperty.call(e,n))return e[n];const i=t();return e[n]=i,i}function Nd(e,n,t){return Ze(e)?e(n,t):e}const uy=(e,n)=>!0===e?n:"string"==typeof e?Ye(n,e):void 0;function hy(e,n,t,i,s){for(const o of n){const a=uy(t,o);if(a){e.add(a);const l=Nd(a._fallback,t,s);if(zt(l)&&l!==t&&l!==i)return l}else if(!1===a&&zt(i)&&t!==i)return null}return!1}function Lr(e,n,t,i){const s=n._rootScopes,o=Nd(n._fallback,t,i),a=[...e,...s],l=new Set;l.add(i);let c=Td(l,a,t,o||t,i);return!(null===c||zt(o)&&o!==t&&(c=Td(l,a,o,c,i),null===c))&&Rr(Array.from(l),[""],s,o,()=>function fy(e,n,t){const i=e._getTarget();n in i||(i[n]={});const s=i[n];return Ot(s)&&Tt(t)?t:s}(n,t,i))}function Td(e,n,t,i,s){for(;t;)t=hy(e,n,t,i,s);return t}function Cd(e,n){for(const t of n){if(!t)continue;const i=t[e];if(zt(i))return i}}function Md(e){let n=e._keys;return n||(n=e._keys=function py(e){const n=new Set;for(const t of e)for(const i of Object.keys(t).filter(s=>!s.startsWith("_")))n.add(i);return Array.from(n)}(e._scopes)),n}function Ed(e,n,t,i){const{iScale:s}=e,{key:o="r"}=this._parsing,a=new Array(i);let l,c,d,u;for(l=0,c=i;l<c;++l)d=l+t,u=n[d],a[l]={r:s.parse(Ye(u,o),d)};return a}const my=Number.EPSILON||1e-14,zn=(e,n)=>n<e.length&&!e[n].skip&&e[n],kd=e=>"x"===e?"y":"x";function _y(e,n,t,i){const s=e.skip?n:e,o=n,a=t.skip?n:t,l=Mi(o,s),c=Mi(a,o);let d=l/(l+c),u=c/(l+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const m=i*d,v=i*u;return{previous:{x:o.x-m*(a.x-s.x),y:o.y-m*(a.y-s.y)},next:{x:o.x+v*(a.x-s.x),y:o.y+v*(a.y-s.y)}}}function Qs(e,n,t){return Math.max(Math.min(e,t),n)}function wy(e,n,t,i,s){let o,a,l,c;if(n.spanGaps&&(e=e.filter(d=>!d.skip)),"monotone"===n.cubicInterpolationMode)!function yy(e,n="x"){const t=kd(n),i=e.length,s=Array(i).fill(0),o=Array(i);let a,l,c,d=zn(e,0);for(a=0;a<i;++a)if(l=c,c=d,d=zn(e,a+1),c){if(d){const u=d[n]-c[n];s[a]=0!==u?(d[t]-c[t])/u:0}o[a]=l?d?Ne(s[a-1])!==Ne(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}(function by(e,n,t){const i=e.length;let s,o,a,l,c,d=zn(e,0);for(let u=0;u<i-1;++u)if(c=d,d=zn(e,u+1),c&&d){if(Ci(n[u],0,my)){t[u]=t[u+1]=0;continue}s=t[u]/n[u],o=t[u+1]/n[u],l=Math.pow(s,2)+Math.pow(o,2),!(l<=9)&&(a=3/Math.sqrt(l),t[u]=s*a*n[u],t[u+1]=o*a*n[u])}})(e,s,o),function vy(e,n,t="x"){const i=kd(t),s=e.length;let o,a,l,c=zn(e,0);for(let d=0;d<s;++d){if(a=l,l=c,c=zn(e,d+1),!l)continue;const u=l[t],m=l[i];a&&(o=(u-a[t])/3,l[`cp1${t}`]=u-o,l[`cp1${i}`]=m-o*n[d]),c&&(o=(c[t]-u)/3,l[`cp2${t}`]=u+o,l[`cp2${i}`]=m+o*n[d])}}(e,o,n)}(e,s);else{let d=i?e[e.length-1]:e[0];for(o=0,a=e.length;o<a;++o)l=e[o],c=_y(d,l,e[Math.min(o+1,a-(i?0:1))%a],n.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,d=l}n.capBezierPoints&&function xy(e,n){let t,i,s,o,a,l=Ri(e[0],n);for(t=0,i=e.length;t<i;++t)a=o,o=l,l=t<i-1&&Ri(e[t+1],n),o&&(s=e[t],a&&(s.cp1x=Qs(s.cp1x,n.left,n.right),s.cp1y=Qs(s.cp1y,n.top,n.bottom)),l&&(s.cp2x=Qs(s.cp2x,n.left,n.right),s.cp2y=Qs(s.cp2y,n.top,n.bottom)))}(e,t)}function Od(){return"undefined"!=typeof window&&"undefined"!=typeof document}function Br(e){let n=e.parentNode;return n&&"[object ShadowRoot]"===n.toString()&&(n=n.host),n}function Ks(e,n,t){let i;return"string"==typeof e?(i=parseInt(e,10),-1!==e.indexOf("%")&&(i=i/100*n.parentNode[t])):i=e,i}const qs=e=>window.getComputedStyle(e,null),Dy=["top","right","bottom","left"];function bn(e,n,t){const i={};t=t?"-"+t:"";for(let s=0;s<4;s++){const o=Dy[s];i[o]=parseFloat(e[n+"-"+o+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function vn(e,n){if("native"in e)return e;const{canvas:t,currentDevicePixelRatio:i}=n,s=qs(t),o="border-box"===s.boxSizing,a=bn(s,"padding"),l=bn(s,"border","width"),{x:c,y:d,box:u}=function Ty(e,n){const t=e.touches,i=t&&t.length?t[0]:e,{offsetX:s,offsetY:o}=i;let l,c,a=!1;if(((e,n,t)=>(e>0||n>0)&&(!t||!t.shadowRoot))(s,o,e.target))l=s,c=o;else{const d=n.getBoundingClientRect();l=i.clientX-d.left,c=i.clientY-d.top,a=!0}return{x:l,y:c,box:a}}(e,t),m=a.left+(u&&l.left),v=a.top+(u&&l.top);let{width:N,height:E}=n;return o&&(N-=a.width+l.width,E-=a.height+l.height),{x:Math.round((c-m)/N*t.width/i),y:Math.round((d-v)/E*t.height/i)}}const Gr=e=>Math.round(10*e)/10;function Ad(e,n,t){const i=n||1,s=Math.floor(e.height*i),o=Math.floor(e.width*i);e.height=s/i,e.width=o/i;const a=e.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==i||a.height!==s||a.width!==o)&&(e.currentDevicePixelRatio=i,a.height=s,a.width=o,e.ctx.setTransform(i,0,0,i,0,0),!0)}const Ey=function(){let e=!1;try{const n={get passive(){return e=!0,!1}};window.addEventListener("test",null,n),window.removeEventListener("test",null,n)}catch(n){}return e}();function Id(e,n){const t=function Sy(e,n){return qs(e).getPropertyValue(n)}(e,n),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function yn(e,n,t,i){return{x:e.x+t*(n.x-e.x),y:e.y+t*(n.y-e.y)}}function ky(e,n,t,i){return{x:e.x+t*(n.x-e.x),y:"middle"===i?t<.5?e.y:n.y:"after"===i?t<1?e.y:n.y:t>0?n.y:e.y}}function Oy(e,n,t,i){const s={x:e.cp2x,y:e.cp2y},o={x:n.cp1x,y:n.cp1y},a=yn(e,s,t),l=yn(s,o,t),c=yn(o,n,t),d=yn(a,l,t),u=yn(l,c,t);return yn(d,u,t)}const Pd=new Map;function Gi(e,n,t){return function Ay(e,n){n=n||{};const t=e+JSON.stringify(n);let i=Pd.get(t);return i||(i=new Intl.NumberFormat(e,n),Pd.set(t,i)),i}(n,t).format(e)}function Un(e,n,t){return e?function(e,n){return{x:t=>e+e+n-t,setWidth(t){n=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,i)=>t-i,leftForLtr:(t,i)=>t-i}}(n,t):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,n)=>e+n,leftForLtr:(e,n)=>e}}function Rd(e,n){let t,i;("ltr"===n||"rtl"===n)&&(t=e.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",n,"important"),e.prevTextDirection=i)}function Fd(e,n){void 0!==n&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",n[0],n[1]))}function Ld(e){return"angle"===e?{between:Ei,compare:wv,normalize:fe}:{between:Re,compare:(n,t)=>n-t,normalize:n=>n}}function Bd({start:e,end:n,count:t,loop:i,style:s}){return{start:e%t,end:n%t,loop:i&&(n-e+1)%t==0,style:s}}function Gd(e,n,t){if(!t)return[e];const{property:i,start:s,end:o}=t,a=n.length,{compare:l,between:c,normalize:d}=Ld(i),{start:u,end:m,loop:v,style:N}=function Ry(e,n,t){const{property:i,start:s,end:o}=t,{between:a,normalize:l}=Ld(i),c=n.length;let v,N,{start:d,end:u,loop:m}=e;if(m){for(d+=c,u+=c,v=0,N=c;v<N&&a(l(n[d%c][i]),s,o);++v)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:m,style:e.style}}(e,n,t),E=[];let V,Z,q,k=!1,P=null;for(let gt=u,mt=u;gt<=m;++gt)Z=n[gt%a],!Z.skip&&(V=d(Z[i]),V!==q&&(k=c(V,s,o),null===P&&(k||c(s,q,V)&&0!==l(s,q))&&(P=0===l(V,s)?gt:mt),null!==P&&(!k||0===l(o,V)||c(o,q,V))&&(E.push(Bd({start:P,end:gt,loop:v,count:a,style:N})),P=null),mt=gt,q=V));return null!==P&&E.push(Bd({start:P,end:m,loop:v,count:a,style:N})),E}function Hd(e,n){const t=[],i=e.segments;for(let s=0;s<i.length;s++){const o=Gd(i[s],e.points,n);o.length&&t.push(...o)}return t}function jd(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Hy(e,n){return n&&JSON.stringify(e)!==JSON.stringify(n)}var Be=new class Vy{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(n,t,i,s){const a=t.duration;t.listeners[s].forEach(l=>l({chart:n,initial:t.initial,numSteps:a,currentStep:Math.min(i-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Zc.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(n=Date.now()){let t=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const o=i.items;let c,a=o.length-1,l=!1;for(;a>=0;--a)c=o[a],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(n),l=!0):(o[a]=o[o.length-1],o.pop());l&&(s.draw(),this._notify(s,i,n,"progress")),o.length||(i.running=!1,this._notify(s,i,n,"complete"),i.initial=!1),t+=o.length}),this._lastDate=n,0===t&&(this._running=!1)}_getAnims(n){const t=this._charts;let i=t.get(n);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(n,i)),i}listen(n,t,i){this._getAnims(n).listeners[t].push(i)}add(n,t){!t||!t.length||this._getAnims(n).items.push(...t)}has(n){return this._getAnims(n).items.length>0}start(n){const t=this._charts.get(n);!t||(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(n){if(!this._running)return!1;const t=this._charts.get(n);return!(!t||!t.running||!t.items.length)}stop(n){const t=this._charts.get(n);if(!t||!t.items.length)return;const i=t.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();t.items=[],this._notify(n,t,Date.now(),"complete")}remove(n){return this._charts.delete(n)}};const zd="transparent",jy={boolean:(e,n,t)=>t>.5?n:e,color(e,n,t){const i=_d(e||zd),s=i.valid&&_d(n||zd);return s&&s.valid?s.mix(i,t).hexString():n},number:(e,n,t)=>e+(n-e)*t};class zy{constructor(n,t,i,s){const o=t[i];s=Bi([n.to,s,o,n.from]);const a=Bi([n.from,o,s]);this._active=!0,this._fn=n.fn||jy[n.type||typeof a],this._easing=ki[n.easing]||ki.linear,this._start=Math.floor(Date.now()+(n.delay||0)),this._duration=this._total=Math.floor(n.duration),this._loop=!!n.loop,this._target=t,this._prop=i,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(n,t,i){if(this._active){this._notify(!1);const s=this._target[this._prop],o=i-this._start,a=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(a,n.duration)),this._total+=o,this._loop=!!n.loop,this._to=Bi([n.to,t,s,n.from]),this._from=Bi([n.from,s,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(n){const t=n-this._start,i=this._duration,s=this._prop,o=this._from,a=this._loop,l=this._to;let c;if(this._active=o!==l&&(a||t<i),!this._active)return this._target[s]=l,void this._notify(!0);t<0?this._target[s]=o:(c=t/i%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(o,l,c))}wait(){const n=this._promises||(this._promises=[]);return new Promise((t,i)=>{n.push({res:t,rej:i})})}_notify(n){const t=n?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][t]()}}Ct.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const $y=Object.keys(Ct.animation);Ct.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),Ct.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),Ct.describe("animations",{_fallback:"animation"}),Ct.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}});class Hr{constructor(n,t){this._chart=n,this._properties=new Map,this.configure(t)}configure(n){if(!Tt(n))return;const t=this._properties;Object.getOwnPropertyNames(n).forEach(i=>{const s=n[i];if(!Tt(s))return;const o={};for(const a of $y)o[a]=s[a];(Ot(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!t.has(a))&&t.set(a,o)})})}_animateOptions(n,t){const i=t.options,s=function Zy(e,n){if(!n)return;let t=e.options;if(t)return t.$shared&&(e.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t;e.options=n}(n,i);if(!s)return[];const o=this._createAnimations(s,i);return i.$shared&&function Yy(e,n){const t=[],i=Object.keys(n);for(let s=0;s<i.length;s++){const o=e[i[s]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}(n.options.$animations,i).then(()=>{n.options=i},()=>{}),o}_createAnimations(n,t){const i=this._properties,s=[],o=n.$animations||(n.$animations={}),a=Object.keys(t),l=Date.now();let c;for(c=a.length-1;c>=0;--c){const d=a[c];if("$"===d.charAt(0))continue;if("options"===d){s.push(...this._animateOptions(n,t));continue}const u=t[d];let m=o[d];const v=i.get(d);if(m){if(v&&m.active()){m.update(v,u,l);continue}m.cancel()}v&&v.duration?(o[d]=m=new zy(v,n,d,u),s.push(m)):n[d]=u}return s}update(n,t){if(0===this._properties.size)return void Object.assign(n,t);const i=this._createAnimations(n,t);return i.length?(Be.add(this._chart,i),!0):void 0}}function Ud(e,n){const t=e&&e.options||{},i=t.reverse,s=void 0===t.min?n:0,o=void 0===t.max?n:0;return{start:i?o:s,end:i?s:o}}function Wd(e,n){const t=[],i=e._getSortedDatasetMetas(n);let s,o;for(s=0,o=i.length;s<o;++s)t.push(i[s].index);return t}function $d(e,n,t,i={}){const s=e.keys,o="single"===i.mode;let a,l,c,d;if(null!==n){for(a=0,l=s.length;a<l;++a){if(c=+s[a],c===t){if(i.all)continue;break}d=e.values[c],Gt(d)&&(o||0===n||Ne(n)===Ne(d))&&(n+=d)}return n}}function Yd(e,n){const t=e&&e.options.stacked;return t||void 0===t&&void 0!==n.stack}function tx(e,n,t){const i=e[n]||(e[n]={});return i[t]||(i[t]={})}function Zd(e,n,t,i){for(const s of n.getMatchingVisibleMetas(i).reverse()){const o=e[s.index];if(t&&o>0||!t&&o<0)return s.index}return null}function Xd(e,n){const{chart:t,_cachedMeta:i}=e,s=t._stacks||(t._stacks={}),{iScale:o,vScale:a,index:l}=i,c=o.axis,d=a.axis,u=function Ky(e,n,t){return`${e.id}.${n.id}.${t.stack||t.type}`}(o,a,i),m=n.length;let v;for(let N=0;N<m;++N){const E=n[N],{[c]:k,[d]:P}=E;v=(E._stacks||(E._stacks={}))[d]=tx(s,u,k),v[l]=P,v._top=Zd(v,a,!0,i.type),v._bottom=Zd(v,a,!1,i.type)}}function Vr(e,n){const t=e.scales;return Object.keys(t).filter(i=>t[i].axis===n).shift()}function Hi(e,n){const t=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){n=n||e._parsed;for(const s of n){const o=s._stacks;if(!o||void 0===o[i]||void 0===o[i][t])return;delete o[i][t]}}}const jr=e=>"reset"===e||"none"===e,Jd=(e,n)=>n?e:Object.assign({},e);let Ge=(()=>{class e{constructor(t,i){this.chart=t,this._ctx=t.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Yd(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&Hi(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,i=this._cachedMeta,s=this.getDataset(),o=(v,N,E,k)=>"x"===v?N:"r"===v?k:E,a=i.xAxisID=yt(s.xAxisID,Vr(t,"x")),l=i.yAxisID=yt(s.yAxisID,Vr(t,"y")),c=i.rAxisID=yt(s.rAxisID,Vr(t,"r")),d=i.indexAxis,u=i.iAxisID=o(d,a,l,c),m=i.vAxisID=o(d,l,a,c);i.xScale=this.getScaleForId(a),i.yScale=this.getScaleForId(l),i.rScale=this.getScaleForId(c),i.iScale=this.getScaleForId(u),i.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const i=this._cachedMeta;return t===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&xd(this._data,this),t._stacked&&Hi(t)}_dataCheck(){const t=this.getDataset(),i=t.data||(t.data=[]),s=this._data;if(Tt(i))this._data=function Qy(e){const n=Object.keys(e),t=new Array(n.length);let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i],t[i]={x:o,y:e[o]};return t}(i);else if(s!==i){if(s){xd(s,this);const o=this._cachedMeta;Hi(o),o._parsed=[]}i&&Object.isExtensible(i)&&function ry(e,n){e._chartjs?e._chartjs.listeners.push(n):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[n]}}),yd.forEach(t=>{const i="_onData"+Sr(t),s=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(...o){const a=s.apply(this,o);return e._chartjs.listeners.forEach(l=>{"function"==typeof l[i]&&l[i](...o)}),a}})}))}(i,this),this._syncList=[],this._data=i}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const i=this._cachedMeta,s=this.getDataset();let o=!1;this._dataCheck();const a=i._stacked;i._stacked=Yd(i.vScale,i),i.stack!==s.stack&&(o=!0,Hi(i),i.stack=s.stack),this._resyncElements(t),(o||a!==i._stacked)&&Xd(this,i._parsed)}configure(){const t=this.chart.config,i=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),i,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,i){const{_cachedMeta:s,_data:o}=this,{iScale:a,_stacked:l}=s,c=a.axis;let m,v,N,d=0===t&&i===o.length||s._sorted,u=t>0&&s._parsed[t-1];if(!1===this._parsing)s._parsed=o,s._sorted=!0,N=o;else{N=Ot(o[t])?this.parseArrayData(s,o,t,i):Tt(o[t])?this.parseObjectData(s,o,t,i):this.parsePrimitiveData(s,o,t,i);const E=()=>null===v[c]||u&&v[c]<u[c];for(m=0;m<i;++m)s._parsed[m+t]=v=N[m],d&&(E()&&(d=!1),u=v);s._sorted=d}l&&Xd(this,N)}parsePrimitiveData(t,i,s,o){const{iScale:a,vScale:l}=t,c=a.axis,d=l.axis,u=a.getLabels(),m=a===l,v=new Array(o);let N,E,k;for(N=0,E=o;N<E;++N)k=N+s,v[N]={[c]:m||a.parse(u[k],k),[d]:l.parse(i[k],k)};return v}parseArrayData(t,i,s,o){const{xScale:a,yScale:l}=t,c=new Array(o);let d,u,m,v;for(d=0,u=o;d<u;++d)m=d+s,v=i[m],c[d]={x:a.parse(v[0],m),y:l.parse(v[1],m)};return c}parseObjectData(t,i,s,o){const{xScale:a,yScale:l}=t,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,u=new Array(o);let m,v,N,E;for(m=0,v=o;m<v;++m)N=m+s,E=i[N],u[m]={x:a.parse(Ye(E,c),N),y:l.parse(Ye(E,d),N)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,i,s){const a=this._cachedMeta,l=i[t.axis];return $d({keys:Wd(this.chart,!0),values:i._stacks[t.axis]},l,a.index,{mode:s})}updateRangeFromParsed(t,i,s,o){const a=s[i.axis];let l=null===a?NaN:a;const c=o&&s._stacks[i.axis];o&&c&&(o.values=c,l=$d(o,a,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,i){const s=this._cachedMeta,o=s._parsed,a=s._sorted&&t===s.iScale,l=o.length,c=this._getOtherScale(t),d=((e,n,t)=>e&&!n.hidden&&n._stacked&&{keys:Wd(this.chart,!0),values:null})(i,s),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:v}=function qy(e){const{min:n,max:t,minDefined:i,maxDefined:s}=e.getUserBounds();return{min:i?n:Number.NEGATIVE_INFINITY,max:s?t:Number.POSITIVE_INFINITY}}(c);let N,E;function k(){E=o[N];const P=E[c.axis];return!Gt(E[t.axis])||m>P||v<P}for(N=0;N<l&&(k()||(this.updateRangeFromParsed(u,t,E,d),!a));++N);if(a)for(N=l-1;N>=0;--N)if(!k()){this.updateRangeFromParsed(u,t,E,d);break}return u}getAllParsedValues(t){const i=this._cachedMeta._parsed,s=[];let o,a,l;for(o=0,a=i.length;o<a;++o)l=i[o][t.axis],Gt(l)&&s.push(l);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const i=this._cachedMeta,s=i.iScale,o=i.vScale,a=this.getParsed(t);return{label:s?""+s.getLabelForValue(a[s.axis]):"",value:o?""+o.getLabelForValue(a[o.axis]):""}}_update(t){const i=this._cachedMeta;this.update(t||"default"),i._clip=function Jy(e){let n,t,i,s;return Tt(e)?(n=e.top,t=e.right,i=e.bottom,s=e.left):n=t=i=s=e,{top:n,right:t,bottom:i,left:s,disabled:!1===e}}(yt(this.options.clip,function Xy(e,n,t){if(!1===t)return!1;const i=Ud(e,t),s=Ud(n,t);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}(i.xScale,i.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,s=this._cachedMeta,o=s.data||[],a=this.chart.chartArea,l=[],c=this._drawStart||0,d=this._drawCount||o.length-c,u=this.options.drawActiveElementsOnTop;let m;for(s.dataset&&s.dataset.draw(t,a,c,d),m=c;m<c+d;++m){const v=o[m];v.hidden||(v.active&&u?l.push(v):v.draw(t,a))}for(m=0;m<l.length;++m)l[m].draw(t,a)}getStyle(t,i){const s=i?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,i,s){const o=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];a=l.$context||(l.$context=function nx(e,n,t){return Ke(e,{active:!1,dataIndex:n,parsed:void 0,raw:void 0,element:t,index:n,mode:"default",type:"data"})}(this.getContext(),t,l)),a.parsed=this.getParsed(t),a.raw=o.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=function ex(e,n){return Ke(e,{active:!1,dataset:void 0,datasetIndex:n,index:n,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),a.dataset=o,a.index=a.datasetIndex=this.index;return a.active=!!i,a.mode=s,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,i){return this._resolveElementOptions(this.dataElementType.id,i,t)}_resolveElementOptions(t,i="default",s){const o="active"===i,a=this._cachedDataOpts,l=t+"-"+i,c=a[l],d=this.enableOptionSharing&&zt(s);if(c)return Jd(c,d);const u=this.chart.config,m=u.datasetElementScopeKeys(this._type,t),v=o?[`${t}Hover`,"hover",t,""]:[t,""],N=u.getOptionScopes(this.getDataset(),m),E=Object.keys(Ct.elements[t]),P=u.resolveNamedOptions(N,E,()=>this.getContext(s,o),v);return P.$shared&&(P.$shared=d,a[l]=Object.freeze(Jd(P,d))),P}_resolveAnimations(t,i,s){const o=this.chart,a=this._cachedDataOpts,l=`animation-${i}`,c=a[l];if(c)return c;let d;if(!1!==o.options.animation){const m=this.chart.config,v=m.datasetAnimationScopeKeys(this._type,i),N=m.getOptionScopes(this.getDataset(),v);d=m.createResolver(N,this.getContext(t,s,i))}const u=new Hr(o,d&&d.animations);return d&&d._cacheable&&(a[l]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,i){return!i||jr(t)||this.chart._animationsDisabled}updateElement(t,i,s,o){jr(o)?Object.assign(t,s):this._resolveAnimations(i,o).update(t,s)}updateSharedOptions(t,i,s){t&&!jr(i)&&this._resolveAnimations(void 0,i).update(t,s)}_setStyle(t,i,s,o){t.active=o;const a=this.getStyle(i,o);this._resolveAnimations(i,s,o).update(t,{options:!o&&this.getSharedOptions(a)||a})}removeHoverStyle(t,i,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,i,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const i=this._data,s=this._cachedMeta.data;for(const[c,d,u]of this._syncList)this[c](d,u);this._syncList=[];const o=s.length,a=i.length,l=Math.min(a,o);l&&this.parse(0,l),a>o?this._insertElements(o,a-o,t):a<o&&this._removeElements(a,o-a)}_insertElements(t,i,s=!0){const o=this._cachedMeta,a=o.data,l=t+i;let c;const d=u=>{for(u.length+=i,c=u.length-1;c>=l;c--)u[c]=u[c-i]};for(d(a),c=t;c<l;++c)a[c]=new this.dataElementType;this._parsing&&d(o._parsed),this.parse(t,i),s&&this.updateElements(a,t,i,"reset")}updateElements(t,i,s,o){}_removeElements(t,i){const s=this._cachedMeta;if(this._parsing){const o=s._parsed.splice(t,i);s._stacked&&Hi(s,o)}s.data.splice(t,i)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[i,s,o]=t;this[i](s,o)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,i){i&&this._sync(["_removeElements",t,i]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return e.defaults={},e})();function ox(e){const n=e.iScale,t=function sx(e,n){if(!e._cache.$bar){const t=e.getMatchingVisibleMetas(n);let i=[];for(let s=0,o=t.length;s<o;s++)i=i.concat(t[s].controller.getAllParsedValues(e));e._cache.$bar=wd(i.sort((s,o)=>s-o))}return e._cache.$bar}(n,e.type);let s,o,a,l,i=n._length;const c=()=>{32767===a||-32768===a||(zt(l)&&(i=Math.min(i,Math.abs(a-l)||i)),l=a)};for(s=0,o=t.length;s<o;++s)a=n.getPixelForValue(t[s]),c();for(l=void 0,s=0,o=n.ticks.length;s<o;++s)a=n.getPixelForTick(s),c();return i}function Qd(e,n,t,i){return Ot(e)?function lx(e,n,t,i){const s=t.parse(e[0],i),o=t.parse(e[1],i),a=Math.min(s,o),l=Math.max(s,o);let c=a,d=l;Math.abs(a)>Math.abs(l)&&(c=l,d=a),n[t.axis]=d,n._custom={barStart:c,barEnd:d,start:s,end:o,min:a,max:l}}(e,n,t,i):n[t.axis]=t.parse(e,i),n}function Kd(e,n,t,i){const s=e.iScale,o=e.vScale,a=s.getLabels(),l=s===o,c=[];let d,u,m,v;for(d=t,u=t+i;d<u;++d)v=n[d],m={},m[s.axis]=l||s.parse(a[d],d),c.push(Qd(v,m,o,d));return c}function zr(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function ux(e,n,t,i){let s=n.borderSkipped;const o={};if(!s)return void(e.borderSkipped=o);const{start:a,end:l,reverse:c,top:d,bottom:u}=function dx(e){let n,t,i,s,o;return e.horizontal?(n=e.base>e.x,t="left",i="right"):(n=e.base<e.y,t="bottom",i="top"),n?(s="end",o="start"):(s="start",o="end"),{start:t,end:i,reverse:n,top:s,bottom:o}}(e);"middle"===s&&t&&(e.enableBorderRadius=!0,(t._top||0)===i?s=d:(t._bottom||0)===i?s=u:(o[qd(u,a,l,c)]=!0,s=d)),o[qd(s,a,l,c)]=!0,e.borderSkipped=o}function qd(e,n,t,i){return i?(e=function hx(e,n,t){return e===n?t:e===t?n:e}(e,n,t),e=tu(e,t,n)):e=tu(e,n,t),e}function tu(e,n,t){return"start"===e?n:"end"===e?t:e}function fx(e,{inflateAmount:n},t){e.inflateAmount="auto"===n?1===t?.33:0:n}Ge.prototype.datasetElementType=null,Ge.prototype.dataElementType=null;let eu=(()=>{class e extends Ge{parsePrimitiveData(t,i,s,o){return Kd(t,i,s,o)}parseArrayData(t,i,s,o){return Kd(t,i,s,o)}parseObjectData(t,i,s,o){const{iScale:a,vScale:l}=t,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,u="x"===a.axis?c:d,m="x"===l.axis?c:d,v=[];let N,E,k,P;for(N=s,E=s+o;N<E;++N)P=i[N],k={},k[a.axis]=a.parse(Ye(P,u),N),v.push(Qd(Ye(P,m),k,l,N));return v}updateRangeFromParsed(t,i,s,o){super.updateRangeFromParsed(t,i,s,o);const a=s._custom;a&&i===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const i=this._cachedMeta,{iScale:s,vScale:o}=i,a=this.getParsed(t),l=a._custom,c=zr(l)?"["+l.start+", "+l.end+"]":""+o.getLabelForValue(a[o.axis]);return{label:""+s.getLabelForValue(a[s.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(t){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,t)}updateElements(t,i,s,o){const a="reset"===o,{index:l,_cachedMeta:{vScale:c}}=this,d=c.getBasePixel(),u=c.isHorizontal(),m=this._getRuler(),v=this.resolveDataElementOptions(i,o),N=this.getSharedOptions(v),E=this.includeOptions(o,N);this.updateSharedOptions(N,o,v);for(let k=i;k<i+s;k++){const P=this.getParsed(k),V=a||Et(P[c.axis])?{base:d,head:d}:this._calculateBarValuePixels(k),Z=this._calculateBarIndexPixels(k,m),q=(P._stacks||{})[c.axis],st={horizontal:u,base:V.base,enableBorderRadius:!q||zr(P._custom)||l===q._top||l===q._bottom,x:u?V.head:Z.center,y:u?Z.center:V.head,height:u?Z.size:Math.abs(V.size),width:u?Math.abs(V.size):Z.size};E&&(st.options=N||this.resolveDataElementOptions(k,t[k].active?"active":o));const et=st.options||t[k].options;ux(st,et,q,l),fx(st,et,m.ratio),this.updateElement(t[k],k,st,o)}}_getStacks(t,i){const o=this._cachedMeta.iScale,a=o.getMatchingVisibleMetas(this._type),l=o.options.stacked,c=a.length,d=[];let u,m;for(u=0;u<c;++u)if(m=a[u],m.controller.options.grouped){if(void 0!==i){const v=m.controller.getParsed(i)[m.controller._cachedMeta.vScale.axis];if(Et(v)||isNaN(v))continue}if((!1===l||-1===d.indexOf(m.stack)||void 0===l&&void 0===m.stack)&&d.push(m.stack),m.index===t)break}return d.length||d.push(void 0),d}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,i,s){const o=this._getStacks(t,s),a=void 0!==i?o.indexOf(i):-1;return-1===a?o.length-1:a}_getRuler(){const t=this.options,i=this._cachedMeta,s=i.iScale,o=[];let a,l;for(a=0,l=i.data.length;a<l;++a)o.push(s.getPixelForValue(this.getParsed(a)[s.axis],a));const c=t.barThickness;return{min:c||ox(i),pixels:o,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:i,_stacked:s},options:{base:o,minBarLength:a}}=this,l=o||0,c=this.getParsed(t),d=c._custom,u=zr(d);let E,k,m=c[i.axis],v=0,N=s?this.applyStack(i,c,s):m;N!==m&&(v=N-m,N=m),u&&(m=d.barStart,N=d.barEnd-d.barStart,0!==m&&Ne(m)!==Ne(d.barEnd)&&(v=0),v+=m);const P=Et(o)||u?v:o;let V=i.getPixelForValue(P);if(E=this.chart.getDataVisibility(t)?i.getPixelForValue(v+N):V,k=E-V,Math.abs(k)<a){k=function cx(e,n,t){return 0!==e?Ne(e):(n.isHorizontal()?1:-1)*(n.min>=t?1:-1)}(k,i,l)*a,m===l&&(V-=k/2);const Z=i.getPixelForDecimal(0),q=i.getPixelForDecimal(1),st=Math.min(Z,q),et=Math.max(Z,q);V=Math.max(Math.min(V,et),st),E=V+k}if(V===i.getPixelForValue(l)){const Z=Ne(k)*i.getLineWidthForValue(l)/2;V+=Z,k-=Z}return{size:k,base:V,head:E,center:E+k/2}}_calculateBarIndexPixels(t,i){const s=i.scale,o=this.options,a=o.skipNull,l=yt(o.maxBarThickness,1/0);let c,d;if(i.grouped){const u=a?this._getStackCount(t):i.stackCount,m="flex"===o.barThickness?function ax(e,n,t,i){const s=n.pixels,o=s[e];let a=e>0?s[e-1]:null,l=e<s.length-1?s[e+1]:null;const c=t.categoryPercentage;null===a&&(a=o-(null===l?n.end-n.start:l-o)),null===l&&(l=o+o-a);const d=o-(o-Math.min(a,l))/2*c;return{chunk:Math.abs(l-a)/2*c/i,ratio:t.barPercentage,start:d}}(t,i,o,u):function rx(e,n,t,i){const s=t.barThickness;let o,a;return Et(s)?(o=n.min*t.categoryPercentage,a=t.barPercentage):(o=s*i,a=1),{chunk:o/i,ratio:a,start:n.pixels[e]-o/2}}(t,i,o,u),v=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0);c=m.start+m.chunk*v+m.chunk/2,d=Math.min(l,m.chunk*m.ratio)}else c=s.getPixelForValue(this.getParsed(t)[s.axis],t),d=Math.min(l,i.min*i.ratio);return{base:c-d/2,head:c+d/2,center:c,size:d}}draw(){const t=this._cachedMeta,i=t.vScale,s=t.data,o=s.length;let a=0;for(;a<o;++a)null!==this.getParsed(a)[i.axis]&&s[a].draw(this._ctx)}}return e.id="bar",e.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},e.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},e})(),nu=(()=>{class e extends Ge{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,i,s,o){const a=super.parsePrimitiveData(t,i,s,o);for(let l=0;l<a.length;l++)a[l]._custom=this.resolveDataElementOptions(l+s).radius;return a}parseArrayData(t,i,s,o){const a=super.parseArrayData(t,i,s,o);for(let l=0;l<a.length;l++)a[l]._custom=yt(i[s+l][2],this.resolveDataElementOptions(l+s).radius);return a}parseObjectData(t,i,s,o){const a=super.parseObjectData(t,i,s,o);for(let l=0;l<a.length;l++){const c=i[s+l];a[l]._custom=yt(c&&c.r&&+c.r,this.resolveDataElementOptions(l+s).radius)}return a}getMaxOverflow(){const t=this._cachedMeta.data;let i=0;for(let s=t.length-1;s>=0;--s)i=Math.max(i,t[s].size(this.resolveDataElementOptions(s))/2);return i>0&&i}getLabelAndValue(t){const i=this._cachedMeta,{xScale:s,yScale:o}=i,a=this.getParsed(t),l=s.getLabelForValue(a.x),c=o.getLabelForValue(a.y),d=a._custom;return{label:i.label,value:"("+l+", "+c+(d?", "+d:"")+")"}}update(t){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,t)}updateElements(t,i,s,o){const a="reset"===o,{iScale:l,vScale:c}=this._cachedMeta,d=this.resolveDataElementOptions(i,o),u=this.getSharedOptions(d),m=this.includeOptions(o,u),v=l.axis,N=c.axis;for(let E=i;E<i+s;E++){const k=t[E],P=!a&&this.getParsed(E),V={},Z=V[v]=a?l.getPixelForDecimal(.5):l.getPixelForValue(P[v]),q=V[N]=a?c.getBasePixel():c.getPixelForValue(P[N]);V.skip=isNaN(Z)||isNaN(q),m&&(V.options=this.resolveDataElementOptions(E,k.active?"active":o),a&&(V.options.radius=0)),this.updateElement(k,E,V,o)}this.updateSharedOptions(u,o,d)}resolveDataElementOptions(t,i){const s=this.getParsed(t);let o=super.resolveDataElementOptions(t,i);o.$shared&&(o=Object.assign({},o,{$shared:!1}));const a=o.radius;return"active"!==i&&(o.radius=0),o.radius+=yt(s&&s._custom,a),o}}return e.id="bubble",e.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},e.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}},e})(),Ur=(()=>{class e extends Ge{constructor(t,i){super(t,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,i){const s=this.getDataset().data,o=this._cachedMeta;if(!1===this._parsing)o._parsed=s;else{let l,c,a=d=>+s[d];if(Tt(s[t])){const{key:d="value"}=this._parsing;a=u=>+Ye(s[u],d)}for(l=t,c=t+i;l<c;++l)o._parsed[l]=a(l)}}_getRotation(){return Qt(this.options.rotation-90)}_getCircumference(){return Qt(this.options.circumference)}_getRotationExtents(){let t=Pt,i=-Pt;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)){const o=this.chart.getDatasetMeta(s).controller,a=o._getRotation(),l=o._getCircumference();t=Math.min(t,a),i=Math.max(i,a+l)}return{rotation:t,circumference:i-t}}update(t){const i=this.chart,{chartArea:s}=i,o=this._cachedMeta,a=o.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,c=Math.max((Math.min(s.width,s.height)-l)/2,0),d=Math.min(((e,n)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100:e/n)(this.options.cutout,c),1),u=this._getRingWeight(this.index),{circumference:m,rotation:v}=this._getRotationExtents(),{ratioX:N,ratioY:E,offsetX:k,offsetY:P}=function gx(e,n,t){let i=1,s=1,o=0,a=0;if(n<Pt){const l=e,c=l+n,d=Math.cos(l),u=Math.sin(l),m=Math.cos(c),v=Math.sin(c),N=(q,st,et)=>Ei(q,l,c,!0)?1:Math.max(st,st*t,et,et*t),E=(q,st,et)=>Ei(q,l,c,!0)?-1:Math.min(st,st*t,et,et*t),k=N(0,d,m),P=N(Ht,u,v),V=E(kt,d,m),Z=E(kt+Ht,u,v);i=(k-V)/2,s=(P-Z)/2,o=-(k+V)/2,a=-(P+Z)/2}return{ratioX:i,ratioY:s,offsetX:o,offsetY:a}}(v,m,d),q=Math.max(Math.min((s.width-l)/N,(s.height-l)/E)/2,0),st=Jc(this.options.radius,q),ht=(st-Math.max(st*d,0))/this._getVisibleDatasetWeightTotal();this.offsetX=k*st,this.offsetY=P*st,o.total=this.calculateTotal(),this.outerRadius=st-ht*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-ht*u,0),this.updateElements(a,0,a.length,t)}_circumference(t,i){const s=this.options,o=this._cachedMeta,a=this._getCircumference();return i&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||null===o._parsed[t]||o.data[t].hidden?0:this.calculateCircumference(o._parsed[t]*a/Pt)}updateElements(t,i,s,o){const a="reset"===o,l=this.chart,c=l.chartArea,m=(c.left+c.right)/2,v=(c.top+c.bottom)/2,N=a&&l.options.animation.animateScale,E=N?0:this.innerRadius,k=N?0:this.outerRadius,P=this.resolveDataElementOptions(i,o),V=this.getSharedOptions(P),Z=this.includeOptions(o,V);let st,q=this._getRotation();for(st=0;st<i;++st)q+=this._circumference(st,a);for(st=i;st<i+s;++st){const et=this._circumference(st,a),ht=t[st],ut={x:m+this.offsetX,y:v+this.offsetY,startAngle:q,endAngle:q+et,circumference:et,outerRadius:k,innerRadius:E};Z&&(ut.options=V||this.resolveDataElementOptions(st,ht.active?"active":o)),q+=et,this.updateElement(ht,st,ut,o)}this.updateSharedOptions(V,o,P)}calculateTotal(){const t=this._cachedMeta,i=t.data;let o,s=0;for(o=0;o<i.length;o++){const a=t._parsed[o];null!==a&&!isNaN(a)&&this.chart.getDataVisibility(o)&&!i[o].hidden&&(s+=Math.abs(a))}return s}calculateCircumference(t){const i=this._cachedMeta.total;return i>0&&!isNaN(t)?Pt*(Math.abs(t)/i):0}getLabelAndValue(t){const s=this.chart,o=s.data.labels||[],a=Gi(this._cachedMeta._parsed[t],s.options.locale);return{label:o[t]||"",value:a}}getMaxBorderWidth(t){let i=0;const s=this.chart;let o,a,l,c,d;if(!t)for(o=0,a=s.data.datasets.length;o<a;++o)if(s.isDatasetVisible(o)){l=s.getDatasetMeta(o),t=l.data,c=l.controller;break}if(!t)return 0;for(o=0,a=t.length;o<a;++o)d=c.resolveDataElementOptions(o),"inner"!==d.borderAlign&&(i=Math.max(i,d.borderWidth||0,d.hoverBorderWidth||0));return i}getMaxOffset(t){let i=0;for(let s=0,o=t.length;s<o;++s){const a=this.resolveDataElementOptions(s);i=Math.max(i,a.offset||0,a.hoverOffset||0)}return i}_getRingWeightOffset(t){let i=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(i+=this._getRingWeight(s));return i}_getRingWeight(t){return Math.max(yt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return e.id="doughnut",e.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},e.descriptors={_scriptable:n=>"spacing"!==n,_indexable:n=>"spacing"!==n},e.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){const t=n.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i}}=n.legend.options;return t.labels.map((s,o)=>{const l=n.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,lineWidth:l.borderWidth,pointStyle:i,hidden:!n.getDataVisibility(o),index:o}})}return[]}},onClick(n,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label(n){let t=n.label;const i=": "+n.formattedValue;return Ot(t)?(t=t.slice(),t[0]+=i):t+=i,t}}}}},e})(),Wr=(()=>{class e extends Ge{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const i=this._cachedMeta,{dataset:s,data:o=[],_dataset:a}=i,l=this.chart._animationsDisabled;let{start:c,count:d}=function px(e,n,t){const i=n.length;let s=0,o=i;if(e._sorted){const{iScale:a,_parsed:l}=e,c=a.axis,{min:d,max:u,minDefined:m,maxDefined:v}=a.getUserBounds();m&&(s=Kt(Math.min(Le(l,a.axis,d).lo,t?i:Le(n,c,a.getPixelForValue(d)).lo),0,i-1)),o=v?Kt(Math.max(Le(l,a.axis,u).hi+1,t?0:Le(n,c,a.getPixelForValue(u)).hi+1),s,i)-s:i-s}return{start:s,count:o}}(i,o,l);this._drawStart=c,this._drawCount=d,function mx(e){const{xScale:n,yScale:t,_scaleRanges:i}=e,s={xmin:n.min,xmax:n.max,ymin:t.min,ymax:t.max};if(!i)return e._scaleRanges=s,!0;const o=i.xmin!==n.min||i.xmax!==n.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,s),o}(i)&&(c=0,d=o.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!a._decimated,s.points=o;const u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(s,void 0,{animated:!l,options:u},t),this.updateElements(o,c,d,t)}updateElements(t,i,s,o){const a="reset"===o,{iScale:l,vScale:c,_stacked:d,_dataset:u}=this._cachedMeta,m=this.resolveDataElementOptions(i,o),v=this.getSharedOptions(m),N=this.includeOptions(o,v),E=l.axis,k=c.axis,{spanGaps:P,segment:V}=this.options,Z=Ti(P)?P:Number.POSITIVE_INFINITY,q=this.chart._animationsDisabled||a||"none"===o;let st=i>0&&this.getParsed(i-1);for(let et=i;et<i+s;++et){const ht=t[et],ut=this.getParsed(et),gt=q?ht:{},mt=Et(ut[k]),Dt=gt[E]=l.getPixelForValue(ut[E],et),wt=gt[k]=a||mt?c.getBasePixel():c.getPixelForValue(d?this.applyStack(c,ut,d):ut[k],et);gt.skip=isNaN(Dt)||isNaN(wt)||mt,gt.stop=et>0&&Math.abs(ut[E]-st[E])>Z,V&&(gt.parsed=ut,gt.raw=u.data[et]),N&&(gt.options=v||this.resolveDataElementOptions(et,ht.active?"active":o)),q||this.updateElement(ht,et,gt,o),st=ut}this.updateSharedOptions(v,o,m)}getMaxOverflow(){const t=this._cachedMeta,i=t.dataset,s=i.options&&i.options.borderWidth||0,o=t.data||[];if(!o.length)return s;const a=o[0].size(this.resolveDataElementOptions(0)),l=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(s,a,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}return e.id="line",e.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},e.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},e})(),iu=(()=>{class e extends Ge{constructor(t,i){super(t,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const s=this.chart,o=s.data.labels||[],a=Gi(this._cachedMeta._parsed[t].r,s.options.locale);return{label:o[t]||"",value:a}}parseObjectData(t,i,s,o){return Ed.bind(this)(t,i,s,o)}update(t){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,t)}getMinMax(){const i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((s,o)=>{const a=this.getParsed(o).r;!isNaN(a)&&this.chart.getDataVisibility(o)&&(a<i.min&&(i.min=a),a>i.max&&(i.max=a))}),i}_updateRadius(){const t=this.chart,i=t.chartArea,s=t.options,o=Math.min(i.right-i.left,i.bottom-i.top),a=Math.max(o/2,0),c=(a-Math.max(s.cutoutPercentage?a/100*s.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=a-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(t,i,s,o){const a="reset"===o,l=this.chart,d=l.options.animation,u=this._cachedMeta.rScale,m=u.xCenter,v=u.yCenter,N=u.getIndexAngle(0)-.5*kt;let k,E=N;const P=360/this.countVisibleElements();for(k=0;k<i;++k)E+=this._computeAngle(k,o,P);for(k=i;k<i+s;k++){const V=t[k];let Z=E,q=E+this._computeAngle(k,o,P),st=l.getDataVisibility(k)?u.getDistanceFromCenterForValue(this.getParsed(k).r):0;E=q,a&&(d.animateScale&&(st=0),d.animateRotate&&(Z=q=N));const et={x:m,y:v,innerRadius:0,outerRadius:st,startAngle:Z,endAngle:q,options:this.resolveDataElementOptions(k,V.active?"active":o)};this.updateElement(V,k,et,o)}}countVisibleElements(){let i=0;return this._cachedMeta.data.forEach((s,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&i++}),i}_computeAngle(t,i,s){return this.chart.getDataVisibility(t)?Qt(this.resolveDataElementOptions(t,i).angle||s):0}}return e.id="polarArea",e.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},e.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){const t=n.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i}}=n.legend.options;return t.labels.map((s,o)=>{const l=n.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,lineWidth:l.borderWidth,pointStyle:i,hidden:!n.getDataVisibility(o),index:o}})}return[]}},onClick(n,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label:n=>n.chart.data.labels[n.dataIndex]+": "+n.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},e})(),su=(()=>{class e extends Ur{}return e.id="pie",e.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},e})(),ou=(()=>{class e extends Ge{getLabelAndValue(t){const i=this._cachedMeta.vScale,s=this.getParsed(t);return{label:i.getLabels()[t],value:""+i.getLabelForValue(s[i.axis])}}parseObjectData(t,i,s,o){return Ed.bind(this)(t,i,s,o)}update(t){const i=this._cachedMeta,s=i.dataset,o=i.data||[],a=i.iScale.getLabels();if(s.points=o,"resize"!==t){const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),this.updateElement(s,void 0,{_loop:!0,_fullLoop:a.length===o.length,options:l},t)}this.updateElements(o,0,o.length,t)}updateElements(t,i,s,o){const a=this._cachedMeta.rScale,l="reset"===o;for(let c=i;c<i+s;c++){const d=t[c],u=this.resolveDataElementOptions(c,d.active?"active":o),m=a.getPointPositionForValue(c,this.getParsed(c).r),v=l?a.xCenter:m.x,N=l?a.yCenter:m.y,E={x:v,y:N,angle:m.angle,skip:isNaN(v)||isNaN(N),options:u};this.updateElement(d,c,E,o)}}}return e.id="radar",e.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},e.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},e})(),ru=(()=>{class e extends Wr{}return e.id="scatter",e.defaults={showLine:!1,fill:!1},e.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:n=>"("+n.label+", "+n.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}},e})();function xn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var bx={_date:(()=>{class e{constructor(t){this.options=t||{}}formats(){return xn()}parse(t,i){return xn()}format(t,i){return xn()}add(t,i,s){return xn()}diff(t,i,s){return xn()}startOf(t,i,s){return xn()}endOf(t,i){return xn()}}return e.override=function(n){Object.assign(e.prototype,n)},e})()};function vx(e,n,t,i){const{controller:s,data:o,_sorted:a}=e,l=s._cachedMeta.iScale;if(l&&n===l.axis&&"r"!==n&&a&&o.length){const c=l._reversePixels?sy:Le;if(!i)return c(o,n,t);if(s._sharedOptions){const d=o[0],u="function"==typeof d.getRange&&d.getRange(n);if(u){const m=c(o,n,t-u),v=c(o,n,t+u);return{lo:m.lo,hi:v.hi}}}}return{lo:0,hi:o.length-1}}function Vi(e,n,t,i,s){const o=e.getSortedVisibleDatasetMetas(),a=t[n];for(let l=0,c=o.length;l<c;++l){const{index:d,data:u}=o[l],{lo:m,hi:v}=vx(o[l],n,a,s);for(let N=m;N<=v;++N){const E=u[N];E.skip||i(E,d,N)}}}function $r(e,n,t,i,s){const o=[];return!s&&!e.isPointInArea(n)||Vi(e,t,n,function(l,c,d){!s&&!Ri(l,e.chartArea,0)||l.inRange(n.x,n.y,i)&&o.push({element:l,datasetIndex:c,index:d})},!0),o}function Yr(e,n,t,i,s,o){return o||e.isPointInArea(n)?"r"!==t||i?function wx(e,n,t,i,s,o){let a=[];const l=function yx(e){const n=-1!==e.indexOf("x"),t=-1!==e.indexOf("y");return function(i,s){const o=n?Math.abs(i.x-s.x):0,a=t?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(a,2))}}(t);let c=Number.POSITIVE_INFINITY;return Vi(e,t,n,function d(u,m,v){const N=u.inRange(n.x,n.y,s);if(i&&!N)return;const E=u.getCenterPoint(s);if(!o&&!e.isPointInArea(E)&&!N)return;const P=l(n,E);P<c?(a=[{element:u,datasetIndex:m,index:v}],c=P):P===c&&a.push({element:u,datasetIndex:m,index:v})}),a}(e,n,t,i,s,o):function xx(e,n,t,i){let s=[];return Vi(e,t,n,function o(a,l,c){const{startAngle:d,endAngle:u}=a.getProps(["startAngle","endAngle"],i),{angle:m}=od(a,{x:n.x,y:n.y});Ei(m,d,u)&&s.push({element:a,datasetIndex:l,index:c})}),s}(e,n,t,s):[]}function au(e,n,t,i,s){const o=[],a="x"===t?"inXRange":"inYRange";let l=!1;return Vi(e,t,n,(c,d,u)=>{c[a](n[t],s)&&(o.push({element:c,datasetIndex:d,index:u}),l=l||c.inRange(n.x,n.y,s))}),i&&!l?[]:o}var Sx={evaluateInteractionItems:Vi,modes:{index(e,n,t,i){const s=vn(n,e),o=t.axis||"x",a=t.includeInvisible||!1,l=t.intersect?$r(e,s,o,i,a):Yr(e,s,o,!1,i,a),c=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{const u=l[0].index,m=d.data[u];m&&!m.skip&&c.push({element:m,datasetIndex:d.index,index:u})}),c):[]},dataset(e,n,t,i){const s=vn(n,e),o=t.axis||"xy",a=t.includeInvisible||!1;let l=t.intersect?$r(e,s,o,i,a):Yr(e,s,o,!1,i,a);if(l.length>0){const c=l[0].datasetIndex,d=e.getDatasetMeta(c).data;l=[];for(let u=0;u<d.length;++u)l.push({element:d[u],datasetIndex:c,index:u})}return l},point:(e,n,t,i)=>$r(e,vn(n,e),t.axis||"xy",i,t.includeInvisible||!1),nearest:(e,n,t,i)=>Yr(e,vn(n,e),t.axis||"xy",t.intersect,i,t.includeInvisible||!1),x:(e,n,t,i)=>au(e,vn(n,e),"x",t.intersect,i),y:(e,n,t,i)=>au(e,vn(n,e),"y",t.intersect,i)}};const lu=["left","top","right","bottom"];function ji(e,n){return e.filter(t=>t.pos===n)}function cu(e,n){return e.filter(t=>-1===lu.indexOf(t.pos)&&t.box.axis===n)}function zi(e,n){return e.sort((t,i)=>{const s=n?i:t,o=n?t:i;return s.weight===o.weight?s.index-o.index:s.weight-o.weight})}function du(e,n,t,i){return Math.max(e[t],n[t])+Math.max(e[i],n[i])}function uu(e,n){e.top=Math.max(e.top,n.top),e.left=Math.max(e.left,n.left),e.bottom=Math.max(e.bottom,n.bottom),e.right=Math.max(e.right,n.right)}function Mx(e,n,t,i){const{pos:s,box:o}=t,a=e.maxPadding;if(!Tt(s)){t.size&&(e[s]-=t.size);const m=i[t.stack]||{size:0,count:1};m.size=Math.max(m.size,t.horizontal?o.height:o.width),t.size=m.size/m.count,e[s]+=t.size}o.getPadding&&uu(a,o.getPadding());const l=Math.max(0,n.outerWidth-du(a,e,"left","right")),c=Math.max(0,n.outerHeight-du(a,e,"top","bottom")),d=l!==e.w,u=c!==e.h;return e.w=l,e.h=c,t.horizontal?{same:d,other:u}:{same:u,other:d}}function kx(e,n){const t=n.maxPadding;return function i(s){const o={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{o[a]=Math.max(n[a],t[a])}),o}(e?["left","right"]:["top","bottom"])}function Ui(e,n,t,i){const s=[];let o,a,l,c,d,u;for(o=0,a=e.length,d=0;o<a;++o){l=e[o],c=l.box,c.update(l.width||n.w,l.height||n.h,kx(l.horizontal,n));const{same:m,other:v}=Mx(n,t,l,i);d|=m&&s.length,u=u||v,c.fullSize||s.push(l)}return d&&Ui(s,n,t,i)||u}function to(e,n,t,i,s){e.top=t,e.left=n,e.right=n+i,e.bottom=t+s,e.width=i,e.height=s}function hu(e,n,t,i){const s=t.padding;let{x:o,y:a}=n;for(const l of e){const c=l.box,d=i[l.stack]||{count:1,placed:0,weight:1},u=l.stackWeight/d.weight||1;if(l.horizontal){const m=n.w*u,v=d.size||c.height;zt(d.start)&&(a=d.start),c.fullSize?to(c,s.left,a,t.outerWidth-s.right-s.left,v):to(c,n.left+d.placed,a,m,v),d.start=a,d.placed+=m,a=c.bottom}else{const m=n.h*u,v=d.size||c.width;zt(d.start)&&(o=d.start),c.fullSize?to(c,o,s.top,v,t.outerHeight-s.bottom-s.top):to(c,o,n.top+d.placed,v,m),d.start=o,d.placed+=m,o=c.right}}n.x=o,n.y=a}Ct.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var ne={addBox(e,n){e.boxes||(e.boxes=[]),n.fullSize=n.fullSize||!1,n.position=n.position||"top",n.weight=n.weight||0,n._layers=n._layers||function(){return[{z:0,draw(t){n.draw(t)}}]},e.boxes.push(n)},removeBox(e,n){const t=e.boxes?e.boxes.indexOf(n):-1;-1!==t&&e.boxes.splice(t,1)},configure(e,n,t){n.fullSize=t.fullSize,n.position=t.position,n.weight=t.weight},update(e,n,t,i){if(!e)return;const s=Zt(e.options.layout.padding),o=Math.max(n-s.width,0),a=Math.max(t-s.height,0),l=function Cx(e){const n=function Dx(e){const n=[];let t,i,s,o,a,l;for(t=0,i=(e||[]).length;t<i;++t)s=e[t],({position:o,options:{stack:a,stackWeight:l=1}}=s),n.push({index:t,box:s,pos:o,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&o+a,stackWeight:l});return n}(e),t=zi(n.filter(d=>d.box.fullSize),!0),i=zi(ji(n,"left"),!0),s=zi(ji(n,"right")),o=zi(ji(n,"top"),!0),a=zi(ji(n,"bottom")),l=cu(n,"x"),c=cu(n,"y");return{fullSize:t,leftAndTop:i.concat(o),rightAndBottom:s.concat(c).concat(a).concat(l),chartArea:ji(n,"chartArea"),vertical:i.concat(s).concat(c),horizontal:o.concat(a).concat(l)}}(e.boxes),c=l.vertical,d=l.horizontal;At(e.boxes,k=>{"function"==typeof k.beforeLayout&&k.beforeLayout()});const u=c.reduce((k,P)=>P.box.options&&!1===P.box.options.display?k:k+1,0)||1,m=Object.freeze({outerWidth:n,outerHeight:t,padding:s,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/u,hBoxMaxHeight:a/2}),v=Object.assign({},s);uu(v,Zt(i));const N=Object.assign({maxPadding:v,w:o,h:a,x:s.left,y:s.top},s),E=function Tx(e,n){const t=function Nx(e){const n={};for(const t of e){const{stack:i,pos:s,stackWeight:o}=t;if(!i||!lu.includes(s))continue;const a=n[i]||(n[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=o}return n}(e),{vBoxMaxWidth:i,hBoxMaxHeight:s}=n;let o,a,l;for(o=0,a=e.length;o<a;++o){l=e[o];const{fullSize:c}=l.box,d=t[l.stack],u=d&&l.stackWeight/d.weight;l.horizontal?(l.width=u?u*i:c&&n.availableWidth,l.height=s):(l.width=i,l.height=u?u*s:c&&n.availableHeight)}return t}(c.concat(d),m);Ui(l.fullSize,N,m,E),Ui(c,N,m,E),Ui(d,N,m,E)&&Ui(c,N,m,E),function Ex(e){const n=e.maxPadding;function t(i){const s=Math.max(n[i]-e[i],0);return e[i]+=s,s}e.y+=t("top"),e.x+=t("left"),t("right"),t("bottom")}(N),hu(l.leftAndTop,N,m,E),N.x+=N.w,N.y+=N.h,hu(l.rightAndBottom,N,m,E),e.chartArea={left:N.left,top:N.top,right:N.left+N.w,bottom:N.top+N.h,height:N.h,width:N.w},At(l.chartArea,k=>{const P=k.box;Object.assign(P,e.chartArea),P.update(N.w,N.h,{left:0,top:0,right:0,bottom:0})})}};class fu{acquireContext(n,t){}releaseContext(n){return!1}addEventListener(n,t,i){}removeEventListener(n,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(n,t,i,s){return t=Math.max(0,t||n.width),i=i||n.height,{width:t,height:Math.max(0,s?Math.floor(t/s):i)}}isAttached(n){return!0}updateConfig(n){}}class Ox extends fu{acquireContext(n){return n&&n.getContext&&n.getContext("2d")||null}updateConfig(n){n.options.animation=!1}}const eo="$chartjs",Ax={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},gu=e=>null===e||""===e,pu=!!Ey&&{passive:!0};function Rx(e,n,t){e.canvas.removeEventListener(n,t,pu)}function no(e,n){for(const t of e)if(t===n||t.contains(n))return!0}function Lx(e,n,t){const i=e.canvas,s=new MutationObserver(o=>{let a=!1;for(const l of o)a=a||no(l.addedNodes,i),a=a&&!no(l.removedNodes,i);a&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}function Bx(e,n,t){const i=e.canvas,s=new MutationObserver(o=>{let a=!1;for(const l of o)a=a||no(l.removedNodes,i),a=a&&!no(l.addedNodes,i);a&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}const Wi=new Map;let mu=0;function _u(){const e=window.devicePixelRatio;e!==mu&&(mu=e,Wi.forEach((n,t)=>{t.currentDevicePixelRatio!==e&&n()}))}function Vx(e,n,t){const i=e.canvas,s=i&&Br(i);if(!s)return;const o=Xc((l,c)=>{const d=s.clientWidth;t(l,c),d<s.clientWidth&&t()},window),a=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,u=c.contentRect.height;0===d&&0===u||o(d,u)});return a.observe(s),function Gx(e,n){Wi.size||window.addEventListener("resize",_u),Wi.set(e,n)}(e,o),a}function Zr(e,n,t){t&&t.disconnect(),"resize"===n&&function Hx(e){Wi.delete(e),Wi.size||window.removeEventListener("resize",_u)}(e)}function jx(e,n,t){const i=e.canvas,s=Xc(o=>{null!==e.ctx&&t(function Fx(e,n){const t=Ax[e.type]||e.type,{x:i,y:s}=vn(e,n);return{type:t,chart:n,native:e,x:void 0!==i?i:null,y:void 0!==s?s:null}}(o,e))},e,o=>{const a=o[0];return[a,a.offsetX,a.offsetY]});return function Px(e,n,t){e.addEventListener(n,t,pu)}(i,n,s),s}class zx extends fu{acquireContext(n,t){const i=n&&n.getContext&&n.getContext("2d");return i&&i.canvas===n?(function Ix(e,n){const t=e.style,i=e.getAttribute("height"),s=e.getAttribute("width");if(e[eo]={initial:{height:i,width:s,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",gu(s)){const o=Id(e,"width");void 0!==o&&(e.width=o)}if(gu(i))if(""===e.style.height)e.height=e.width/(n||2);else{const o=Id(e,"height");void 0!==o&&(e.height=o)}}(n,t),i):null}releaseContext(n){const t=n.canvas;if(!t[eo])return!1;const i=t[eo].initial;["height","width"].forEach(o=>{const a=i[o];Et(a)?t.removeAttribute(o):t.setAttribute(o,a)});const s=i.style||{};return Object.keys(s).forEach(o=>{t.style[o]=s[o]}),t.width=t.width,delete t[eo],!0}addEventListener(n,t,i){this.removeEventListener(n,t),(n.$proxies||(n.$proxies={}))[t]=({attach:Lx,detach:Bx,resize:Vx}[t]||jx)(n,t,i)}removeEventListener(n,t){const i=n.$proxies||(n.$proxies={}),s=i[t];s&&(({attach:Zr,detach:Zr,resize:Zr}[t]||Rx)(n,t,s),i[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(n,t,i,s){return function My(e,n,t,i){const s=qs(e),o=bn(s,"margin"),a=Ks(s.maxWidth,e,"clientWidth")||Us,l=Ks(s.maxHeight,e,"clientHeight")||Us,c=function Cy(e,n,t){let i,s;if(void 0===n||void 0===t){const o=Br(e);if(o){const a=o.getBoundingClientRect(),l=qs(o),c=bn(l,"border","width"),d=bn(l,"padding");n=a.width-d.width-c.width,t=a.height-d.height-c.height,i=Ks(l.maxWidth,o,"clientWidth"),s=Ks(l.maxHeight,o,"clientHeight")}else n=e.clientWidth,t=e.clientHeight}return{width:n,height:t,maxWidth:i||Us,maxHeight:s||Us}}(e,n,t);let{width:d,height:u}=c;if("content-box"===s.boxSizing){const m=bn(s,"border","width"),v=bn(s,"padding");d-=v.width+m.width,u-=v.height+m.height}return d=Math.max(0,d-o.width),u=Math.max(0,i?Math.floor(d/i):u-o.height),d=Gr(Math.min(d,a,c.maxWidth)),u=Gr(Math.min(u,l,c.maxHeight)),d&&!u&&(u=Gr(d/2)),{width:d,height:u}}(n,t,i,s)}isAttached(n){const t=Br(n);return!(!t||!t.isConnected)}}class qt{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(n){const{x:t,y:i}=this.getProps(["x","y"],n);return{x:t,y:i}}hasValue(){return Ti(this.x)&&Ti(this.y)}getProps(n,t){const i=this.$animations;if(!t||!i)return this;const s={};return n.forEach(o=>{s[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),s}}qt.defaults={},qt.defaultRoutes=void 0;const bu={values:e=>Ot(e)?e:""+e,numeric(e,n,t){if(0===e)return"0";const i=this.chart.options.locale;let s,o=e;if(t.length>1){const d=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(d<1e-4||d>1e15)&&(s="scientific"),o=function Wx(e,n){let t=n.length>3?n[2].value-n[1].value:n[1].value-n[0].value;return Math.abs(t)>=1&&e!==Math.floor(e)&&(t=e-Math.floor(e)),t}(e,t)}const a=me(Math.abs(o)),l=Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),Gi(e,i,c)},logarithmic(e,n,t){if(0===e)return"0";const i=e/Math.pow(10,Math.floor(me(e)));return 1===i||2===i||5===i?bu.numeric.call(this,e,n,t):""}};var io={formatters:bu};function so(e,n,t,i,s){const o=yt(i,0),a=Math.min(yt(s,e.length),e.length);let c,d,u,l=0;for(t=Math.ceil(t),s&&(c=s-i,t=c/Math.floor(c/t)),u=o;u<0;)l++,u=Math.round(o+l*t);for(d=Math.max(o,0);d<a;d++)d===u&&(n.push(e[d]),l++,u=Math.round(o+l*t))}Ct.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:io.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),Ct.route("scale.ticks","color","","color"),Ct.route("scale.grid","color","","borderColor"),Ct.route("scale.grid","borderColor","","borderColor"),Ct.route("scale.title","color","","color"),Ct.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e}),Ct.describe("scales",{_fallback:"scale"}),Ct.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e});const vu=(e,n,t)=>"top"===n||"left"===n?e[n]+t:e[n]-t;function yu(e,n){const t=[],i=e.length/n,s=e.length;let o=0;for(;o<s;o+=i)t.push(e[Math.floor(o)]);return t}function qx(e,n,t){const i=e.ticks.length,s=Math.min(n,i-1),o=e._startPixel,a=e._endPixel,l=1e-6;let d,c=e.getPixelForTick(s);if(!(t&&(d=1===i?Math.max(c-o,a-c):0===n?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(s-1))/2,c+=s<n?d:-d,c<o-l||c>a+l)))return c}function $i(e){return e.drawTicks?e.tickLength:0}function xu(e,n){if(!e.display)return 0;const t=jt(e.font,n),i=Zt(e.padding);return(Ot(e.text)?e.text.length:1)*t.lineHeight+i.height}function iw(e,n,t){let i=wr(e);return(t&&"right"!==n||!t&&"right"===n)&&(i=(e=>"left"===e?"right":"right"===e?"left":e)(i)),i}class wn extends qt{constructor(n){super(),this.id=n.id,this.type=n.type,this.options=void 0,this.ctx=n.ctx,this.chart=n.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(n){this.options=n.setContext(this.getContext()),this.axis=n.axis,this._userMin=this.parse(n.min),this._userMax=this.parse(n.max),this._suggestedMin=this.parse(n.suggestedMin),this._suggestedMax=this.parse(n.suggestedMax)}parse(n,t){return n}getUserBounds(){let{_userMin:n,_userMax:t,_suggestedMin:i,_suggestedMax:s}=this;return n=pe(n,Number.POSITIVE_INFINITY),t=pe(t,Number.NEGATIVE_INFINITY),i=pe(i,Number.POSITIVE_INFINITY),s=pe(s,Number.NEGATIVE_INFINITY),{min:pe(n,i),max:pe(t,s),minDefined:Gt(n),maxDefined:Gt(t)}}getMinMax(n){let a,{min:t,max:i,minDefined:s,maxDefined:o}=this.getUserBounds();if(s&&o)return{min:t,max:i};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)a=l[c].controller.getMinMax(this,n),s||(t=Math.min(t,a.min)),o||(i=Math.max(i,a.max));return t=o&&t>i?i:t,i=s&&t>i?t:i,{min:pe(t,pe(i,t)),max:pe(i,pe(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const n=this.chart.data;return this.options.labels||(this.isHorizontal()?n.xLabels:n.yLabels)||n.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){It(this.options.beforeUpdate,[this])}update(n,t,i){const{beginAtZero:s,grace:o,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=n,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function iy(e,n,t){const{min:i,max:s}=e,o=Jc(n,(s-i)/2),a=(l,c)=>t&&0===l?0:l+c;return{min:a(i,-Math.abs(o)),max:a(s,o)}}(this,o,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?yu(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=function $x(e,n){const t=e.options.ticks,i=t.maxTicksLimit||function Yx(e){const n=e.options.offset,t=e._tickSize();return Math.floor(Math.min(e._length/t+(n?0:1),e._maxLength/t))}(e),s=t.major.enabled?function Xx(e){const n=[];let t,i;for(t=0,i=e.length;t<i;t++)e[t].major&&n.push(t);return n}(n):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return function Jx(e,n,t,i){let a,s=0,o=t[0];for(i=Math.ceil(i),a=0;a<e.length;a++)a===o&&(n.push(e[a]),s++,o=t[s*i])}(n,c,s,o/i),c;const d=function Zx(e,n,t){const i=function Qx(e){const n=e.length;let t,i;if(n<2)return!1;for(i=e[0],t=1;t<n;++t)if(e[t]-e[t-1]!==i)return!1;return i}(e),s=n.length/t;if(!i)return Math.max(s,1);const o=function yv(e){const n=[],t=Math.sqrt(e);let i;for(i=1;i<t;i++)e%i==0&&(n.push(i),n.push(e/i));return t===(0|t)&&n.push(t),n.sort((s,o)=>s-o).pop(),n}(i);for(let a=0,l=o.length-1;a<l;a++){const c=o[a];if(c>s)return c}return Math.max(s,1)}(s,n,i);if(o>0){let u,m;const v=o>1?Math.round((l-a)/(o-1)):null;for(so(n,c,d,Et(v)?0:a-v,a),u=0,m=o-1;u<m;u++)so(n,c,d,s[u],s[u+1]);return so(n,c,d,l,Et(v)?n.length:l+v),c}return so(n,c,d),c}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,i,n=this.options.reverse;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,n=!n),this._startPixel=t,this._endPixel=i,this._reversePixels=n,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){It(this.options.afterUpdate,[this])}beforeSetDimensions(){It(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){It(this.options.afterSetDimensions,[this])}_callHooks(n){this.chart.notifyPlugins(n,this.getContext()),It(this.options[n],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){It(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(n){const t=this.options.ticks;let i,s,o;for(i=0,s=n.length;i<s;i++)o=n[i],o.label=It(t.callback,[o.value,i,n],this)}afterTickToLabelConversion(){It(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){It(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const n=this.options,t=n.ticks,i=this.ticks.length,s=t.minRotation||0,o=t.maxRotation;let l,c,d,a=s;if(!this._isVisible()||!t.display||s>=o||i<=1||!this.isHorizontal())return void(this.labelRotation=s);const u=this._getLabelSizes(),m=u.widest.width,v=u.highest.height,N=Kt(this.chart.width-m,0,this.maxWidth);l=n.offset?this.maxWidth/i:N/(i-1),m+6>l&&(l=N/(i-(n.offset?.5:1)),c=this.maxHeight-$i(n.grid)-t.padding-xu(n.title,this.chart.options.font),d=Math.sqrt(m*m+v*v),a=Dr(Math.min(Math.asin(Kt((u.highest.height+6)/l,-1,1)),Math.asin(Kt(c/d,-1,1))-Math.asin(Kt(v/d,-1,1)))),a=Math.max(s,Math.min(o,a))),this.labelRotation=a}afterCalculateLabelRotation(){It(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){It(this.options.beforeFit,[this])}fit(){const n={width:0,height:0},{chart:t,options:{ticks:i,title:s,grid:o}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const c=xu(s,t.options.font);if(l?(n.width=this.maxWidth,n.height=$i(o)+c):(n.height=this.maxHeight,n.width=$i(o)+c),i.display&&this.ticks.length){const{first:d,last:u,widest:m,highest:v}=this._getLabelSizes(),N=2*i.padding,E=Qt(this.labelRotation),k=Math.cos(E),P=Math.sin(E);l?n.height=Math.min(this.maxHeight,n.height+(i.mirror?0:P*m.width+k*v.height)+N):n.width=Math.min(this.maxWidth,n.width+(i.mirror?0:k*m.width+P*v.height)+N),this._calculatePadding(d,u,P,k)}}this._handleMargins(),l?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=n.height):(this.width=n.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(n,t,i,s){const{ticks:{align:o,padding:a},position:l}=this.options,c=0!==this.labelRotation,d="top"!==l&&"x"===this.axis;if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,N=0;c?d?(v=s*n.width,N=i*t.height):(v=i*n.height,N=s*t.width):"start"===o?N=t.width:"end"===o?v=n.width:"inner"!==o&&(v=n.width/2,N=t.width/2),this.paddingLeft=Math.max((v-u+a)*this.width/(this.width-u),0),this.paddingRight=Math.max((N-m+a)*this.width/(this.width-m),0)}else{let u=t.height/2,m=n.height/2;"start"===o?(u=0,m=n.height):"end"===o&&(u=t.height,m=0),this.paddingTop=u+a,this.paddingBottom=m+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){It(this.options.afterFit,[this])}isHorizontal(){const{axis:n,position:t}=this.options;return"top"===t||"bottom"===t||"x"===n}isFullSize(){return this.options.fullSize}_convertTicksToLabels(n){let t,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(n),t=0,i=n.length;t<i;t++)Et(n[t].label)&&(n.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let n=this._labelSizes;if(!n){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=yu(i,t)),this._labelSizes=n=this._computeLabelSizes(i,i.length)}return n}_computeLabelSizes(n,t){const{ctx:i,_longestTextCache:s}=this,o=[],a=[];let d,u,m,v,N,E,k,P,V,Z,q,l=0,c=0;for(d=0;d<t;++d){if(v=n[d].label,N=this._resolveTickFontOptions(d),i.font=E=N.string,k=s[E]=s[E]||{data:{},gc:[]},P=N.lineHeight,V=Z=0,Et(v)||Ot(v)){if(Ot(v))for(u=0,m=v.length;u<m;++u)q=v[u],!Et(q)&&!Ot(q)&&(V=Js(i,k.data,k.gc,V,q),Z+=P)}else V=Js(i,k.data,k.gc,V,v),Z=P;o.push(V),a.push(Z),l=Math.max(V,l),c=Math.max(Z,c)}!function tw(e,n){At(e,t=>{const i=t.gc,s=i.length/2;let o;if(s>n){for(o=0;o<s;++o)delete t.data[i[o]];i.splice(0,s)}})}(s,t);const st=o.indexOf(l),et=a.indexOf(c),ht=ut=>({width:o[ut]||0,height:a[ut]||0});return{first:ht(0),last:ht(t-1),widest:ht(st),highest:ht(et),widths:o,heights:a}}getLabelForValue(n){return n}getPixelForValue(n,t){return NaN}getValueForPixel(n){}getPixelForTick(n){const t=this.ticks;return n<0||n>t.length-1?null:this.getPixelForValue(t[n].value)}getPixelForDecimal(n){this._reversePixels&&(n=1-n);const t=this._startPixel+n*this._length;return function Sv(e){return Kt(e,-32768,32767)}(this._alignToPixels?mn(this.chart,t,0):t)}getDecimalForPixel(n){const t=(n-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:n,max:t}=this;return n<0&&t<0?t:n>0&&t>0?n:0}getContext(n){const t=this.ticks||[];if(n>=0&&n<t.length){const i=t[n];return i.$context||(i.$context=function nw(e,n,t){return Ke(e,{tick:t,index:n,type:"tick"})}(this.getContext(),n,i))}return this.$context||(this.$context=function ew(e,n){return Ke(e,{scale:n,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const n=this.options.ticks,t=Qt(this.labelRotation),i=Math.abs(Math.cos(t)),s=Math.abs(Math.sin(t)),o=this._getLabelSizes(),a=n.autoSkipPadding||0,l=o?o.widest.width+a:0,c=o?o.highest.height+a:0;return this.isHorizontal()?c*i>l*s?l/i:c/s:c*s<l*i?c/i:l/s}_isVisible(){const n=this.options.display;return"auto"!==n?!!n:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(n){const t=this.axis,i=this.chart,s=this.options,{grid:o,position:a}=s,l=o.offset,c=this.isHorizontal(),u=this.ticks.length+(l?1:0),m=$i(o),v=[],N=o.setContext(this.getContext()),E=N.drawBorder?N.borderWidth:0,k=E/2,P=function(Mt){return mn(i,Mt,E)};let V,Z,q,st,et,ht,ut,gt,mt,Dt,wt,xt;if("top"===a)V=P(this.bottom),ht=this.bottom-m,gt=V-k,Dt=P(n.top)+k,xt=n.bottom;else if("bottom"===a)V=P(this.top),Dt=n.top,xt=P(n.bottom)-k,ht=V+k,gt=this.top+m;else if("left"===a)V=P(this.right),et=this.right-m,ut=V-k,mt=P(n.left)+k,wt=n.right;else if("right"===a)V=P(this.left),mt=n.left,wt=P(n.right)-k,et=V+k,ut=this.left+m;else if("x"===t){if("center"===a)V=P((n.top+n.bottom)/2+.5);else if(Tt(a)){const Mt=Object.keys(a)[0];V=P(this.chart.scales[Mt].getPixelForValue(a[Mt]))}Dt=n.top,xt=n.bottom,ht=V+k,gt=ht+m}else if("y"===t){if("center"===a)V=P((n.left+n.right)/2);else if(Tt(a)){const Mt=Object.keys(a)[0];V=P(this.chart.scales[Mt].getPixelForValue(a[Mt]))}et=V-k,ut=et-m,mt=n.left,wt=n.right}const Vt=yt(s.ticks.maxTicksLimit,u),Xt=Math.max(1,Math.ceil(u/Vt));for(Z=0;Z<u;Z+=Xt){const Mt=o.setContext(this.getContext(Z)),Rt=Mt.lineWidth,cs=Mt.color,Nn=o.borderDash||[],ds=Mt.borderDashOffset,ti=Mt.tickWidth,Ao=Mt.tickColor,ei=Mt.tickBorderDash||[],us=Mt.tickBorderDashOffset;q=qx(this,Z,l),void 0!==q&&(st=mn(i,q,Rt),c?et=ut=mt=wt=st:ht=gt=Dt=xt=st,v.push({tx1:et,ty1:ht,tx2:ut,ty2:gt,x1:mt,y1:Dt,x2:wt,y2:xt,width:Rt,color:cs,borderDash:Nn,borderDashOffset:ds,tickWidth:ti,tickColor:Ao,tickBorderDash:ei,tickBorderDashOffset:us}))}return this._ticksLength=u,this._borderValue=V,v}_computeLabelItems(n){const t=this.axis,i=this.options,{position:s,ticks:o}=i,a=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:u,mirror:m}=o,v=$i(i.grid),N=v+u,E=m?-u:N,k=-Qt(this.labelRotation),P=[];let V,Z,q,st,et,ht,ut,gt,mt,Dt,wt,xt,Vt="middle";if("top"===s)ht=this.bottom-E,ut=this._getXAxisLabelAlignment();else if("bottom"===s)ht=this.top+E,ut=this._getXAxisLabelAlignment();else if("left"===s){const Mt=this._getYAxisLabelAlignment(v);ut=Mt.textAlign,et=Mt.x}else if("right"===s){const Mt=this._getYAxisLabelAlignment(v);ut=Mt.textAlign,et=Mt.x}else if("x"===t){if("center"===s)ht=(n.top+n.bottom)/2+N;else if(Tt(s)){const Mt=Object.keys(s)[0];ht=this.chart.scales[Mt].getPixelForValue(s[Mt])+N}ut=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===s)et=(n.left+n.right)/2-N;else if(Tt(s)){const Mt=Object.keys(s)[0];et=this.chart.scales[Mt].getPixelForValue(s[Mt])}ut=this._getYAxisLabelAlignment(v).textAlign}"y"===t&&("start"===c?Vt="top":"end"===c&&(Vt="bottom"));const Xt=this._getLabelSizes();for(V=0,Z=l.length;V<Z;++V){q=l[V],st=q.label;const Mt=o.setContext(this.getContext(V));gt=this.getPixelForTick(V)+o.labelOffset,mt=this._resolveTickFontOptions(V),Dt=mt.lineHeight,wt=Ot(st)?st.length:1;const Rt=wt/2,cs=Mt.color,Nn=Mt.textStrokeColor,ds=Mt.textStrokeWidth;let Ao,ti=ut;if(a?(et=gt,"inner"===ut&&(ti=V===Z-1?this.options.reverse?"left":"right":0===V?this.options.reverse?"right":"left":"center"),xt="top"===s?"near"===d||0!==k?-wt*Dt+Dt/2:"center"===d?-Xt.highest.height/2-Rt*Dt+Dt:Dt/2-Xt.highest.height:"near"===d||0!==k?Dt/2:"center"===d?Xt.highest.height/2-Rt*Dt:Xt.highest.height-wt*Dt,m&&(xt*=-1)):(ht=gt,xt=(1-wt)*Dt/2),Mt.showLabelBackdrop){const ei=Zt(Mt.backdropPadding),us=Xt.heights[V],Ia=Xt.widths[V];let Pa=ht+xt-ei.top,Ra=et-ei.left;switch(Vt){case"middle":Pa-=us/2;break;case"bottom":Pa-=us}switch(ut){case"center":Ra-=Ia/2;break;case"right":Ra-=Ia}Ao={left:Ra,top:Pa,width:Ia+ei.width,height:us+ei.height,color:Mt.backdropColor}}P.push({rotation:k,label:st,font:mt,color:cs,strokeColor:Nn,strokeWidth:ds,textOffset:xt,textAlign:ti,textBaseline:Vt,translation:[et,ht],backdrop:Ao})}return P}_getXAxisLabelAlignment(){const{position:n,ticks:t}=this.options;if(-Qt(this.labelRotation))return"top"===n?"left":"right";let s="center";return"start"===t.align?s="left":"end"===t.align?s="right":"inner"===t.align&&(s="inner"),s}_getYAxisLabelAlignment(n){const{position:t,ticks:{crossAlign:i,mirror:s,padding:o}}=this.options,l=n+o,c=this._getLabelSizes().widest.width;let d,u;return"left"===t?s?(u=this.right+o,"near"===i?d="left":"center"===i?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-l,"near"===i?d="right":"center"===i?(d="center",u-=c/2):(d="left",u=this.left)):"right"===t?s?(u=this.left+o,"near"===i?d="right":"center"===i?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+l,"near"===i?d="left":"center"===i?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const n=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:n.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:n.width}:void 0}drawBackground(){const{ctx:n,options:{backgroundColor:t},left:i,top:s,width:o,height:a}=this;t&&(n.save(),n.fillStyle=t,n.fillRect(i,s,o,a),n.restore())}getLineWidthForValue(n){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const s=this.ticks.findIndex(o=>o.value===n);return s>=0?t.setContext(this.getContext(s)).lineWidth:0}drawGrid(n){const t=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(n));let o,a;const l=(c,d,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(t.display)for(o=0,a=s.length;o<a;++o){const c=s[o];t.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:n,ctx:t,options:{grid:i}}=this,s=i.setContext(this.getContext()),o=i.drawBorder?s.borderWidth:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,d,u,m;this.isHorizontal()?(c=mn(n,this.left,o)-o/2,d=mn(n,this.right,a)+a/2,u=m=l):(u=mn(n,this.top,o)-o/2,m=mn(n,this.bottom,a)+a/2,c=d=l),t.save(),t.lineWidth=s.borderWidth,t.strokeStyle=s.borderColor,t.beginPath(),t.moveTo(c,u),t.lineTo(d,m),t.stroke(),t.restore()}drawLabels(n){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Fi(i,s);const o=this._labelItems||(this._labelItems=this._computeLabelItems(n));let a,l;for(a=0,l=o.length;a<l;++a){const c=o[a],d=c.font,u=c.label;c.backdrop&&(i.fillStyle=c.backdrop.color,i.fillRect(c.backdrop.left,c.backdrop.top,c.backdrop.width,c.backdrop.height)),_n(i,u,0,c.textOffset,d,c)}s&&Li(i)}drawTitle(){const{ctx:n,options:{position:t,title:i,reverse:s}}=this;if(!i.display)return;const o=jt(i.font),a=Zt(i.padding),l=i.align;let c=o.lineHeight/2;"bottom"===t||"center"===t||Tt(t)?(c+=a.bottom,Ot(i.text)&&(c+=o.lineHeight*(i.text.length-1))):c+=a.top;const{titleX:d,titleY:u,maxWidth:m,rotation:v}=function sw(e,n,t,i){const{top:s,left:o,bottom:a,right:l,chart:c}=e,{chartArea:d,scales:u}=c;let v,N,E,m=0;const k=a-s,P=l-o;if(e.isHorizontal()){if(N=ee(i,o,l),Tt(t)){const V=Object.keys(t)[0];E=u[V].getPixelForValue(t[V])+k-n}else E="center"===t?(d.bottom+d.top)/2+k-n:vu(e,t,n);v=l-o}else{if(Tt(t)){const V=Object.keys(t)[0];N=u[V].getPixelForValue(t[V])-P+n}else N="center"===t?(d.left+d.right)/2-P+n:vu(e,t,n);E=ee(i,a,s),m="left"===t?-Ht:Ht}return{titleX:N,titleY:E,maxWidth:v,rotation:m}}(this,c,t,l);_n(n,i.text,0,0,o,{color:i.color,maxWidth:m,rotation:v,textAlign:iw(l,t,s),textBaseline:"middle",translation:[d,u]})}draw(n){!this._isVisible()||(this.drawBackground(),this.drawGrid(n),this.drawBorder(),this.drawTitle(),this.drawLabels(n))}_layers(){const n=this.options,t=n.ticks&&n.ticks.z||0,i=yt(n.grid&&n.grid.z,-1);return this._isVisible()&&this.draw===wn.prototype.draw?[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i+1,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]:[{z:t,draw:s=>{this.draw(s)}}]}getMatchingVisibleMetas(n){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let o,a;for(o=0,a=t.length;o<a;++o){const l=t[o];l[i]===this.id&&(!n||l.type===n)&&s.push(l)}return s}_resolveTickFontOptions(n){return jt(this.options.ticks.setContext(this.getContext(n)).font)}_maxDigits(){const n=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/n}}class oo{constructor(n,t,i){this.type=n,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(n){return Object.prototype.isPrototypeOf.call(this.type.prototype,n.prototype)}register(n){const t=Object.getPrototypeOf(n);let i;(function aw(e){return"id"in e&&"defaults"in e})(t)&&(i=this.register(t));const s=this.items,o=n.id,a=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+n);return o in s||(s[o]=n,function ow(e,n,t){const i=Si(Object.create(null),[t?Ct.get(t):{},Ct.get(n),e.defaults]);Ct.set(n,i),e.defaultRoutes&&function rw(e,n){Object.keys(n).forEach(t=>{const i=t.split("."),s=i.pop(),o=[e].concat(i).join("."),a=n[t].split("."),l=a.pop(),c=a.join(".");Ct.route(o,s,c,l)})}(n,e.defaultRoutes),e.descriptors&&Ct.describe(n,e.descriptors)}(n,a,i),this.override&&Ct.override(n.id,n.overrides)),a}get(n){return this.items[n]}unregister(n){const t=this.items,i=n.id,s=this.scope;i in t&&delete t[i],s&&i in Ct[s]&&(delete Ct[s][i],this.override&&delete pn[i])}}var He=new class lw{constructor(){this.controllers=new oo(Ge,"datasets",!0),this.elements=new oo(qt,"elements"),this.plugins=new oo(Object,"plugins"),this.scales=new oo(wn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...n){this._each("register",n)}remove(...n){this._each("unregister",n)}addControllers(...n){this._each("register",n,this.controllers)}addElements(...n){this._each("register",n,this.elements)}addPlugins(...n){this._each("register",n,this.plugins)}addScales(...n){this._each("register",n,this.scales)}getController(n){return this._get(n,this.controllers,"controller")}getElement(n){return this._get(n,this.elements,"element")}getPlugin(n){return this._get(n,this.plugins,"plugin")}getScale(n){return this._get(n,this.scales,"scale")}removeControllers(...n){this._each("unregister",n,this.controllers)}removeElements(...n){this._each("unregister",n,this.elements)}removePlugins(...n){this._each("unregister",n,this.plugins)}removeScales(...n){this._each("unregister",n,this.scales)}_each(n,t,i){[...t].forEach(s=>{const o=i||this._getRegistryForType(s);i||o.isForType(s)||o===this.plugins&&s.id?this._exec(n,o,s):At(s,a=>{const l=i||this._getRegistryForType(a);this._exec(n,l,a)})})}_exec(n,t,i){const s=Sr(n);It(i["before"+s],[],i),t[n](i),It(i["after"+s],[],i)}_getRegistryForType(n){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(n))return i}return this.plugins}_get(n,t,i){const s=t.get(n);if(void 0===s)throw new Error('"'+n+'" is not a registered '+i+".");return s}};class cw{constructor(){this._init=[]}notify(n,t,i,s){"beforeInit"===t&&(this._init=this._createDescriptors(n,!0),this._notify(this._init,n,"install"));const o=s?this._descriptors(n).filter(s):this._descriptors(n),a=this._notify(o,n,t,i);return"afterDestroy"===t&&(this._notify(o,n,"stop"),this._notify(this._init,n,"uninstall")),a}_notify(n,t,i,s){s=s||{};for(const o of n){const a=o.plugin;if(!1===It(a[i],[t,s,o.options],a)&&s.cancelable)return!1}return!0}invalidate(){Et(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(n){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(n);return this._notifyStateChanges(n),t}_createDescriptors(n,t){const i=n&&n.config,s=yt(i.options&&i.options.plugins,{}),o=function dw(e){const n=[],t=Object.keys(He.plugins.items);for(let s=0;s<t.length;s++)n.push(He.getPlugin(t[s]));const i=e.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];-1===n.indexOf(o)&&n.push(o)}return n}(i);return!1!==s||t?function hw(e,n,t,i){const s=[],o=e.getContext();for(let a=0;a<n.length;a++){const l=n[a],d=uw(t[l.id],i);null!==d&&s.push({plugin:l,options:fw(e.config,l,d,o)})}return s}(n,o,s,t):[]}_notifyStateChanges(n){const t=this._oldCache||[],i=this._cache,s=(o,a)=>o.filter(l=>!a.some(c=>l.plugin.id===c.plugin.id));this._notify(s(t,i),n,"stop"),this._notify(s(i,t),n,"start")}}function uw(e,n){return n||!1!==e?!0===e?{}:e:null}function fw(e,n,t,i){const s=e.pluginScopeKeys(n),o=e.getOptionScopes(t,s);return e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Xr(e,n){return((n.datasets||{})[e]||{}).indexAxis||n.indexAxis||(Ct.datasets[e]||{}).indexAxis||"x"}function Jr(e,n){return"x"===e||"y"===e?e:n.axis||function mw(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}(n.position)||e.charAt(0).toLowerCase()}function wu(e){const n=e.options||(e.options={});n.plugins=yt(n.plugins,{}),n.scales=function _w(e,n){const t=pn[e.type]||{scales:{}},i=n.scales||{},s=Xr(e.type,n),o=Object.create(null),a=Object.create(null);return Object.keys(i).forEach(l=>{const c=i[l];if(!Tt(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const d=Jr(l,c),u=function pw(e,n){return e===n?"_index_":"_value_"}(d,s),m=t.scales||{};o[d]=o[d]||l,a[l]=Di(Object.create(null),[{axis:d},c,m[d],m[u]])}),e.data.datasets.forEach(l=>{const c=l.type||e.type,d=l.indexAxis||Xr(c,n),m=(pn[c]||{}).scales||{};Object.keys(m).forEach(v=>{const N=function gw(e,n){let t=e;return"_index_"===e?t=n:"_value_"===e&&(t="x"===n?"y":"x"),t}(v,d),E=l[N+"AxisID"]||o[N]||N;a[E]=a[E]||Object.create(null),Di(a[E],[{axis:N},i[E],m[v]])})}),Object.keys(a).forEach(l=>{const c=a[l];Di(c,[Ct.scales[c.type],Ct.scale])}),a}(e,n)}function Su(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const Du=new Map,Nu=new Set;function ro(e,n){let t=Du.get(e);return t||(t=n(),Du.set(e,t),Nu.add(t)),t}const Yi=(e,n,t)=>{const i=Ye(n,t);void 0!==i&&e.add(i)};class vw{constructor(n){this._config=function bw(e){return(e=e||{}).data=Su(e.data),wu(e),e}(n),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(n){this._config.type=n}get data(){return this._config.data}set data(n){this._config.data=Su(n)}get options(){return this._config.options}set options(n){this._config.options=n}get plugins(){return this._config.plugins}update(){const n=this._config;this.clearCache(),wu(n)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(n){return ro(n,()=>[[`datasets.${n}`,""]])}datasetAnimationScopeKeys(n,t){return ro(`${n}.transition.${t}`,()=>[[`datasets.${n}.transitions.${t}`,`transitions.${t}`],[`datasets.${n}`,""]])}datasetElementScopeKeys(n,t){return ro(`${n}-${t}`,()=>[[`datasets.${n}.elements.${t}`,`datasets.${n}`,`elements.${t}`,""]])}pluginScopeKeys(n){const t=n.id;return ro(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...n.additionalOptionScopes||[]]])}_cachedScopes(n,t){const i=this._scopeCache;let s=i.get(n);return(!s||t)&&(s=new Map,i.set(n,s)),s}getOptionScopes(n,t,i){const{options:s,type:o}=this,a=this._cachedScopes(n,i),l=a.get(t);if(l)return l;const c=new Set;t.forEach(u=>{n&&(c.add(n),u.forEach(m=>Yi(c,n,m))),u.forEach(m=>Yi(c,s,m)),u.forEach(m=>Yi(c,pn[o]||{},m)),u.forEach(m=>Yi(c,Ct,m)),u.forEach(m=>Yi(c,Or,m))});const d=Array.from(c);return 0===d.length&&d.push(Object.create(null)),Nu.has(t)&&a.set(t,d),d}chartOptionScopes(){const{options:n,type:t}=this;return[n,pn[t]||{},Ct.datasets[t]||{},{type:t},Ct,Or]}resolveNamedOptions(n,t,i,s=[""]){const o={$shared:!0},{resolver:a,subPrefixes:l}=Tu(this._resolverCache,n,s);let c=a;(function xw(e,n){const{isScriptable:t,isIndexable:i}=Sd(e);for(const s of n){const o=t(s),a=i(s),l=(a||o)&&e[s];if(o&&(Ze(l)||yw(l))||a&&Ot(l))return!0}return!1})(a,t)&&(o.$shared=!1,c=jn(a,i=Ze(i)?i():i,this.createResolver(n,i,l)));for(const d of t)o[d]=c[d];return o}createResolver(n,t,i=[""],s){const{resolver:o}=Tu(this._resolverCache,n,i);return Tt(t)?jn(o,t,void 0,s):o}}function Tu(e,n,t){let i=e.get(n);i||(i=new Map,e.set(n,i));const s=t.join();let o=i.get(s);return o||(o={resolver:Rr(n,t),subPrefixes:t.filter(l=>!l.toLowerCase().includes("hover"))},i.set(s,o)),o}const yw=e=>Tt(e)&&Object.getOwnPropertyNames(e).reduce((n,t)=>n||Ze(e[t]),!1),Sw=["top","bottom","left","right","chartArea"];function Cu(e,n){return"top"===e||"bottom"===e||-1===Sw.indexOf(e)&&"x"===n}function Mu(e,n){return function(t,i){return t[e]===i[e]?t[n]-i[n]:t[e]-i[e]}}function Eu(e){const n=e.chart,t=n.options.animation;n.notifyPlugins("afterRender"),It(t&&t.onComplete,[e],n)}function Dw(e){const n=e.chart,t=n.options.animation;It(t&&t.onProgress,[e],n)}function ku(e){return Od()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const ao={},Ou=e=>{const n=ku(e);return Object.values(ao).filter(t=>t.canvas===n).pop()};function Nw(e,n,t){const i=Object.keys(e);for(const s of i){const o=+s;if(o>=n){const a=e[s];delete e[s],(t>0||o>n)&&(e[o+t]=a)}}}class Te{constructor(n,t){const i=this.config=new vw(t),s=ku(n),o=Ou(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function Ux(e){return!Od()||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Ox:zx}(s)),this.platform.updateConfig(i);const l=this.platform.acquireContext(s,a.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;this.id=hv(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new cw,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function dv(e,n){let t;return function(...i){return n?(clearTimeout(t),t=setTimeout(e,n,i)):e.apply(this,i),n}}(m=>this.update(m),a.resizeDelay||0),this._dataChanges=[],ao[this.id]=this,l&&c?(Be.listen(this,"complete",Eu),Be.listen(this,"progress",Dw),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:n,maintainAspectRatio:t},width:i,height:s,_aspectRatio:o}=this;return Et(n)?t&&o?o:s?i/s:null:n}get data(){return this.config.data}set data(n){this.config.data=n}get options(){return this._options}set options(n){this.config.options=n}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ad(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return bd(this.canvas,this.ctx),this}stop(){return Be.stop(this),this}resize(n,t){Be.running(this)?this._resizeBeforeDraw={width:n,height:t}:this._resize(n,t)}_resize(n,t){const i=this.options,a=this.platform.getMaximumSize(this.canvas,n,t,i.maintainAspectRatio&&this.aspectRatio),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Ad(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),It(i.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){At(this.options.scales||{},(i,s)=>{i.id=s})}buildOrUpdateScales(){const n=this.options,t=n.scales,i=this.scales,s=Object.keys(i).reduce((a,l)=>(a[l]=!1,a),{});let o=[];t&&(o=o.concat(Object.keys(t).map(a=>{const l=t[a],c=Jr(a,l),d="r"===c,u="x"===c;return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),At(o,a=>{const l=a.options,c=l.id,d=Jr(c,l),u=yt(l.type,a.dtype);(void 0===l.position||Cu(l.position,d)!==Cu(a.dposition))&&(l.position=a.dposition),s[c]=!0;let m=null;c in i&&i[c].type===u?m=i[c]:(m=new(He.getScale(u))({id:c,type:u,ctx:this.ctx,chart:this}),i[m.id]=m),m.init(l,n)}),At(s,(a,l)=>{a||delete i[l]}),At(i,a=>{ne.configure(this,a,a.options),ne.addBox(this,a)})}_updateMetasets(){const n=this._metasets,t=this.data.datasets.length,i=n.length;if(n.sort((s,o)=>s.index-o.index),i>t){for(let s=t;s<i;++s)this._destroyDatasetMeta(s);n.splice(t,i-t)}this._sortedMetasets=n.slice(0).sort(Mu("order","index"))}_removeUnreferencedMetasets(){const{_metasets:n,data:{datasets:t}}=this;n.length>t.length&&delete this._stacks,n.forEach((i,s)=>{0===t.filter(o=>o===i._dataset).length&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const n=[],t=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=t.length;i<s;i++){const o=t[i];let a=this.getDatasetMeta(i);const l=o.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=l,a.indexAxis=o.indexAxis||Xr(l,this.options),a.order=o.order||0,a.index=i,a.label=""+o.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const c=He.getController(l),{datasetElementType:d,dataElementType:u}=Ct.datasets[l];Object.assign(c.prototype,{dataElementType:He.getElement(u),datasetElementType:d&&He.getElement(d)}),a.controller=new c(this,i),n.push(a.controller)}}return this._updateMetasets(),n}_resetElements(){At(this.data.datasets,(n,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(n){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:n,cancelable:!0}))return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:m}=this.getDatasetMeta(d),v=!s&&-1===o.indexOf(m);m.buildOrUpdateElements(v),a=Math.max(+m.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),s||At(o,d=>{d.reset()}),this._updateDatasets(n),this.notifyPlugins("afterUpdate",{mode:n}),this._layers.sort(Mu("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){At(this.scales,n=>{ne.removeBox(this,n)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const n=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(n.events);(!qc(t,i)||!!this._responsiveListeners!==n.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:n}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:o}of t)Nw(n,s,"_removeElements"===i?-o:o)}_getUniformDataChanges(){const n=this._dataChanges;if(!n||!n.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=o=>new Set(n.filter(a=>a[0]===o).map((a,l)=>l+","+a.splice(1).join(","))),s=i(0);for(let o=1;o<t;o++)if(!qc(s,i(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(n){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;ne.update(this,this.width,this.height,n);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],At(this.boxes,s=>{i&&"chartArea"===s.position||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(n){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:n,cancelable:!0})){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,Ze(n)?n({datasetIndex:t}):n);this.notifyPlugins("afterDatasetsUpdate",{mode:n})}}_updateDataset(n,t){const i=this.getDatasetMeta(n),s={meta:i,index:n,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",s)&&(i.controller._update(t),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Be.has(this)?this.attached&&!Be.running(this)&&Be.start(this):(this.draw(),Eu({chart:this})))}draw(){let n;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resize(i,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(n=0;n<t.length&&t[n].z<=0;++n)t[n].draw(this.chartArea);for(this._drawDatasets();n<t.length;++n)t[n].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(n){const t=this._sortedMetasets,i=[];let s,o;for(s=0,o=t.length;s<o;++s){const a=t[s];(!n||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const n=this.getSortedVisibleDatasetMetas();for(let t=n.length-1;t>=0;--t)this._drawDataset(n[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(n){const t=this.ctx,i=n._clip,s=!i.disabled,o=this.chartArea,a={meta:n,index:n.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(s&&Fi(t,{left:!1===i.left?0:o.left-i.left,right:!1===i.right?this.width:o.right+i.right,top:!1===i.top?0:o.top-i.top,bottom:!1===i.bottom?this.height:o.bottom+i.bottom}),n.controller.draw(),s&&Li(t),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(n){return Ri(n,this.chartArea,this._minPadding)}getElementsAtEventForMode(n,t,i,s){const o=Sx.modes[t];return"function"==typeof o?o(this,n,i,s):[]}getDatasetMeta(n){const t=this.data.datasets[n],i=this._metasets;let s=i.filter(o=>o&&o._dataset===t).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:n,_dataset:t,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Ke(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(n){const t=this.data.datasets[n];if(!t)return!1;const i=this.getDatasetMeta(n);return"boolean"==typeof i.hidden?!i.hidden:!t.hidden}setDatasetVisibility(n,t){this.getDatasetMeta(n).hidden=!t}toggleDataVisibility(n){this._hiddenIndices[n]=!this._hiddenIndices[n]}getDataVisibility(n){return!this._hiddenIndices[n]}_updateVisibility(n,t,i){const s=i?"show":"hide",o=this.getDatasetMeta(n),a=o.controller._resolveAnimations(void 0,s);zt(t)?(o.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(n,i),a.update(o,{visible:i}),this.update(l=>l.datasetIndex===n?s:void 0))}hide(n,t){this._updateVisibility(n,t,!1)}show(n,t){this._updateVisibility(n,t,!0)}_destroyDatasetMeta(n){const t=this._metasets[n];t&&t.controller&&t.controller._destroy(),delete this._metasets[n]}_stop(){let n,t;for(this.stop(),Be.remove(this),n=0,t=this.data.datasets.length;n<t;++n)this._destroyDatasetMeta(n)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:n,ctx:t}=this;this._stop(),this.config.clearCache(),n&&(this.unbindEvents(),bd(n,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete ao[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...n){return this.canvas.toDataURL(...n)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const n=this._listeners,t=this.platform,i=(o,a)=>{t.addEventListener(this,o,a),n[o]=a},s=(o,a,l)=>{o.offsetX=a,o.offsetY=l,this._eventHandler(o)};At(this.options.events,o=>i(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const n=this._responsiveListeners,t=this.platform,i=(c,d)=>{t.addEventListener(this,c,d),n[c]=d},s=(c,d)=>{n[c]&&(t.removeEventListener(this,c,d),delete n[c])},o=(c,d)=>{this.canvas&&this.resize(c,d)};let a;const l=()=>{s("attach",l),this.attached=!0,this.resize(),i("resize",o),i("detach",a)};a=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),i("attach",l)},t.isAttached(this.canvas)?l():a()}unbindEvents(){At(this._listeners,(n,t)=>{this.platform.removeEventListener(this,t,n)}),this._listeners={},At(this._responsiveListeners,(n,t)=>{this.platform.removeEventListener(this,t,n)}),this._responsiveListeners=void 0}updateHoverStyle(n,t,i){const s=i?"set":"remove";let o,a,l,c;for("dataset"===t&&(o=this.getDatasetMeta(n[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),l=0,c=n.length;l<c;++l){a=n[l];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(n){const t=this._active||[],i=n.map(({datasetIndex:o,index:a})=>{const l=this.getDatasetMeta(o);if(!l)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:l.data[a],index:a}});!js(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(n,t,i){return this._plugins.notify(this,n,t,i)}_updateHoverStyles(n,t,i){const s=this.options.hover,o=(c,d)=>c.filter(u=>!d.some(m=>u.datasetIndex===m.datasetIndex&&u.index===m.index)),a=o(t,n),l=i?n:o(n,t);a.length&&this.updateHoverStyle(a,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(n,t){const i={event:n,replay:t,cancelable:!0,inChartArea:this.isPointInArea(n)},s=a=>(a.options.events||this.options.events).includes(n.native.type);if(!1===this.notifyPlugins("beforeEvent",i,s))return;const o=this._handleEvent(n,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(o||i.changed)&&this.render(),this}_handleEvent(n,t,i){const{_active:s=[],options:o}=this,l=this._getActiveElements(n,s,i,t),c=function bv(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(n),d=function Tw(e,n,t,i){return t&&"mouseout"!==e.type?i?n:e:null}(n,this._lastEvent,i,c);i&&(this._lastEvent=null,It(o.onHover,[n,l,this],this),c&&It(o.onClick,[n,l,this],this));const u=!js(l,s);return(u||t)&&(this._active=l,this._updateHoverStyles(l,s,t)),this._lastEvent=d,u}_getActiveElements(n,t,i,s){if("mouseout"===n.type)return[];if(!i)return t;const o=this.options.hover;return this.getElementsAtEventForMode(n,o.mode,o,s)}}const Au=()=>At(Te.instances,e=>e._plugins.invalidate()),qe=!0;function Iu(e,n,t){const{startAngle:i,pixelMargin:s,x:o,y:a,outerRadius:l,innerRadius:c}=n;let d=s/l;e.beginPath(),e.arc(o,a,l,i-d,t+d),c>s?(d=s/c,e.arc(o,a,c,t+d,i-d,!0)):e.arc(o,a,s,t+Ht,i-Ht),e.closePath(),e.clip()}function Wn(e,n,t,i){return{x:t+e*Math.cos(n),y:i+e*Math.sin(n)}}function Qr(e,n,t,i,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:d}=n,u=Math.max(n.outerRadius+i+t-c,0),m=d>0?d+i+t+c:0;let v=0;const N=s-l;if(i){const Nn=((d>0?d-i:0)+(u>0?u-i:0))/2;v=(N-(0!==Nn?N*Nn/(Nn+i):N))/2}const k=(N-Math.max(.001,N*u-t/kt)/u)/2,P=l+k+v,V=s-k-v,{outerStart:Z,outerEnd:q,innerStart:st,innerEnd:et}=function Mw(e,n,t,i){const s=function Cw(e){return Ir(e,["outerStart","outerEnd","innerStart","innerEnd"])}(e.options.borderRadius),o=(t-n)/2,a=Math.min(o,i*n/2),l=c=>{const d=(t-Math.min(o,c))*i/2;return Kt(c,0,Math.min(o,d))};return{outerStart:l(s.outerStart),outerEnd:l(s.outerEnd),innerStart:Kt(s.innerStart,0,a),innerEnd:Kt(s.innerEnd,0,a)}}(n,m,u,V-P),ht=u-Z,ut=u-q,gt=P+Z/ht,mt=V-q/ut,Dt=m+st,wt=m+et,xt=P+st/Dt,Vt=V-et/wt;if(e.beginPath(),e.arc(o,a,u,gt,mt),q>0){const Rt=Wn(ut,mt,o,a);e.arc(Rt.x,Rt.y,q,mt,V+Ht)}const Xt=Wn(wt,V,o,a);if(e.lineTo(Xt.x,Xt.y),et>0){const Rt=Wn(wt,Vt,o,a);e.arc(Rt.x,Rt.y,et,V+Ht,Vt+Math.PI)}if(e.arc(o,a,m,V-et/m,P+st/m,!0),st>0){const Rt=Wn(Dt,xt,o,a);e.arc(Rt.x,Rt.y,st,xt+Math.PI,P-Ht)}const Mt=Wn(ht,P,o,a);if(e.lineTo(Mt.x,Mt.y),Z>0){const Rt=Wn(ht,gt,o,a);e.arc(Rt.x,Rt.y,Z,P-Ht,gt)}e.closePath()}Object.defineProperties(Te,{defaults:{enumerable:qe,value:Ct},instances:{enumerable:qe,value:ao},overrides:{enumerable:qe,value:pn},registry:{enumerable:qe,value:He},version:{enumerable:qe,value:"3.8.0"},getChart:{enumerable:qe,value:Ou},register:{enumerable:qe,value:(...e)=>{He.add(...e),Au()}},unregister:{enumerable:qe,value:(...e)=>{He.remove(...e),Au()}}});class Zi extends qt{constructor(n){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,t,i){const s=this.getProps(["x","y"],i),{angle:o,distance:a}=od(s,{x:n,y:t}),{startAngle:l,endAngle:c,innerRadius:d,outerRadius:u,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),v=this.options.spacing/2,E=yt(m,c-l)>=Pt||Ei(o,l,c),k=Re(a,d+v,u+v);return E&&k}getCenterPoint(n){const{x:t,y:i,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],n),{offset:c,spacing:d}=this.options,u=(s+o)/2,m=(a+l+d+c)/2;return{x:t+Math.cos(u)*m,y:i+Math.sin(u)*m}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:t,circumference:i}=this,s=(t.offset||0)/2,o=(t.spacing||0)/2;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=i>Pt?Math.floor(i/Pt):0,0===i||this.innerRadius<0||this.outerRadius<0)return;n.save();let a=0;if(s){a=s/2;const c=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(c)*a,Math.sin(c)*a),this.circumference>=kt&&(a=s)}n.fillStyle=t.backgroundColor,n.strokeStyle=t.borderColor;const l=function Ew(e,n,t,i){const{fullCircles:s,startAngle:o,circumference:a}=n;let l=n.endAngle;if(s){Qr(e,n,t,i,o+Pt);for(let c=0;c<s;++c)e.fill();isNaN(a)||(l=o+a%Pt,a%Pt==0&&(l+=Pt))}return Qr(e,n,t,i,l),e.fill(),l}(n,this,a,o);(function Ow(e,n,t,i,s){const{options:o}=n,{borderWidth:a,borderJoinStyle:l}=o,c="inner"===o.borderAlign;!a||(c?(e.lineWidth=2*a,e.lineJoin=l||"round"):(e.lineWidth=a,e.lineJoin=l||"bevel"),n.fullCircles&&function kw(e,n,t){const{x:i,y:s,startAngle:o,pixelMargin:a,fullCircles:l}=n,c=Math.max(n.outerRadius-a,0),d=n.innerRadius+a;let u;for(t&&Iu(e,n,o+Pt),e.beginPath(),e.arc(i,s,d,o+Pt,o,!0),u=0;u<l;++u)e.stroke();for(e.beginPath(),e.arc(i,s,c,o,o+Pt),u=0;u<l;++u)e.stroke()}(e,n,c),c&&Iu(e,n,s),Qr(e,n,t,i,s),e.stroke())})(n,this,a,o,l),n.restore()}}function Pu(e,n,t=n){e.lineCap=yt(t.borderCapStyle,n.borderCapStyle),e.setLineDash(yt(t.borderDash,n.borderDash)),e.lineDashOffset=yt(t.borderDashOffset,n.borderDashOffset),e.lineJoin=yt(t.borderJoinStyle,n.borderJoinStyle),e.lineWidth=yt(t.borderWidth,n.borderWidth),e.strokeStyle=yt(t.borderColor,n.borderColor)}function Aw(e,n,t){e.lineTo(t.x,t.y)}function Ru(e,n,t={}){const i=e.length,{start:s=0,end:o=i-1}=t,{start:a,end:l}=n,c=Math.max(s,a),d=Math.min(o,l);return{count:i,start:c,loop:n.loop,ilen:d<c&&!(s<a&&o<a||s>l&&o>l)?i+d-c:d-c}}function Pw(e,n,t,i){const{points:s,options:o}=n,{count:a,start:l,loop:c,ilen:d}=Ru(s,t,i),u=function Iw(e){return e.stepped?Xv:e.tension||"monotone"===e.cubicInterpolationMode?Jv:Aw}(o);let N,E,k,{move:m=!0,reverse:v}=i||{};for(N=0;N<=d;++N)E=s[(l+(v?d-N:N))%a],!E.skip&&(m?(e.moveTo(E.x,E.y),m=!1):u(e,k,E,v,o.stepped),k=E);return c&&(E=s[(l+(v?d:0))%a],u(e,k,E,v,o.stepped)),!!c}function Rw(e,n,t,i){const s=n.points,{count:o,start:a,ilen:l}=Ru(s,t,i),{move:c=!0,reverse:d}=i||{};let v,N,E,k,P,V,u=0,m=0;const Z=st=>(a+(d?l-st:st))%o,q=()=>{k!==P&&(e.lineTo(u,P),e.lineTo(u,k),e.lineTo(u,V))};for(c&&(N=s[Z(0)],e.moveTo(N.x,N.y)),v=0;v<=l;++v){if(N=s[Z(v)],N.skip)continue;const st=N.x,et=N.y,ht=0|st;ht===E?(et<k?k=et:et>P&&(P=et),u=(m*u+st)/++m):(q(),e.lineTo(st,et),E=ht,m=0,k=P=et),V=et}q()}function Kr(e){const n=e.options;return e._decimated||e._loop||n.tension||"monotone"===n.cubicInterpolationMode||n.stepped||n.borderDash&&n.borderDash.length?Pw:Rw}Zi.id="arc",Zi.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0},Zi.defaultRoutes={backgroundColor:"backgroundColor"};const Gw="function"==typeof Path2D;let Xi=(()=>{class e extends qt{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,i){const s=this.options;!s.tension&&"monotone"!==s.cubicInterpolationMode||s.stepped||this._pointsUpdated||(wy(this._points,s,t,s.spanGaps?this._loop:this._fullLoop,i),this._pointsUpdated=!0)}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function By(e,n){const t=e.points,i=e.options.spanGaps,s=t.length;if(!s)return[];const o=!!e._loop,{start:a,end:l}=function Fy(e,n,t,i){let s=0,o=n-1;if(t&&!i)for(;s<n&&!e[s].skip;)s++;for(;s<n&&e[s].skip;)s++;for(s%=n,t&&(o+=s);o>s&&e[o%n].skip;)o--;return o%=n,{start:s,end:o}}(t,s,o,i);return function Vd(e,n,t,i){return i&&i.setContext&&t?function Gy(e,n,t,i){const s=e._chart.getContext(),o=jd(e.options),{_datasetIndex:a,options:{spanGaps:l}}=e,c=t.length,d=[];let u=o,m=n[0].start,v=m;function N(E,k,P,V){const Z=l?-1:1;if(E!==k){for(E+=c;t[E%c].skip;)E-=Z;for(;t[k%c].skip;)k+=Z;E%c!=k%c&&(d.push({start:E%c,end:k%c,loop:P,style:V}),u=V,m=k%c)}}for(const E of n){m=l?m:E.start;let P,k=t[m%c];for(v=m+1;v<=E.end;v++){const V=t[v%c];P=jd(i.setContext(Ke(s,{type:"segment",p0:k,p1:V,p0DataIndex:(v-1)%c,p1DataIndex:v%c,datasetIndex:a}))),Hy(P,u)&&N(m,v-1,E.loop,u),k=V,u=P}m<v-1&&N(m,v-1,E.loop,u)}return d}(e,n,t,i):n}(e,!0===i?[{start:a,end:l,loop:o}]:function Ly(e,n,t,i){const s=e.length,o=[];let c,a=n,l=e[n];for(c=n+1;c<=t;++c){const d=e[c%s];d.skip||d.stop?l.skip||(o.push({start:n%s,end:(c-1)%s,loop:i=!1}),n=a=d.stop?c:null):(a=c,l.skip&&(n=c)),l=d}return null!==a&&o.push({start:n%s,end:a%s,loop:i}),o}(t,a,l<a?l+s:l,!!e._fullLoop&&0===a&&l===s-1),t,n)}(this,this.options.segment))}first(){const t=this.segments;return t.length&&this.points[t[0].start]}last(){const t=this.segments,s=t.length;return s&&this.points[t[s-1].end]}interpolate(t,i){const s=this.options,o=t[i],a=this.points,l=Hd(this,{property:i,start:o,end:o});if(!l.length)return;const c=[],d=function Fw(e){return e.stepped?ky:e.tension||"monotone"===e.cubicInterpolationMode?Oy:yn}(s);let u,m;for(u=0,m=l.length;u<m;++u){const{start:v,end:N}=l[u],E=a[v],k=a[N];if(E===k){c.push(E);continue}const V=d(E,k,Math.abs((o-E[i])/(k[i]-E[i])),s.stepped);V[i]=t[i],c.push(V)}return 1===c.length?c[0]:c}pathSegment(t,i,s){return Kr(this)(t,this,i,s)}path(t,i,s){const o=this.segments,a=Kr(this);let l=this._loop;i=i||0,s=s||this.points.length-i;for(const c of o)l&=a(t,this,c,{start:i,end:i+s-1});return!!l}draw(t,i,s,o){(this.points||[]).length&&(this.options||{}).borderWidth&&(t.save(),function Hw(e,n,t,i){Gw&&!n.options.segment?function Lw(e,n,t,i){let s=n._path;s||(s=n._path=new Path2D,n.path(s,t,i)&&s.closePath()),Pu(e,n.options),e.stroke(s)}(e,n,t,i):function Bw(e,n,t,i){const{segments:s,options:o}=n,a=Kr(n);for(const l of s)Pu(e,o,l.style),e.beginPath(),a(e,n,l,{start:t,end:t+i-1})&&e.closePath(),e.stroke()}(e,n,t,i)}(t,this,s,o),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return e.id="line",e.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},e.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},e.descriptors={_scriptable:!0,_indexable:n=>"borderDash"!==n&&"fill"!==n},e})();function Fu(e,n,t,i){const s=e.options,{[t]:o}=e.getProps([t],i);return Math.abs(n-o)<s.radius+s.hitRadius}let Lu=(()=>{class e extends qt{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,s){const o=this.options,{x:a,y:l}=this.getProps(["x","y"],s);return Math.pow(t-a,2)+Math.pow(i-l,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(t,i){return Fu(this,t,"x",i)}inYRange(t,i){return Fu(this,t,"y",i)}getCenterPoint(t){const{x:i,y:s}=this.getProps(["x","y"],t);return{x:i,y:s}}size(t){let i=(t=t||this.options||{}).radius||0;return i=Math.max(i,i&&t.hoverRadius||0),2*(i+(i&&t.borderWidth||0))}draw(t,i){const s=this.options;this.skip||s.radius<.1||!Ri(this,i,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,Pi(t,s,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}return e.id="point",e.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},e.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},e})();function Bu(e,n){const{x:t,y:i,base:s,width:o,height:a}=e.getProps(["x","y","base","width","height"],n);let l,c,d,u,m;return e.horizontal?(m=a/2,l=Math.min(t,s),c=Math.max(t,s),d=i-m,u=i+m):(m=o/2,l=t-m,c=t+m,d=Math.min(i,s),u=Math.max(i,s)),{left:l,top:d,right:c,bottom:u}}function tn(e,n,t,i){return e?0:Kt(n,t,i)}function qr(e,n,t,i){const s=null===n,o=null===t,l=e&&!(s&&o)&&Bu(e,i);return l&&(s||Re(n,l.left,l.right))&&(o||Re(t,l.top,l.bottom))}function Ww(e,n){e.rect(n.x,n.y,n.w,n.h)}function ta(e,n,t={}){const i=e.x!==t.x?-n:0,s=e.y!==t.y?-n:0;return{x:e.x+i,y:e.y+s,w:e.w+((e.x+e.w!==t.x+t.w?n:0)-i),h:e.h+((e.y+e.h!==t.y+t.h?n:0)-s),radius:e.radius}}class Ji extends qt{constructor(n){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,n&&Object.assign(this,n)}draw(n){const{inflateAmount:t,options:{borderColor:i,backgroundColor:s}}=this,{inner:o,outer:a}=function zw(e){const n=Bu(e),t=n.right-n.left,i=n.bottom-n.top,s=function Vw(e,n,t){const s=e.borderSkipped,o=vd(e.options.borderWidth);return{t:tn(s.top,o.top,0,t),r:tn(s.right,o.right,0,n),b:tn(s.bottom,o.bottom,0,t),l:tn(s.left,o.left,0,n)}}(e,t/2,i/2),o=function jw(e,n,t){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,o=Qe(s),a=Math.min(n,t),l=e.borderSkipped,c=i||Tt(s);return{topLeft:tn(!c||l.top||l.left,o.topLeft,0,a),topRight:tn(!c||l.top||l.right,o.topRight,0,a),bottomLeft:tn(!c||l.bottom||l.left,o.bottomLeft,0,a),bottomRight:tn(!c||l.bottom||l.right,o.bottomRight,0,a)}}(e,t/2,i/2);return{outer:{x:n.left,y:n.top,w:t,h:i,radius:o},inner:{x:n.left+s.l,y:n.top+s.t,w:t-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,o.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(s.b,s.r))}}}}(this),l=function Uw(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}(a.radius)?Vn:Ww;n.save(),(a.w!==o.w||a.h!==o.h)&&(n.beginPath(),l(n,ta(a,t,o)),n.clip(),l(n,ta(o,-t,a)),n.fillStyle=i,n.fill("evenodd")),n.beginPath(),l(n,ta(o,t)),n.fillStyle=s,n.fill(),n.restore()}inRange(n,t,i){return qr(this,n,t,i)}inXRange(n,t){return qr(this,n,null,t)}inYRange(n,t){return qr(this,null,n,t)}getCenterPoint(n){const{x:t,y:i,base:s,horizontal:o}=this.getProps(["x","y","base","horizontal"],n);return{x:o?(t+s)/2:t,y:o?i:(i+s)/2}}getRange(n){return"x"===n?this.width/2:this.height/2}}function ea(e,n,t,i){if(i)return;let s=n[e],o=t[e];return"angle"===e&&(s=fe(s),o=fe(o)),{property:e,start:s,end:o}}function na(e,n,t){for(;n>e;n--){const i=t[n];if(!isNaN(i.x)&&!isNaN(i.y))break}return n}function Vu(e,n,t,i){return e&&n?i(e[t],n[t]):e?e[t]:n?n[t]:0}function ju(e,n){let t=[],i=!1;return Ot(e)?(i=!0,t=e):t=function Kw(e,n){const{x:t=null,y:i=null}=e||{},s=n.points,o=[];return n.segments.forEach(({start:a,end:l})=>{l=na(a,l,s);const c=s[a],d=s[l];null!==i?(o.push({x:c.x,y:i}),o.push({x:d.x,y:i})):null!==t&&(o.push({x:t,y:c.y}),o.push({x:t,y:d.y}))}),o}(e,n),t.length?new Xi({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function qw(e,n,t){let s=e[n].fill;const o=[n];let a;if(!t)return s;for(;!1!==s&&-1===o.indexOf(s);){if(!Gt(s))return s;if(a=e[s],!a)return!1;if(a.visible)return s;o.push(s),s=a.fill}return!1}function tS(e,n,t){const i=function sS(e){const n=e.options,t=n.fill;let i=yt(t&&t.target,t);return void 0===i&&(i=!!n.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(e);if(Tt(i))return!isNaN(i.value)&&i;let s=parseFloat(i);return Gt(s)&&Math.floor(s)===s?function eS(e,n,t,i){return("-"===e||"+"===e)&&(t=n+t),!(t===n||t<0||t>=i)&&t}(i[0],n,s,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function aS(e,n,t){const i=[];for(let s=0;s<t.length;s++){const o=t[s],{first:a,last:l,point:c}=lS(o,n,"x");if(!(!c||a&&l))if(a)i.unshift(c);else if(e.push(c),!l)break}e.push(...i)}function lS(e,n,t){const i=e.interpolate(n,t);if(!i)return{};const s=i[t],o=e.segments,a=e.points;let l=!1,c=!1;for(let d=0;d<o.length;d++){const u=o[d],m=a[u.start][t],v=a[u.end][t];if(Re(s,m,v)){l=s===m,c=s===v;break}}return{first:l,last:c,point:i}}Ji.id="bar",Ji.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},Ji.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class zu{constructor(n){this.x=n.x,this.y=n.y,this.radius=n.radius}pathSegment(n,t,i){const{x:s,y:o,radius:a}=this;return n.arc(s,o,a,(t=t||{start:0,end:Pt}).end,t.start,!0),!i.bounds}interpolate(n){const{x:t,y:i,radius:s}=this,o=n.angle;return{x:t+Math.cos(o)*s,y:i+Math.sin(o)*s,angle:o}}}function ia(e,n,t){const i=function cS(e){const{chart:n,fill:t,line:i}=e;if(Gt(t))return function dS(e,n){const t=e.getDatasetMeta(n);return t&&e.isDatasetVisible(n)?t.dataset:null}(n,t);if("stack"===t)return function oS(e){const{scale:n,index:t,line:i}=e,s=[],o=i.segments,a=i.points,l=function rS(e,n){const t=[],i=e.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const o=i[s];if(o.index===n)break;o.hidden||t.unshift(o.dataset)}return t}(n,t);l.push(ju({x:null,y:n.bottom},i));for(let c=0;c<o.length;c++){const d=o[c];for(let u=d.start;u<=d.end;u++)aS(s,a[u],l)}return new Xi({points:s,options:{}})}(e);if("shape"===t)return!0;const s=function uS(e){return(e.scale||{}).getPointPositionForValue?function fS(e){const{scale:n,fill:t}=e,i=n.options,s=n.getLabels().length,o=i.reverse?n.max:n.min,a=function iS(e,n,t){let i;return i="start"===e?t:"end"===e?n.options.reverse?n.min:n.max:Tt(e)?e.value:n.getBaseValue(),i}(t,n,o),l=[];if(i.grid.circular){const c=n.getPointPositionForValue(0,o);return new zu({x:c.x,y:c.y,radius:n.getDistanceFromCenterForValue(a)})}for(let c=0;c<s;++c)l.push(n.getPointPositionForValue(c,a));return l}(e):function hS(e){const{scale:n={},fill:t}=e,i=function nS(e,n){let t=null;return"start"===e?t=n.bottom:"end"===e?t=n.top:Tt(e)?t=n.getPixelForValue(e.value):n.getBasePixel&&(t=n.getBasePixel()),t}(t,n);if(Gt(i)){const s=n.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}(e)}(e);return s instanceof zu?s:ju(s,i)}(n),{line:s,scale:o,axis:a}=n,l=s.options,c=l.fill,d=l.backgroundColor,{above:u=d,below:m=d}=c||{};i&&s.points.length&&(Fi(e,t),function gS(e,n){const{line:t,target:i,above:s,below:o,area:a,scale:l}=n,c=t._loop?"angle":n.axis;e.save(),"x"===c&&o!==s&&(Uu(e,i,a.top),Wu(e,{line:t,target:i,color:s,scale:l,property:c}),e.restore(),e.save(),Uu(e,i,a.bottom)),Wu(e,{line:t,target:i,color:o,scale:l,property:c}),e.restore()}(e,{line:s,target:i,above:u,below:m,area:t,scale:o,axis:a}),Li(e))}function Uu(e,n,t){const{segments:i,points:s}=n;let o=!0,a=!1;e.beginPath();for(const l of i){const{start:c,end:d}=l,u=s[c],m=s[na(c,d,s)];o?(e.moveTo(u.x,u.y),o=!1):(e.lineTo(u.x,t),e.lineTo(u.x,u.y)),a=!!n.pathSegment(e,l,{move:a}),a?e.closePath():e.lineTo(m.x,t)}e.lineTo(n.first().x,t),e.closePath(),e.clip()}function Wu(e,n){const{line:t,target:i,property:s,color:o,scale:a}=n,l=function Qw(e,n,t){const i=e.segments,s=e.points,o=n.points,a=[];for(const l of i){let{start:c,end:d}=l;d=na(c,d,s);const u=ea(t,s[c],s[d],l.loop);if(!n.segments){a.push({source:l,target:u,start:s[c],end:s[d]});continue}const m=Hd(n,u);for(const v of m){const N=ea(t,o[v.start],o[v.end],v.loop),E=Gd(l,s,N);for(const k of E)a.push({source:k,target:v,start:{[t]:Vu(u,N,"start",Math.max)},end:{[t]:Vu(u,N,"end",Math.min)}})}}return a}(t,i,s);for(const{source:c,target:d,start:u,end:m}of l){const{style:{backgroundColor:v=o}={}}=c,N=!0!==i;e.save(),e.fillStyle=v,pS(e,a,N&&ea(s,u,m)),e.beginPath();const E=!!t.pathSegment(e,c);let k;if(N){E?e.closePath():$u(e,i,m,s);const P=!!i.pathSegment(e,d,{move:E,reverse:!0});k=E&&P,k||$u(e,i,u,s)}e.closePath(),e.fill(k?"evenodd":"nonzero"),e.restore()}}function pS(e,n,t){const{top:i,bottom:s}=n.chart.chartArea,{property:o,start:a,end:l}=t||{};"x"===o&&(e.beginPath(),e.rect(a,i,l-a,s-i),e.clip())}function $u(e,n,t,i){const s=n.interpolate(t,i);s&&e.lineTo(s.x,s.y)}var Yu={id:"filler",afterDatasetsUpdate(e,n,t){const i=(e.data.datasets||[]).length,s=[];let o,a,l,c;for(a=0;a<i;++a)o=e.getDatasetMeta(a),l=o.dataset,c=null,l&&l.options&&l instanceof Xi&&(c={visible:e.isDatasetVisible(a),index:a,fill:tS(l,a,i),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:l}),o.$filler=c,s.push(c);for(a=0;a<i;++a)c=s[a],c&&!1!==c.fill&&(c.fill=qw(s,a,t.propagate))},beforeDraw(e,n,t){const i="beforeDraw"===t.drawTime,s=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let a=s.length-1;a>=0;--a){const l=s[a].$filler;!l||(l.line.updateControlPoints(o,l.axis),i&&ia(e.ctx,l,o))}},beforeDatasetsDraw(e,n,t){if("beforeDatasetsDraw"!==t.drawTime)return;const i=e.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const o=i[s].$filler;o&&ia(e.ctx,o,e.chartArea)}},beforeDatasetDraw(e,n,t){const i=n.meta.$filler;!i||!1===i.fill||"beforeDatasetDraw"!==t.drawTime||ia(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Zu=(e,n)=>{let{boxHeight:t=n,boxWidth:i=n}=e;return e.usePointStyle&&(t=Math.min(t,n),i=Math.min(i,n)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(n,t)}};class Xu extends qt{constructor(n){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,t,i){this.maxWidth=n,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const n=this.options.labels||{};let t=It(n.generateLabels,[this.chart],this)||[];n.filter&&(t=t.filter(i=>n.filter(i,this.chart.data))),n.sort&&(t=t.sort((i,s)=>n.sort(i,s,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:n,ctx:t}=this;if(!n.display)return void(this.width=this.height=0);const i=n.labels,s=jt(i.font),o=s.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=Zu(i,o);let d,u;t.font=s.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(a,o,l,c)+10):(u=this.maxHeight,d=this._fitCols(a,o,l,c)+10),this.width=Math.min(d,n.maxWidth||this.maxWidth),this.height=Math.min(u,n.maxHeight||this.maxHeight)}_fitRows(n,t,i,s){const{ctx:o,maxWidth:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=s+l;let m=n;o.textAlign="left",o.textBaseline="middle";let v=-1,N=-u;return this.legendItems.forEach((E,k)=>{const P=i+t/2+o.measureText(E.text).width;(0===k||d[d.length-1]+P+2*l>a)&&(m+=u,d[d.length-(k>0?0:1)]=0,N+=u,v++),c[k]={left:0,top:N,row:v,width:P,height:s},d[d.length-1]+=P+l}),m}_fitCols(n,t,i,s){const{ctx:o,maxHeight:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=a-n;let m=l,v=0,N=0,E=0,k=0;return this.legendItems.forEach((P,V)=>{const Z=i+t/2+o.measureText(P.text).width;V>0&&N+s+2*l>u&&(m+=v+l,d.push({width:v,height:N}),E+=v+l,k++,v=N=0),c[V]={left:E,top:N,col:k,width:Z,height:s},v=Math.max(v,Z),N+=s+l}),m+=v,d.push({width:v,height:N}),m}adjustHitBoxes(){if(!this.options.display)return;const n=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:s},rtl:o}}=this,a=Un(o,this.left,this.width);if(this.isHorizontal()){let l=0,c=ee(i,this.left+s,this.right-this.lineWidths[l]);for(const d of t)l!==d.row&&(l=d.row,c=ee(i,this.left+s,this.right-this.lineWidths[l])),d.top+=this.top+n+s,d.left=a.leftForLtr(a.x(c),d.width),c+=d.width+s}else{let l=0,c=ee(i,this.top+n+s,this.bottom-this.columnSizes[l].height);for(const d of t)d.col!==l&&(l=d.col,c=ee(i,this.top+n+s,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+s,d.left=a.leftForLtr(a.x(d.left),d.width),c+=d.height+s}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const n=this.ctx;Fi(n,this),this._draw(),Li(n)}}_draw(){const{options:n,columnSizes:t,lineWidths:i,ctx:s}=this,{align:o,labels:a}=n,l=Ct.color,c=Un(n.rtl,this.left,this.width),d=jt(a.font),{color:u,padding:m}=a,v=d.size,N=v/2;let E;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=d.string;const{boxWidth:k,boxHeight:P,itemHeight:V}=Zu(a,v),st=this.isHorizontal(),et=this._computeTitleHeight();E=st?{x:ee(o,this.left+m,this.right-i[0]),y:this.top+m+et,line:0}:{x:this.left+m,y:ee(o,this.top+et+m,this.bottom-t[0].height),line:0},Rd(this.ctx,n.textDirection);const ht=V+m;this.legendItems.forEach((ut,gt)=>{s.strokeStyle=ut.fontColor||u,s.fillStyle=ut.fontColor||u;const mt=s.measureText(ut.text).width,Dt=c.textAlign(ut.textAlign||(ut.textAlign=a.textAlign)),wt=k+N+mt;let xt=E.x,Vt=E.y;c.setWidth(this.width),st?gt>0&&xt+wt+m>this.right&&(Vt=E.y+=ht,E.line++,xt=E.x=ee(o,this.left+m,this.right-i[E.line])):gt>0&&Vt+ht>this.bottom&&(xt=E.x=xt+t[E.line].width+m,E.line++,Vt=E.y=ee(o,this.top+et+m,this.bottom-t[E.line].height)),function(ut,gt,mt){if(isNaN(k)||k<=0||isNaN(P)||P<0)return;s.save();const Dt=yt(mt.lineWidth,1);if(s.fillStyle=yt(mt.fillStyle,l),s.lineCap=yt(mt.lineCap,"butt"),s.lineDashOffset=yt(mt.lineDashOffset,0),s.lineJoin=yt(mt.lineJoin,"miter"),s.lineWidth=Dt,s.strokeStyle=yt(mt.strokeStyle,l),s.setLineDash(yt(mt.lineDash,[])),a.usePointStyle){const wt={radius:k*Math.SQRT2/2,pointStyle:mt.pointStyle,rotation:mt.rotation,borderWidth:Dt},xt=c.xPlus(ut,k/2);Pi(s,wt,xt,gt+N)}else{const wt=gt+Math.max((v-P)/2,0),xt=c.leftForLtr(ut,k),Vt=Qe(mt.borderRadius);s.beginPath(),Object.values(Vt).some(Xt=>0!==Xt)?Vn(s,{x:xt,y:wt,w:k,h:P,radius:Vt}):s.rect(xt,wt,k,P),s.fill(),0!==Dt&&s.stroke()}s.restore()}(c.x(xt),Vt,ut),xt=((e,n,t,i)=>e===(i?"left":"right")?t:"center"===e?(n+t)/2:n)(Dt,xt+k+N,st?xt+wt:this.right,n.rtl),function(ut,gt,mt){_n(s,mt.text,ut,gt+V/2,d,{strikethrough:mt.hidden,textAlign:c.textAlign(mt.textAlign)})}(c.x(xt),Vt,ut),st?E.x+=wt+m:E.y+=ht}),Fd(this.ctx,n.textDirection)}drawTitle(){const n=this.options,t=n.title,i=jt(t.font),s=Zt(t.padding);if(!t.display)return;const o=Un(n.rtl,this.left,this.width),a=this.ctx,l=t.position,d=s.top+i.size/2;let u,m=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),u=this.top+d,m=ee(n.align,m,this.right-v);else{const E=this.columnSizes.reduce((k,P)=>Math.max(k,P.height),0);u=d+ee(n.align,this.top,this.bottom-E-n.labels.padding-this._computeTitleHeight())}const N=ee(l,m,m+v);a.textAlign=o.textAlign(wr(l)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=i.string,_n(a,t.text,N,u,i)}_computeTitleHeight(){const n=this.options.title,t=jt(n.font),i=Zt(n.padding);return n.display?t.lineHeight+i.height:0}_getLegendItemAt(n,t){let i,s,o;if(Re(n,this.left,this.right)&&Re(t,this.top,this.bottom))for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(s=o[i],Re(n,s.left,s.left+s.width)&&Re(t,s.top,s.top+s.height))return this.legendItems[i];return null}handleEvent(n){const t=this.options;if(!function _S(e,n){return!(("mousemove"!==e&&"mouseout"!==e||!n.onHover&&!n.onLeave)&&(!n.onClick||"click"!==e&&"mouseup"!==e))}(n.type,t))return;const i=this._getLegendItemAt(n.x,n.y);if("mousemove"===n.type||"mouseout"===n.type){const s=this._hoveredItem,o=((e,n)=>null!==e&&null!==n&&e.datasetIndex===n.datasetIndex&&e.index===n.index)(s,i);s&&!o&&It(t.onLeave,[n,s,this],this),this._hoveredItem=i,i&&!o&&It(t.onHover,[n,i,this],this)}else i&&It(t.onClick,[n,i,this],this)}}var Ju={id:"legend",_element:Xu,start(e,n,t){const i=e.legend=new Xu({ctx:e.ctx,options:t,chart:e});ne.configure(e,i,t),ne.addBox(e,i)},stop(e){ne.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,n,t){const i=e.legend;ne.configure(e,i,t),i.options=t},afterUpdate(e){const n=e.legend;n.buildLabels(),n.adjustHitBoxes()},afterEvent(e,n){n.replay||e.legend.handleEvent(n.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,n,t){const i=n.datasetIndex,s=t.chart;s.isDatasetVisible(i)?(s.hide(i),n.hidden=!0):(s.show(i),n.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const n=e.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:s,color:o}}=e.legend.options;return e._getSortedDatasetMetas().map(a=>{const l=a.controller.getStyle(t?0:void 0),c=Zt(l.borderWidth);return{text:n[a.index].label,fillStyle:l.backgroundColor,fontColor:o,hidden:!a.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:s||l.textAlign,borderRadius:0,datasetIndex:a.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class sa extends qt{constructor(n){super(),this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,t){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=n,this.height=this.bottom=t;const s=Ot(i.text)?i.text.length:1;this._padding=Zt(i.padding);const o=s*jt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const n=this.options.position;return"top"===n||"bottom"===n}_drawArgs(n){const{top:t,left:i,bottom:s,right:o,options:a}=this,l=a.align;let d,u,m,c=0;return this.isHorizontal()?(u=ee(l,i,o),m=t+n,d=o-i):("left"===a.position?(u=i+n,m=ee(l,s,t),c=-.5*kt):(u=o-n,m=ee(l,t,s),c=.5*kt),d=s-t),{titleX:u,titleY:m,maxWidth:d,rotation:c}}draw(){const n=this.ctx,t=this.options;if(!t.display)return;const i=jt(t.font),o=i.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:c,rotation:d}=this._drawArgs(o);_n(n,t.text,0,0,i,{color:t.color,maxWidth:c,rotation:d,textAlign:wr(t.align),textBaseline:"middle",translation:[a,l]})}}var Qu={id:"title",_element:sa,start(e,n,t){!function bS(e,n){const t=new sa({ctx:e.ctx,options:n,chart:e});ne.configure(e,t,n),ne.addBox(e,t),e.titleBlock=t}(e,t)},stop(e){ne.removeBox(e,e.titleBlock),delete e.titleBlock},beforeUpdate(e,n,t){const i=e.titleBlock;ne.configure(e,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Qi={average(e){if(!e.length)return!1;let n,t,i=0,s=0,o=0;for(n=0,t=e.length;n<t;++n){const a=e[n].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i+=l.x,s+=l.y,++o}}return{x:i/o,y:s/o}},nearest(e,n){if(!e.length)return!1;let o,a,l,t=n.x,i=n.y,s=Number.POSITIVE_INFINITY;for(o=0,a=e.length;o<a;++o){const c=e[o].element;if(c&&c.hasValue()){const u=Mi(n,c.getCenterPoint());u<s&&(s=u,l=c)}}if(l){const c=l.tooltipPosition();t=c.x,i=c.y}return{x:t,y:i}}};function Ce(e,n){return n&&(Ot(n)?Array.prototype.push.apply(e,n):e.push(n)),e}function Ve(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function yS(e,n){const{element:t,datasetIndex:i,index:s}=n,o=e.getDatasetMeta(i).controller,{label:a,value:l}=o.getLabelAndValue(s);return{chart:e,label:a,parsed:o.getParsed(s),raw:e.data.datasets[i].data[s],formattedValue:l,dataset:o.getDataset(),dataIndex:s,datasetIndex:i,element:t}}function Ku(e,n){const t=e.chart.ctx,{body:i,footer:s,title:o}=e,{boxWidth:a,boxHeight:l}=n,c=jt(n.bodyFont),d=jt(n.titleFont),u=jt(n.footerFont),m=o.length,v=s.length,N=i.length,E=Zt(n.padding);let k=E.height,P=0,V=i.reduce((st,et)=>st+et.before.length+et.lines.length+et.after.length,0);V+=e.beforeBody.length+e.afterBody.length,m&&(k+=m*d.lineHeight+(m-1)*n.titleSpacing+n.titleMarginBottom),V&&(k+=N*(n.displayColors?Math.max(l,c.lineHeight):c.lineHeight)+(V-N)*c.lineHeight+(V-1)*n.bodySpacing),v&&(k+=n.footerMarginTop+v*u.lineHeight+(v-1)*n.footerSpacing);let Z=0;const q=function(st){P=Math.max(P,t.measureText(st).width+Z)};return t.save(),t.font=d.string,At(e.title,q),t.font=c.string,At(e.beforeBody.concat(e.afterBody),q),Z=n.displayColors?a+2+n.boxPadding:0,At(i,st=>{At(st.before,q),At(st.lines,q),At(st.after,q)}),Z=0,t.font=u.string,At(e.footer,q),t.restore(),P+=E.width,{width:P,height:k}}function SS(e,n,t,i){const{x:s,width:o}=t,{width:a,chartArea:{left:l,right:c}}=e;let d="center";return"center"===i?d=s<=(l+c)/2?"left":"right":s<=o/2?d="left":s>=a-o/2&&(d="right"),function wS(e,n,t,i){const{x:s,width:o}=i,a=t.caretSize+t.caretPadding;if("left"===e&&s+o+a>n.width||"right"===e&&s-o-a<0)return!0}(d,e,n,t)&&(d="center"),d}function qu(e,n,t){const i=t.yAlign||n.yAlign||function xS(e,n){const{y:t,height:i}=n;return t<i/2?"top":t>e.height-i/2?"bottom":"center"}(e,t);return{xAlign:t.xAlign||n.xAlign||SS(e,n,t,i),yAlign:i}}function th(e,n,t,i){const{caretSize:s,caretPadding:o,cornerRadius:a}=e,{xAlign:l,yAlign:c}=t,d=s+o,{topLeft:u,topRight:m,bottomLeft:v,bottomRight:N}=Qe(a);let E=function DS(e,n){let{x:t,width:i}=e;return"right"===n?t-=i:"center"===n&&(t-=i/2),t}(n,l);const k=function NS(e,n,t){let{y:i,height:s}=e;return"top"===n?i+=t:i-="bottom"===n?s+t:s/2,i}(n,c,d);return"center"===c?"left"===l?E+=d:"right"===l&&(E-=d):"left"===l?E-=Math.max(u,v)+s:"right"===l&&(E+=Math.max(m,N)+s),{x:Kt(E,0,i.width-n.width),y:Kt(k,0,i.height-n.height)}}function co(e,n,t){const i=Zt(t.padding);return"center"===n?e.x+e.width/2:"right"===n?e.x+e.width-i.right:e.x+i.left}function eh(e){return Ce([],Ve(e))}function nh(e,n){const t=n&&n.dataset&&n.dataset.tooltip&&n.dataset.tooltip.callbacks;return t?e.override(t):e}let ih=(()=>{class e extends qt{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart||t._chart,this._chart=this.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const i=this.chart,s=this.options.setContext(this.getContext()),o=s.enabled&&i.options.animation&&s.animations,a=new Hr(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=function TS(e,n,t){return Ke(e,{tooltip:n,tooltipItems:t,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,i){const{callbacks:s}=i,o=s.beforeTitle.apply(this,[t]),a=s.title.apply(this,[t]),l=s.afterTitle.apply(this,[t]);let c=[];return c=Ce(c,Ve(o)),c=Ce(c,Ve(a)),c=Ce(c,Ve(l)),c}getBeforeBody(t,i){return eh(i.callbacks.beforeBody.apply(this,[t]))}getBody(t,i){const{callbacks:s}=i,o=[];return At(t,a=>{const l={before:[],lines:[],after:[]},c=nh(s,a);Ce(l.before,Ve(c.beforeLabel.call(this,a))),Ce(l.lines,c.label.call(this,a)),Ce(l.after,Ve(c.afterLabel.call(this,a))),o.push(l)}),o}getAfterBody(t,i){return eh(i.callbacks.afterBody.apply(this,[t]))}getFooter(t,i){const{callbacks:s}=i,o=s.beforeFooter.apply(this,[t]),a=s.footer.apply(this,[t]),l=s.afterFooter.apply(this,[t]);let c=[];return c=Ce(c,Ve(o)),c=Ce(c,Ve(a)),c=Ce(c,Ve(l)),c}_createItems(t){const i=this._active,s=this.chart.data,o=[],a=[],l=[];let d,u,c=[];for(d=0,u=i.length;d<u;++d)c.push(yS(this.chart,i[d]));return t.filter&&(c=c.filter((m,v,N)=>t.filter(m,v,N,s))),t.itemSort&&(c=c.sort((m,v)=>t.itemSort(m,v,s))),At(c,m=>{const v=nh(t.callbacks,m);o.push(v.labelColor.call(this,m)),a.push(v.labelPointStyle.call(this,m)),l.push(v.labelTextColor.call(this,m))}),this.labelColors=o,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=c,c}update(t,i){const s=this.options.setContext(this.getContext()),o=this._active;let a,l=[];if(o.length){const c=Qi[s.position].call(this,o,this._eventPosition);l=this._createItems(s),this.title=this.getTitle(l,s),this.beforeBody=this.getBeforeBody(l,s),this.body=this.getBody(l,s),this.afterBody=this.getAfterBody(l,s),this.footer=this.getFooter(l,s);const d=this._size=Ku(this,s),u=Object.assign({},c,d),m=qu(this.chart,s,u),v=th(s,u,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,a={opacity:1,x:v.x,y:v.y,width:d.width,height:d.height,caretX:c.x,caretY:c.y}}else 0!==this.opacity&&(a={opacity:0});this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(t,i,s,o){const a=this.getCaretPosition(t,s,o);i.lineTo(a.x1,a.y1),i.lineTo(a.x2,a.y2),i.lineTo(a.x3,a.y3)}getCaretPosition(t,i,s){const{xAlign:o,yAlign:a}=this,{caretSize:l,cornerRadius:c}=s,{topLeft:d,topRight:u,bottomLeft:m,bottomRight:v}=Qe(c),{x:N,y:E}=t,{width:k,height:P}=i;let V,Z,q,st,et,ht;return"center"===a?(et=E+P/2,"left"===o?(V=N,Z=V-l,st=et+l,ht=et-l):(V=N+k,Z=V+l,st=et-l,ht=et+l),q=V):(Z="left"===o?N+Math.max(d,m)+l:"right"===o?N+k-Math.max(u,v)-l:this.caretX,"top"===a?(st=E,et=st-l,V=Z-l,q=Z+l):(st=E+P,et=st+l,V=Z+l,q=Z-l),ht=st),{x1:V,x2:Z,x3:q,y1:st,y2:et,y3:ht}}drawTitle(t,i,s){const o=this.title,a=o.length;let l,c,d;if(a){const u=Un(s.rtl,this.x,this.width);for(t.x=co(this,s.titleAlign,s),i.textAlign=u.textAlign(s.titleAlign),i.textBaseline="middle",l=jt(s.titleFont),c=s.titleSpacing,i.fillStyle=s.titleColor,i.font=l.string,d=0;d<a;++d)i.fillText(o[d],u.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+c,d+1===a&&(t.y+=s.titleMarginBottom-c)}}_drawColorBox(t,i,s,o,a){const l=this.labelColors[s],c=this.labelPointStyles[s],{boxHeight:d,boxWidth:u,boxPadding:m}=a,v=jt(a.bodyFont),N=co(this,"left",a),E=o.x(N),P=i.y+(d<v.lineHeight?(v.lineHeight-d)/2:0);if(a.usePointStyle){const V={radius:Math.min(u,d)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},Z=o.leftForLtr(E,u)+u/2,q=P+d/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,Pi(t,V,Z,q),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,Pi(t,V,Z,q)}else{t.lineWidth=l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const V=o.leftForLtr(E,u-m),Z=o.leftForLtr(o.xPlus(E,1),u-m-2),q=Qe(l.borderRadius);Object.values(q).some(st=>0!==st)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,Vn(t,{x:V,y:P,w:u,h:d,radius:q}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Vn(t,{x:Z,y:P+1,w:u-2,h:d-2,radius:q}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(V,P,u,d),t.strokeRect(V,P,u,d),t.fillStyle=l.backgroundColor,t.fillRect(Z,P+1,u-2,d-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,i,s){const{body:o}=this,{bodySpacing:a,bodyAlign:l,displayColors:c,boxHeight:d,boxWidth:u,boxPadding:m}=s,v=jt(s.bodyFont);let N=v.lineHeight,E=0;const k=Un(s.rtl,this.x,this.width),P=function(mt){i.fillText(mt,k.x(t.x+E),t.y+N/2),t.y+=N+a},V=k.textAlign(l);let Z,q,st,et,ht,ut,gt;for(i.textAlign=l,i.textBaseline="middle",i.font=v.string,t.x=co(this,V,s),i.fillStyle=s.bodyColor,At(this.beforeBody,P),E=c&&"right"!==V?"center"===l?u/2+m:u+2+m:0,et=0,ut=o.length;et<ut;++et){for(Z=o[et],q=this.labelTextColors[et],i.fillStyle=q,At(Z.before,P),st=Z.lines,c&&st.length&&(this._drawColorBox(i,t,et,k,s),N=Math.max(v.lineHeight,d)),ht=0,gt=st.length;ht<gt;++ht)P(st[ht]),N=v.lineHeight;At(Z.after,P)}E=0,N=v.lineHeight,At(this.afterBody,P),t.y-=a}drawFooter(t,i,s){const o=this.footer,a=o.length;let l,c;if(a){const d=Un(s.rtl,this.x,this.width);for(t.x=co(this,s.footerAlign,s),t.y+=s.footerMarginTop,i.textAlign=d.textAlign(s.footerAlign),i.textBaseline="middle",l=jt(s.footerFont),i.fillStyle=s.footerColor,i.font=l.string,c=0;c<a;++c)i.fillText(o[c],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+s.footerSpacing}}drawBackground(t,i,s,o){const{xAlign:a,yAlign:l}=this,{x:c,y:d}=t,{width:u,height:m}=s,{topLeft:v,topRight:N,bottomLeft:E,bottomRight:k}=Qe(o.cornerRadius);i.fillStyle=o.backgroundColor,i.strokeStyle=o.borderColor,i.lineWidth=o.borderWidth,i.beginPath(),i.moveTo(c+v,d),"top"===l&&this.drawCaret(t,i,s,o),i.lineTo(c+u-N,d),i.quadraticCurveTo(c+u,d,c+u,d+N),"center"===l&&"right"===a&&this.drawCaret(t,i,s,o),i.lineTo(c+u,d+m-k),i.quadraticCurveTo(c+u,d+m,c+u-k,d+m),"bottom"===l&&this.drawCaret(t,i,s,o),i.lineTo(c+E,d+m),i.quadraticCurveTo(c,d+m,c,d+m-E),"center"===l&&"left"===a&&this.drawCaret(t,i,s,o),i.lineTo(c,d+v),i.quadraticCurveTo(c,d,c+v,d),i.closePath(),i.fill(),o.borderWidth>0&&i.stroke()}_updateAnimationTarget(t){const i=this.chart,s=this.$animations,o=s&&s.x,a=s&&s.y;if(o||a){const l=Qi[t.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=Ku(this,t),d=Object.assign({},l,this._size),u=qu(i,t,d),m=th(t,d,u,i);(o._to!==m.x||a._to!==m.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(t){const i=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(i);const o={width:this.width,height:this.height},a={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const l=Zt(i.padding);i.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(t.save(),t.globalAlpha=s,this.drawBackground(a,t,o,i),Rd(t,i.textDirection),a.y+=l.top,this.drawTitle(a,t,i),this.drawBody(a,t,i),this.drawFooter(a,t,i),Fd(t,i.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,i){const s=this._active,o=t.map(({datasetIndex:c,index:d})=>{const u=this.chart.getDatasetMeta(c);if(!u)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:u.data[d],index:d}}),a=!js(s,o),l=this._positionChanged(o,i);(a||l)&&(this._active=o,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,i,s=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,a=this._active||[],l=this._getActiveElements(t,a,i,s),c=this._positionChanged(l,t),d=i||!js(l,a)||c;return d&&(this._active=l,(o.enabled||o.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,i))),d}_getActiveElements(t,i,s,o){const a=this.options;if("mouseout"===t.type)return[];if(!o)return i;const l=this.chart.getElementsAtEventForMode(t,a.mode,a,s);return a.reverse&&l.reverse(),l}_positionChanged(t,i){const{caretX:s,caretY:o,options:a}=this,l=Qi[a.position].call(this,t,i);return!1!==l&&(s!==l.x||o!==l.y)}}return e.positioners=Qi,e})();var sh={id:"tooltip",_element:ih,positioners:Qi,afterInit(e,n,t){t&&(e.tooltip=new ih({chart:e,options:t}))},beforeUpdate(e,n,t){e.tooltip&&e.tooltip.initialize(t)},reset(e,n,t){e.tooltip&&e.tooltip.initialize(t)},afterDraw(e){const n=e.tooltip;if(n&&n._willRender()){const t={tooltip:n};if(!1===e.notifyPlugins("beforeTooltipDraw",t))return;n.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",t)}},afterEvent(e,n){e.tooltip&&e.tooltip.handleEvent(n.event,n.replay,n.inChartArea)&&(n.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,n)=>n.bodyFont.size,boxWidth:(e,n)=>n.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Pe,title(e){if(e.length>0){const n=e[0],t=n.chart.data.labels,i=t?t.length:0;if(this&&this.options&&"dataset"===this.options.mode)return n.dataset.label||"";if(n.label)return n.label;if(i>0&&n.dataIndex<i)return t[n.dataIndex]}return""},afterTitle:Pe,beforeBody:Pe,beforeLabel:Pe,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let n=e.dataset.label||"";n&&(n+=": ");const t=e.formattedValue;return Et(t)||(n+=t),n},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Pe,afterBody:Pe,beforeFooter:Pe,footer:Pe,afterFooter:Pe}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};class Ki extends wn{constructor(n){super(n),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(n){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:s,label:o}of t)i[s]===o&&i.splice(s,1);this._addedLabels=[]}super.init(n)}parse(n,t){if(Et(n))return null;const i=this.getLabels();return((e,n)=>null===e?null:Kt(Math.round(e),0,n))(t=isFinite(t)&&i[t]===n?t:function ES(e,n,t,i){const s=e.indexOf(n);return-1===s?((e,n,t,i)=>("string"==typeof n?(t=e.push(n)-1,i.unshift({index:t,label:n})):isNaN(n)&&(t=null),t))(e,n,t,i):s!==e.lastIndexOf(n)?t:s}(i,n,yt(t,n),this._addedLabels),i.length-1)}determineDataLimits(){const{minDefined:n,maxDefined:t}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);"ticks"===this.options.bounds&&(n||(i=0),t||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const n=this.min,t=this.max,i=this.options.offset,s=[];let o=this.getLabels();o=0===n&&t===o.length-1?o:o.slice(n,t+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=n;a<=t;a++)s.push({value:a});return s}getLabelForValue(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(n){return"number"!=typeof n&&(n=this.parse(n)),null===n?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getPixelForTick(n){const t=this.ticks;return n<0||n>t.length-1?null:this.getPixelForValue(t[n].value)}getValueForPixel(n){return Math.round(this._startValue+this.getDecimalForPixel(n)*this._valueRange)}getBasePixel(){return this.bottom}}function oh(e,n,{horizontal:t,minRotation:i}){const s=Qt(i),o=(t?Math.sin(s):Math.cos(s))||.001;return Math.min(n/o,.75*n*(""+e).length)}Ki.id="category",Ki.defaults={ticks:{callback:Ki.prototype.getLabelForValue}};class uo extends wn{constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(n,t){return Et(n)||("number"==typeof n||n instanceof Number)&&!isFinite(+n)?null:+n}handleTickRangeOptions(){const{beginAtZero:n}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:s,max:o}=this;const a=c=>s=t?s:c,l=c=>o=i?o:c;if(n){const c=Ne(s),d=Ne(o);c<0&&d<0?l(0):c>0&&d>0&&a(0)}if(s===o){let c=1;(o>=Number.MAX_SAFE_INTEGER||s<=Number.MIN_SAFE_INTEGER)&&(c=Math.abs(.05*o)),l(o+c),n||a(s-c)}this.min=s,this.max=o}getTickLimit(){const n=this.options.ticks;let s,{maxTicksLimit:t,stepSize:i}=n;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),t=t||11),t&&(s=Math.min(t,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const n=this.options,t=n.ticks;let i=this.getTickLimit();i=Math.max(2,i);const a=function OS(e,n){const t=[],{bounds:s,step:o,min:a,max:l,precision:c,count:d,maxTicks:u,maxDigits:m,includeBounds:v}=e,N=o||1,E=u-1,{min:k,max:P}=n,V=!Et(a),Z=!Et(l),q=!Et(d),st=(P-k)/(m+1);let ht,ut,gt,mt,et=nd((P-k)/E/N)*N;if(et<1e-14&&!V&&!Z)return[{value:k},{value:P}];mt=Math.ceil(P/et)-Math.floor(k/et),mt>E&&(et=nd(mt*et/E/N)*N),Et(c)||(ht=Math.pow(10,c),et=Math.ceil(et*ht)/ht),"ticks"===s?(ut=Math.floor(k/et)*et,gt=Math.ceil(P/et)*et):(ut=k,gt=P),V&&Z&&o&&function xv(e,n){const t=Math.round(e);return t-n<=e&&t+n>=e}((l-a)/o,et/1e3)?(mt=Math.round(Math.min((l-a)/et,u)),et=(l-a)/mt,ut=a,gt=l):q?(ut=V?a:ut,gt=Z?l:gt,mt=d-1,et=(gt-ut)/mt):(mt=(gt-ut)/et,mt=Ci(mt,Math.round(mt),et/1e3)?Math.round(mt):Math.ceil(mt));const Dt=Math.max(sd(et),sd(ut));ht=Math.pow(10,Et(c)?Dt:c),ut=Math.round(ut*ht)/ht,gt=Math.round(gt*ht)/ht;let wt=0;for(V&&(v&&ut!==a?(t.push({value:a}),ut<a&&wt++,Ci(Math.round((ut+wt*et)*ht)/ht,a,oh(a,st,e))&&wt++):ut<a&&wt++);wt<mt;++wt)t.push({value:Math.round((ut+wt*et)*ht)/ht});return Z&&v&&gt!==l?t.length&&Ci(t[t.length-1].value,l,oh(l,st,e))?t[t.length-1].value=l:t.push({value:l}):(!Z||gt===l)&&t.push({value:gt}),t}({maxTicks:i,bounds:n.bounds,min:n.min,max:n.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===n.bounds&&id(a,this,"value"),n.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const n=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&n.length){const s=(i-t)/Math.max(n.length-1,1)/2;t-=s,i+=s}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(n){return Gi(n,this.chart.options.locale,this.options.ticks.format)}}class ho extends uo{determineDataLimits(){const{min:n,max:t}=this.getMinMax(!0);this.min=Gt(n)?n:0,this.max=Gt(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const n=this.isHorizontal(),t=n?this.width:this.height,i=Qt(this.options.ticks.minRotation),s=(n?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/s))}getPixelForValue(n){return null===n?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getValueForPixel(n){return this._startValue+this.getDecimalForPixel(n)*this._valueRange}}function rh(e){return e/Math.pow(10,Math.floor(me(e)))==1}ho.id="linear",ho.defaults={ticks:{callback:io.formatters.numeric}};class oa extends wn{constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(n,t){const i=uo.prototype.parse.apply(this,[n,t]);if(0!==i)return Gt(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:n,max:t}=this.getMinMax(!0);this.min=Gt(n)?Math.max(0,n):null,this.max=Gt(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:n,maxDefined:t}=this.getUserBounds();let i=this.min,s=this.max;const o=c=>i=n?i:c,a=c=>s=t?s:c,l=(c,d)=>Math.pow(10,Math.floor(me(c))+d);i===s&&(i<=0?(o(1),a(10)):(o(l(i,-1)),a(l(s,1)))),i<=0&&o(l(s,-1)),s<=0&&a(l(i,1)),this._zero&&this.min!==this._suggestedMin&&i===l(this.min,0)&&o(l(i,-1)),this.min=i,this.max=s}buildTicks(){const n=this.options,i=function AS(e,n){const t=Math.floor(me(n.max)),i=Math.ceil(n.max/Math.pow(10,t)),s=[];let o=pe(e.min,Math.pow(10,Math.floor(me(n.min)))),a=Math.floor(me(o)),l=Math.floor(o/Math.pow(10,a)),c=a<0?Math.pow(10,Math.abs(a)):1;do{s.push({value:o,major:rh(o)}),++l,10===l&&(l=1,++a,c=a>=0?1:c),o=Math.round(l*Math.pow(10,a)*c)/c}while(a<t||a===t&&l<i);const d=pe(e.max,o);return s.push({value:d,major:rh(o)}),s}({min:this._userMin,max:this._userMax},this);return"ticks"===n.bounds&&id(i,this,"value"),n.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(n){return void 0===n?"0":Gi(n,this.chart.options.locale,this.options.ticks.format)}configure(){const n=this.min;super.configure(),this._startValue=me(n),this._valueRange=me(this.max)-me(n)}getPixelForValue(n){return(void 0===n||0===n)&&(n=this.min),null===n||isNaN(n)?NaN:this.getPixelForDecimal(n===this.min?0:(me(n)-this._startValue)/this._valueRange)}getValueForPixel(n){const t=this.getDecimalForPixel(n);return Math.pow(10,this._startValue+t*this._valueRange)}}function ra(e){const n=e.ticks;if(n.display&&e.display){const t=Zt(n.backdropPadding);return yt(n.font&&n.font.size,Ct.font.size)+t.height}return 0}function IS(e,n,t){return t=Ot(t)?t:[t],{w:Zv(e,n.string,t),h:t.length*n.lineHeight}}function ah(e,n,t,i,s){return e===i||e===s?{start:n-t/2,end:n+t/2}:e<i||e>s?{start:n-t,end:n}:{start:n,end:n+t}}function RS(e,n,t,i,s){const o=Math.abs(Math.sin(t)),a=Math.abs(Math.cos(t));let l=0,c=0;i.start<n.l?(l=(n.l-i.start)/o,e.l=Math.min(e.l,n.l-l)):i.end>n.r&&(l=(i.end-n.r)/o,e.r=Math.max(e.r,n.r+l)),s.start<n.t?(c=(n.t-s.start)/a,e.t=Math.min(e.t,n.t-c)):s.end>n.b&&(c=(s.end-n.b)/a,e.b=Math.max(e.b,n.b+c))}function LS(e){return 0===e||180===e?"center":e<180?"left":"right"}function BS(e,n,t){return"right"===t?e-=n:"center"===t&&(e-=n/2),e}function GS(e,n,t){return 90===t||270===t?e-=n/2:(t>270||t<90)&&(e-=n),e}function lh(e,n,t,i){const{ctx:s}=e;if(t)s.arc(e.xCenter,e.yCenter,n,0,Pt);else{let o=e.getPointPosition(0,n);s.moveTo(o.x,o.y);for(let a=1;a<i;a++)o=e.getPointPosition(a,n),s.lineTo(o.x,o.y)}}oa.id="logarithmic",oa.defaults={ticks:{callback:io.formatters.logarithmic,major:{enabled:!0}}};class $n extends uo{constructor(n){super(n),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const n=this._padding=Zt(ra(this.options)/2),t=this.width=this.maxWidth-n.width,i=this.height=this.maxHeight-n.height;this.xCenter=Math.floor(this.left+t/2+n.left),this.yCenter=Math.floor(this.top+i/2+n.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){const{min:n,max:t}=this.getMinMax(!1);this.min=Gt(n)&&!isNaN(n)?n:0,this.max=Gt(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ra(this.options))}generateTickLabels(n){uo.prototype.generateTickLabels.call(this,n),this._pointLabels=this.getLabels().map((t,i)=>{const s=It(this.options.pointLabels.callback,[t,i],this);return s||0===s?s:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){const n=this.options;n.display&&n.pointLabels.display?function PS(e){const n={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},t=Object.assign({},n),i=[],s=[],o=e._pointLabels.length,a=e.options.pointLabels,l=a.centerPointLabels?kt/o:0;for(let c=0;c<o;c++){const d=a.setContext(e.getPointLabelContext(c));s[c]=d.padding;const u=e.getPointPosition(c,e.drawingArea+s[c],l),m=jt(d.font),v=IS(e.ctx,m,e._pointLabels[c]);i[c]=v;const N=fe(e.getIndexAngle(c)+l),E=Math.round(Dr(N));RS(t,n,N,ah(E,u.x,v.w,0,180),ah(E,u.y,v.h,90,270))}e.setCenterPoint(n.l-t.l,t.r-n.r,n.t-t.t,t.b-n.b),e._pointLabelItems=function FS(e,n,t){const i=[],s=e._pointLabels.length,o=e.options,a=ra(o)/2,l=e.drawingArea,c=o.pointLabels.centerPointLabels?kt/s:0;for(let d=0;d<s;d++){const u=e.getPointPosition(d,l+a+t[d],c),m=Math.round(Dr(fe(u.angle+Ht))),v=n[d],N=GS(u.y,v.h,m),E=LS(m),k=BS(u.x,v.w,E);i.push({x:u.x,y:N,textAlign:E,left:k,top:N,right:k+v.w,bottom:N+v.h})}return i}(e,i,s)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(n,t,i,s){this.xCenter+=Math.floor((n-t)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(n,t,i,s))}getIndexAngle(n){return fe(n*(Pt/(this._pointLabels.length||1))+Qt(this.options.startAngle||0))}getDistanceFromCenterForValue(n){if(Et(n))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-n)*t:(n-this.min)*t}getValueForDistanceFromCenter(n){if(Et(n))return NaN;const t=n/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(n){const t=this._pointLabels||[];if(n>=0&&n<t.length){const i=t[n];return function jS(e,n,t){return Ke(e,{label:t,index:n,type:"pointLabel"})}(this.getContext(),n,i)}}getPointPosition(n,t,i=0){const s=this.getIndexAngle(n)-Ht+i;return{x:Math.cos(s)*t+this.xCenter,y:Math.sin(s)*t+this.yCenter,angle:s}}getPointPositionForValue(n,t){return this.getPointPosition(n,this.getDistanceFromCenterForValue(t))}getBasePosition(n){return this.getPointPositionForValue(n||0,this.getBaseValue())}getPointLabelPosition(n){const{left:t,top:i,right:s,bottom:o}=this._pointLabelItems[n];return{left:t,top:i,right:s,bottom:o}}drawBackground(){const{backgroundColor:n,grid:{circular:t}}=this.options;if(n){const i=this.ctx;i.save(),i.beginPath(),lh(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=n,i.fill(),i.restore()}}drawGrid(){const n=this.ctx,t=this.options,{angleLines:i,grid:s}=t,o=this._pointLabels.length;let a,l,c;if(t.pointLabels.display&&function HS(e,n){const{ctx:t,options:{pointLabels:i}}=e;for(let s=n-1;s>=0;s--){const o=i.setContext(e.getPointLabelContext(s)),a=jt(o.font),{x:l,y:c,textAlign:d,left:u,top:m,right:v,bottom:N}=e._pointLabelItems[s],{backdropColor:E}=o;if(!Et(E)){const k=Qe(o.borderRadius),P=Zt(o.backdropPadding);t.fillStyle=E;const V=u-P.left,Z=m-P.top,q=v-u+P.width,st=N-m+P.height;Object.values(k).some(et=>0!==et)?(t.beginPath(),Vn(t,{x:V,y:Z,w:q,h:st,radius:k}),t.fill()):t.fillRect(V,Z,q,st)}_n(t,e._pointLabels[s],l,c+a.lineHeight/2,a,{color:o.color,textAlign:d,textBaseline:"middle"})}}(this,o),s.display&&this.ticks.forEach((d,u)=>{0!==u&&(l=this.getDistanceFromCenterForValue(d.value),function VS(e,n,t,i){const s=e.ctx,o=n.circular,{color:a,lineWidth:l}=n;!o&&!i||!a||!l||t<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(n.borderDash),s.lineDashOffset=n.borderDashOffset,s.beginPath(),lh(e,t,o,i),s.closePath(),s.stroke(),s.restore())}(this,s.setContext(this.getContext(u-1)),l,o))}),i.display){for(n.save(),a=o-1;a>=0;a--){const d=i.setContext(this.getPointLabelContext(a)),{color:u,lineWidth:m}=d;!m||!u||(n.lineWidth=m,n.strokeStyle=u,n.setLineDash(d.borderDash),n.lineDashOffset=d.borderDashOffset,l=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),n.beginPath(),n.moveTo(this.xCenter,this.yCenter),n.lineTo(c.x,c.y),n.stroke())}n.restore()}}drawBorder(){}drawLabels(){const n=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let o,a;n.save(),n.translate(this.xCenter,this.yCenter),n.rotate(s),n.textAlign="center",n.textBaseline="middle",this.ticks.forEach((l,c)=>{if(0===c&&!t.reverse)return;const d=i.setContext(this.getContext(c)),u=jt(d.font);if(o=this.getDistanceFromCenterForValue(this.ticks[c].value),d.showLabelBackdrop){n.font=u.string,a=n.measureText(l.label).width,n.fillStyle=d.backdropColor;const m=Zt(d.backdropPadding);n.fillRect(-a/2-m.left,-o-u.size/2-m.top,a+m.width,u.size+m.height)}_n(n,l.label,0,-o,u,{color:d.color})}),n.restore()}drawTitle(){}}$n.id="radialLinear",$n.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:io.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}},$n.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},$n.descriptors={angleLines:{_fallback:"grid"}};const fo={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},de=Object.keys(fo);function zS(e,n){return e-n}function ch(e,n){if(Et(n))return null;const t=e._adapter,{parser:i,round:s,isoWeekday:o}=e._parseOpts;let a=n;return"function"==typeof i&&(a=i(a)),Gt(a)||(a="string"==typeof i?t.parse(a,i):t.parse(a)),null===a?null:(s&&(a="week"!==s||!Ti(o)&&!0!==o?t.startOf(a,s):t.startOf(a,"isoWeek",o)),+a)}function dh(e,n,t,i){const s=de.length;for(let o=de.indexOf(e);o<s-1;++o){const a=fo[de[o]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((t-n)/(l*a.size))<=i)return de[o]}return de[s-1]}function uh(e,n,t){if(t){if(t.length){const{lo:i,hi:s}=Pr(t,n);e[t[i]>=n?t[i]:t[s]]=!0}}else e[n]=!0}function hh(e,n,t){const i=[],s={},o=n.length;let a,l;for(a=0;a<o;++a)l=n[a],s[l]=a,i.push({value:l,major:!1});return 0!==o&&t?function $S(e,n,t,i){const s=e._adapter,o=+s.startOf(n[0].value,i),a=n[n.length-1].value;let l,c;for(l=o;l<=a;l=+s.add(l,1,i))c=t[l],c>=0&&(n[c].major=!0);return n}(e,i,s,t):i}let aa=(()=>{class e extends wn{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,i){const s=t.time||(t.time={}),o=this._adapter=new bx._date(t.adapters.date);Di(s.displayFormats,o.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=i.normalized}parse(t,i){return void 0===t?null:ch(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,i=this._adapter,s=t.time.unit||"day";let{min:o,max:a,minDefined:l,maxDefined:c}=this.getUserBounds();function d(u){!l&&!isNaN(u.min)&&(o=Math.min(o,u.min)),!c&&!isNaN(u.max)&&(a=Math.max(a,u.max))}(!l||!c)&&(d(this._getLabelBounds()),("ticks"!==t.bounds||"labels"!==t.ticks.source)&&d(this.getMinMax(!1))),o=Gt(o)&&!isNaN(o)?o:+i.startOf(Date.now(),s),a=Gt(a)&&!isNaN(a)?a:+i.endOf(Date.now(),s)+1,this.min=Math.min(o,a-1),this.max=Math.max(o+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(i=t[0],s=t[t.length-1]),{min:i,max:s}}buildTicks(){const t=this.options,i=t.time,s=t.ticks,o="labels"===s.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const a=this.min,c=function oy(e,n,t){let i=0,s=e.length;for(;i<s&&e[i]<n;)i++;for(;s>i&&e[s-1]>t;)s--;return i>0||s<e.length?e.slice(i,s):e}(o,a,this.max);return this._unit=i.unit||(s.autoSkip?dh(i.minUnit,this.min,this.max,this._getLabelCapacity(a)):function US(e,n,t,i,s){for(let o=de.length-1;o>=de.indexOf(t);o--){const a=de[o];if(fo[a].common&&e._adapter.diff(s,i,a)>=n-1)return a}return de[t?de.indexOf(t):0]}(this,c.length,i.minUnit,this.min,this.max)),this._majorUnit=s.major.enabled&&"year"!==this._unit?function WS(e){for(let n=de.indexOf(e)+1,t=de.length;n<t;++n)if(fo[de[n]].common)return de[n]}(this._unit):void 0,this.initOffsets(o),t.reverse&&c.reverse(),hh(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t){let o,a,i=0,s=0;this.options.offset&&t.length&&(o=this.getDecimalForValue(t[0]),i=1===t.length?1-o:(this.getDecimalForValue(t[1])-o)/2,a=this.getDecimalForValue(t[t.length-1]),s=1===t.length?a:(a-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;i=Kt(i,0,l),s=Kt(s,0,l),this._offsets={start:i,end:s,factor:1/(i+1+s)}}_generate(){const t=this._adapter,i=this.min,s=this.max,o=this.options,a=o.time,l=a.unit||dh(a.minUnit,i,s,this._getLabelCapacity(i)),c=yt(a.stepSize,1),d="week"===l&&a.isoWeekday,u=Ti(d)||!0===d,m={};let N,E,v=i;if(u&&(v=+t.startOf(v,"isoWeek",d)),v=+t.startOf(v,u?"day":l),t.diff(s,i,l)>1e5*c)throw new Error(i+" and "+s+" are too far apart with stepSize of "+c+" "+l);const k="data"===o.ticks.source&&this.getDataTimestamps();for(N=v,E=0;N<s;N=+t.add(N,c,l),E++)uh(m,N,k);return(N===s||"ticks"===o.bounds||1===E)&&uh(m,N,k),Object.keys(m).sort((P,V)=>P-V).map(P=>+P)}getLabelForValue(t){const s=this.options.time;return this._adapter.format(t,s.tooltipFormat?s.tooltipFormat:s.displayFormats.datetime)}_tickFormatFunction(t,i,s,o){const a=this.options,l=a.time.displayFormats,c=this._unit,d=this._majorUnit,m=d&&l[d],v=s[i],E=this._adapter.format(t,o||(d&&m&&v&&v.major?m:c&&l[c])),k=a.ticks.callback;return k?It(k,[E,i,s],this):E}generateTickLabels(t){let i,s,o;for(i=0,s=t.length;i<s;++i)o=t[i],o.label=this._tickFormatFunction(o.value,i,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const i=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((i.start+s)*i.factor)}getValueForPixel(t){const i=this._offsets,s=this.getDecimalForPixel(t)/i.factor-i.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const i=this.options.ticks,s=this.ctx.measureText(t).width,o=Qt(this.isHorizontal()?i.maxRotation:i.minRotation),a=Math.cos(o),l=Math.sin(o),c=this._resolveTickFontOptions(0).size;return{w:s*a+c*l,h:s*l+c*a}}_getLabelCapacity(t){const i=this.options.time,s=i.displayFormats,o=s[i.unit]||s.millisecond,a=this._tickFormatFunction(t,0,hh(this,[t],this._majorUnit),o),l=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let i,s,t=this._cache.data||[];if(t.length)return t;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(i=0,s=o.length;i<s;++i)t=t.concat(o[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let i,s;if(t.length)return t;const o=this.getLabels();for(i=0,s=o.length;i<s;++i)t.push(ch(this,o[i]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return wd(t.sort(zS))}}return e.id="time",e.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}},e})();function go(e,n,t){let o,a,l,c,i=0,s=e.length-1;t?(n>=e[i].pos&&n<=e[s].pos&&({lo:i,hi:s}=Le(e,"pos",n)),({pos:o,time:l}=e[i]),({pos:a,time:c}=e[s])):(n>=e[i].time&&n<=e[s].time&&({lo:i,hi:s}=Le(e,"time",n)),({time:o,pos:l}=e[i]),({time:a,pos:c}=e[s]));const d=a-o;return d?l+(c-l)*(n-o)/d:l}class po extends aa{constructor(n){super(n),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const n=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(n);this._minPos=go(t,this.min),this._tableRange=go(t,this.max)-this._minPos,super.initOffsets(n)}buildLookupTable(n){const{min:t,max:i}=this,s=[],o=[];let a,l,c,d,u;for(a=0,l=n.length;a<l;++a)d=n[a],d>=t&&d<=i&&s.push(d);if(s.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(a=0,l=s.length;a<l;++a)u=s[a+1],c=s[a-1],d=s[a],Math.round((u+c)/2)!==d&&o.push({time:d,pos:a/(l-1)});return o}_getTimestampsForTable(){let n=this._cache.all||[];if(n.length)return n;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return n=t.length&&i.length?this.normalize(t.concat(i)):t.length?t:i,n=this._cache.all=n,n}getDecimalForValue(n){return(go(this._table,n)-this._minPos)/this._tableRange}getValueForPixel(n){const t=this._offsets,i=this.getDecimalForPixel(n)/t.factor-t.end;return go(this._table,i*this._tableRange+this._minPos,!0)}}po.id="timeseries",po.defaults=aa.defaults;const fh=["click","dblclick"],la=["enter","leave"],ca=fh.concat(la);function qi(e,n,t){It(e,[n.$context,t])}function gh(e,n){let t=Number.POSITIVE_INFINITY;return e.filter(i=>i.options.display&&i.inRange(n.x,n.y)).reduce((i,s)=>{const o=s.getCenterPoint(),a=Mi(n,o);return a<t?(i=[s],t=a):a===t&&i.push(s),i},[]).sort((i,s)=>i._index-s._index).slice(0,1)[0]}function ph(e,n,t,i){if(Gt(n[t])&&!function eD(e,n,t){return zt(e[n])||zt(e[t])}(e.options,t,i)){const s=e[t]!==n[t];return e[t]=n[t],s}}function nD(e,n){for(const t of["scaleID","xScaleID","yScaleID"])e[t]&&!n[e[t]]&&iD(e,t)&&console.warn(`No scale found with id '${e[t]}' for annotation '${e.id}'`)}function iD(e,n){if("scaleID"===n)return!0;const t=n.charAt(0);for(const i of["Min","Max","Value"])if(zt(e[t+i]))return!0;return!1}function mh(e,n,t,i){for(const s of t){const o=e[s];if(zt(o)){const a=n.parse(o);i.min=Math.min(i.min,a),i.max=Math.max(i.max,a)}}}const mo=.001,da=(e,n,t)=>Math.min(t,Math.max(n,e));function oD(e,n,t){for(const i of Object.keys(e))e[i]=da(e[i],n,t);return e}function _h(e,n,{x:t,y:i,width:s,height:o},a){const l=a/2;return e>=t-l-mo&&e<=t+s+l+mo&&n>=i-l-mo&&n<=i+o+l+mo}function bh(e,n){const{x:t,y:i}=e.getProps(["x","y"],n);return{x:t,y:i}}const aD=(e,n)=>n>e||e.length>n.length&&e.substr(0,n.length)===n,vh=e=>"string"==typeof e&&e.endsWith("%"),yh=e=>da(parseFloat(e)/100,0,1);function ua(e,n){return"start"===n?0:"end"===n?e:vh(n)?yh(n)*e:e/2}function Yn(e,n){return"number"==typeof n?n:vh(n)?yh(n)*e:e}function xh(e){return Tt(e)?{x:yt(e.x,"center"),y:yt(e.y,"center")}:{x:e=yt(e,"center"),y:e}}function wh(e){return e&&(zt(e.xValue)||zt(e.yValue))}const ha=new Map;function fa(e){if(e&&"object"==typeof e){const n=e.toString();return"[object HTMLImageElement]"===n||"[object HTMLCanvasElement]"===n}}function _o(e,n,t){if(t){const i=n.getCenterPoint();e.translate(i.x,i.y),e.rotate(Qt(t)),e.translate(-i.x,-i.y)}}function Sn(e,n){if(n&&n.borderWidth)return e.lineCap=n.borderCapStyle,e.setLineDash(n.borderDash),e.lineDashOffset=n.borderDashOffset,e.lineJoin=n.borderJoinStyle,e.lineWidth=n.borderWidth,e.strokeStyle=n.borderColor,!0}function Zn(e,n){e.shadowColor=n.backgroundShadowColor,e.shadowBlur=n.shadowBlur,e.shadowOffsetX=n.shadowOffsetX,e.shadowOffsetY=n.shadowOffsetY}function ga(e,n){const t=n.content;if(fa(t))return{width:Yn(t.width,n.width),height:Yn(t.height,n.height)};const i=jt(n.font),s=n.textStrokeWidth,o=Ot(t)?t:[t],a=o.join()+i.string+s+(e._measureText?"-spriting":"");if(!ha.has(a)){e.save(),e.font=i.string;const l=o.length;let c=0;for(let u=0;u<l;u++)c=Math.max(c,e.measureText(o[u]).width+s);e.restore(),ha.set(a,{width:c,height:l*i.lineHeight+s})}return ha.get(a)}function pa(e,n,t){const{x:i,y:s,width:o,height:a}=n;e.save(),Zn(e,t);const l=Sn(e,t);e.fillStyle=t.backgroundColor,e.beginPath(),Vn(e,{x:i,y:s,w:o,h:a,radius:oD(Qe(yt(t.cornerRadius,t.borderRadius)),0,Math.min(o,a)/2)}),e.closePath(),e.fill(),l&&(e.shadowColor=t.borderShadowColor,e.stroke()),e.restore()}function ma(e,n,t){const i=t.content;if(fa(i))return void e.drawImage(i,n.x,n.y,n.width,n.height);const s=Ot(i)?i:[i],o=jt(t.font),a=o.lineHeight,l=function cD(e,n){const{x:t,width:i}=e,s=n.textAlign;return"center"===s?t+i/2:"end"===s||"right"===s?t+i:t}(n,t),c=n.y+a/2+t.textStrokeWidth/2;e.save(),e.font=o.string,e.textBaseline="middle",e.textAlign=t.textAlign,function dD(e,n){if(n.textStrokeWidth>0)return e.lineJoin="round",e.miterLimit=2,e.lineWidth=n.textStrokeWidth,e.strokeStyle=n.textStrokeColor,!0}(e,t)&&s.forEach((d,u)=>e.strokeText(d,l,c+u*a)),e.fillStyle=t.color,s.forEach((d,u)=>e.fillText(d,l,c+u*a)),e.restore()}function ts(e){const{x:n,y:t,width:i,height:s}=e;return{x:n+i/2,y:t+s/2}}function es(e,n,t){const i=Math.cos(t),s=Math.sin(t),o=n.x,a=n.y;return{x:o+i*(e.x-o)-s*(e.y-a),y:a+s*(e.x-o)+i*(e.y-a)}}function Me(e,n,t){return n="number"==typeof n?n:e.parse(n),Gt(n)?e.getPixelForValue(n):t}function Sh(e,n){if(e){const t=Me(e,n.min,n.start),i=Me(e,n.max,n.end);return{start:Math.min(t,i),end:Math.max(t,i)}}return{start:n.start,end:n.end}}function Dh(e,n){const{chartArea:t,scales:i}=e,s=i[n.xScaleID],o=i[n.yScaleID];let a=t.width/2,l=t.height/2;return s&&(a=Me(s,n.xValue,a)),o&&(l=Me(o,n.yValue,l)),{x:a,y:l}}function bo(e,n){const t=e.scales[n.xScaleID],i=e.scales[n.yScaleID];let{top:s,left:o,bottom:a,right:l}=e.chartArea;if(!t&&!i)return{};const c=Sh(t,{min:n.xMin,max:n.xMax,start:o,end:l});o=c.start,l=c.end;const d=Sh(i,{min:n.yMin,max:n.yMax,start:s,end:a});return s=d.start,a=d.end,{x:o,y:s,x2:l,y2:a,width:l-o,height:a-s}}function Nh(e,n){if(!wh(n)){const t=bo(e,n),i=ts(t);let s=n.radius;return(!s||isNaN(s))&&(s=Math.min(t.width,t.height)/2,n.radius=s),{x:i.x+n.xAdjust,y:i.y+n.yAdjust,width:2*s,height:2*s}}return function uD(e,n){const t=Dh(e,n);return{x:t.x+n.xAdjust,y:t.y+n.yAdjust,width:2*n.radius,height:2*n.radius}}(e,n)}class ns extends qt{inRange(n,t,i){const{x:s,y:o}=es({x:n,y:t},this.getCenterPoint(i),Qt(-this.options.rotation));return _h(s,o,this.getProps(["x","y","width","height"],i),this.options.borderWidth)}getCenterPoint(n){return ts(this.getProps(["x","y","width","height"],n))}draw(n){n.save(),_o(n,this,this.options.rotation),pa(n,this,this.options),n.restore()}drawLabel(n){const{x:t,y:i,width:s,height:o,options:a}=this,{label:l,borderWidth:c}=a,d=c/2,u=xh(l.position),m=Zt(l.padding),v=ga(n,l),N={x:hD(this,v,u,m),y:fD(this,v,u,m),width:v.width,height:v.height};n.save(),_o(n,this,l.rotation),n.beginPath(),n.rect(t+d+m.left,i+d+m.top,s-c-m.width,o-c-m.height),n.clip(),ma(n,N,l),n.restore()}resolveElementProperties(n,t){return bo(n,t)}}function hD(e,n,t,i){const{x:s,x2:o,width:a,options:l}=e,{xAdjust:c,borderWidth:d}=l.label;return Th({start:s,end:o,size:a},{position:t.x,padding:{start:i.left,end:i.right},adjust:c,borderWidth:d,size:n.width})}function fD(e,n,t,i){const{y:s,y2:o,height:a,options:l}=e,{yAdjust:c,borderWidth:d}=l.label;return Th({start:s,end:o,size:a},{position:t.y,padding:{start:i.top,end:i.bottom},adjust:c,borderWidth:d,size:n.height})}function Th(e,n){const{start:t,end:i}=e,{position:s,padding:{start:o,end:a},adjust:l,borderWidth:c}=n;return t+c/2+l+o+ua(i-c-t-o-a-n.size,s)}ns.id="boxAnnotation",ns.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:1,cornerRadius:void 0,display:!0,label:{borderWidth:void 0,color:"black",content:null,drawTime:void 0,enabled:!1,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,padding:6,position:"center",rotation:void 0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,xAdjust:0,yAdjust:0,width:void 0},rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:"x",yMax:void 0,yMin:void 0,yScaleID:"y"},ns.defaultRoutes={borderColor:"color",backgroundColor:"color"},ns.descriptors={label:{_fallback:!0}};const _a=(e,n,t)=>({x:e.x+t*(n.x-e.x),y:e.y+t*(n.y-e.y)}),ba=(e,n,t)=>_a(n,t,Math.abs((e-n.y)/(t.y-n.y))).x,Ch=(e,n,t)=>_a(n,t,Math.abs((e-n.x)/(t.x-n.x))).y,is=e=>e*e,ss=.001;function Mh({x:e,y:n,x2:t,y2:i},{top:s,right:o,bottom:a,left:l}){return!(e<l&&t<l||e>o&&t>o||n<s&&i<s||n>a&&i>a)}function Eh({x:e,y:n},t,{top:i,right:s,bottom:o,left:a}){return e<a&&(n=Ch(a,{x:e,y:n},t),e=a),e>s&&(n=Ch(s,{x:e,y:n},t),e=s),n<i&&(e=ba(i,{x:e,y:n},t),n=i),n>o&&(e=ba(o,{x:e,y:n},t),n=o),{x:e,y:n}}let vo=(()=>{class e extends qt{intersects(t,i,s=ss,o){const{x:a,y:l,x2:c,y2:d}=this.getProps(["x","y","x2","y2"],o),u=c-a,m=d-l,v=is(u)+is(m),N=0===v?-1:((t-a)*u+(i-l)*m)/v;let E,k;return N<0?(E=a,k=l):N>1?(E=c,k=d):(E=a+N*u,k=l+N*m),is(t-E)+is(i-k)<=s}labelIsVisible(t,i){const s=this.options.label;return!(!s||!s.enabled)&&(!i||Mh(this.getProps(["x","y","x2","y2"],t),i))}isOnLabel(t,i,s){if(!this.labelIsVisible(s))return!1;const{labelX:o,labelY:a,labelWidth:l,labelHeight:c,labelRotation:d}=this.getProps(["labelX","labelY","labelWidth","labelHeight","labelRotation"],s),{x:u,y:m}=es({x:t,y:i},{x:o,y:a},-d),v=this.options.label.borderWidth/2||0,N=l/2+v,E=c/2+v;return u>=o-N-ss&&u<=o+N+ss&&m>=a-E-ss&&m<=a+E+ss}inRange(t,i,s){const o=is(this.options.borderWidth/2);return this.intersects(t,i,o,s)||this.isOnLabel(t,i,s)}getCenterPoint(){return{x:(this.x2+this.x)/2,y:(this.y2+this.y)/2}}draw(t){const{x:i,y:s,x2:o,y2:a,options:l}=this;if(t.save(),!Sn(t,l))return t.restore();Zn(t,l);const c=Math.atan2(a-s,o-i),d=Math.sqrt(Math.pow(o-i,2)+Math.pow(a-s,2)),{startOpts:u,endOpts:m,startAdjust:v,endAdjust:N}=function wD(e){const n=e.options,t=n.arrowHeads&&n.arrowHeads.start,i=n.arrowHeads&&n.arrowHeads.end;return{startOpts:t,endOpts:i,startAdjust:Ih(e,t),endAdjust:Ih(e,i)}}(this);t.translate(i,s),t.rotate(c),t.beginPath(),t.moveTo(0+v,0),t.lineTo(d-N,0),t.shadowColor=l.borderShadowColor,t.stroke(),Ph(t,0,v,u),Ph(t,d,-N,m),t.restore()}drawLabel(t,i){if(!this.labelIsVisible(!1,i))return;const{labelX:s,labelY:o,labelWidth:a,labelHeight:l,labelRotation:c,labelPadding:d,labelTextSize:u,options:{label:m}}=this;t.save(),t.translate(s,o),t.rotate(c),pa(t,{x:-a/2,y:-l/2,width:a,height:l},m),ma(t,{x:-a/2+d.left+m.borderWidth/2,y:-l/2+d.top+m.borderWidth/2,width:u.width,height:u.height},m),t.restore()}resolveElementProperties(t,i){const s=t.scales[i.scaleID];let d,u,{top:o,left:a,bottom:l,right:c}=t.chartArea;if(s)d=Me(s,i.value,NaN),u=Me(s,i.endValue,d),s.isHorizontal()?(a=d,c=u):(o=d,l=u);else{const E=t.scales[i.xScaleID],k=t.scales[i.yScaleID];E&&(a=Me(E,i.xMin,a),c=Me(E,i.xMax,c)),k&&(o=Me(k,i.yMin,o),l=Me(k,i.yMax,l))}const v=Mh({x:a,y:o,x2:c,y2:l},t.chartArea)?function gD(e,n,t){const{x:i,y:s}=Eh(e,n,t),{x:o,y:a}=Eh(n,e,t);return{x:i,y:s,x2:o,y2:a,width:Math.abs(o-i),height:Math.abs(a-s)}}({x:a,y:o},{x:c,y:l},t.chartArea):{x:a,y:o,x2:c,y2:l,width:Math.abs(c-a),height:Math.abs(l-o)},N=i.label;return N&&N.content?function pD(e,n,t){const{padding:i,xPadding:s,yPadding:o,borderWidth:a}=t,l=function _D(e,n,t){let i=e;return(n||t)&&(i={x:n||6,y:t||6}),Zt(i)}(i,s,o),c=ga(n.ctx,t),m=function bD(e,n,t,i){const{width:s,height:o,padding:a}=t,{xAdjust:l,yAdjust:c}=n,d={x:e.x,y:e.y},u={x:e.x2,y:e.y2},m="auto"===n.rotation?function mD(e){const{x:n,y:t,x2:i,y2:s}=e,o=Math.atan2(s-t,i-n);return o>kt/2?o-kt:o<kt/-2?o+kt:o}(e):Qt(n.rotation),v=function vD(e,n,t){const i=Math.cos(t),s=Math.sin(t);return{w:Math.abs(e*i)+Math.abs(n*s),h:Math.abs(e*s)+Math.abs(n*i)}}(s,o,m),N=function yD(e,n,t,i){let s;const o=function xD(e,n){const{x:t,x2:i,y:s,y2:o}=e,a=Math.min(s,o)-n.top,l=Math.min(t,i)-n.left,c=n.bottom-Math.max(s,o),d=n.right-Math.max(t,i);return{x:Math.min(l,d),y:Math.min(a,c),dx:l<=d?1:-1,dy:a<=c?1:-1}}(e,i);return s="start"===n.position?Oh({w:e.x2-e.x,h:e.y2-e.y},t,0,o):"end"===n.position?1-Oh({w:e.x-e.x2,h:e.y-e.y2},t,0,o):ua(1,n.position),s}(e,n,{labelSize:v,padding:a},i),E=_a(d,u,N),P={size:v.h,min:i.top,max:i.bottom,padding:a.top};return{x:Ah(E.x,{size:v.w,min:i.left,max:i.right,padding:a.left})+l,y:Ah(E.y,P)+c,width:s,height:o,rotation:m}}(e,t,{width:c.width+l.width+a,height:c.height+l.height+a,padding:l},n.chartArea);return e.labelX=m.x,e.labelY=m.y,e.labelWidth=m.width,e.labelHeight=m.height,e.labelRotation=m.rotation,e.labelPadding=l,e.labelTextSize=c,e}(v,t,N):v}}return e.id="lineAnnotation",e})();const kh={backgroundColor:void 0,backgroundShadowColor:void 0,borderColor:void 0,borderDash:void 0,borderDashOffset:void 0,borderShadowColor:void 0,borderWidth:void 0,enabled:void 0,fill:void 0,length:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,width:void 0};function Oh(e,n,t,i){const{labelSize:s,padding:o}=n,a=e.w*i.dx,l=e.h*i.dy;return da(Math.max(a>0&&(s.w/2+o.left-i.x)/a,l>0&&(s.h/2+o.top-i.y)/l),0,.25)}function Ah(e,n){const{size:t,min:i,max:s,padding:o}=n,a=t/2;return t>s-i?(s+i)/2:(i>=e-o-a&&(e=i+o+a),s<=e+o+a&&(e=s-o-a),e)}function Ih(e,n){if(!n||!n.enabled)return 0;const{length:t,width:i}=n,s=e.options.borderWidth/2;return Math.abs(ba(0,{x:t,y:i+s},{x:0,y:s}))}function Ph(e,n,t,i){if(!i||!i.enabled)return;const{length:s,width:o,fill:a,backgroundColor:l,borderColor:c}=i,d=Math.abs(n-s)+t;e.beginPath(),Zn(e,i),Sn(e,i),e.moveTo(d,-o),e.lineTo(n+t,0),e.lineTo(d,o),!0===a?(e.fillStyle=l||c,e.closePath(),e.fill(),e.shadowColor="transparent"):e.shadowColor=i.borderShadowColor,e.stroke()}vo.defaults={adjustScaleRange:!0,arrowHeads:{enabled:!1,end:Object.assign({},kh),fill:!1,length:12,start:Object.assign({},kh),width:6},borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:2,display:!0,endValue:void 0,label:{backgroundColor:"rgba(0,0,0,0.8)",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderColor:"black",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:6,borderShadowColor:"transparent",borderWidth:0,color:"#fff",content:null,cornerRadius:void 0,drawTime:void 0,enabled:!1,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,xPadding:void 0,yAdjust:0,yPadding:void 0},scaleID:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,value:void 0,xMax:void 0,xMin:void 0,xScaleID:"x",yMax:void 0,yMin:void 0,yScaleID:"y"},vo.descriptors={arrowHeads:{start:{_fallback:!0},end:{_fallback:!0},_fallback:!0}},vo.defaultRoutes={borderColor:"color"};class yo extends qt{inRange(n,t,i){return function SD(e,n,t,i){const{width:s,height:o}=n,a=n.getCenterPoint(!0),l=s/2,c=o/2;if(l<=0||c<=0)return!1;const d=Qt(t||0),u=i/2||0,m=Math.cos(d),v=Math.sin(d),N=Math.pow(m*(e.x-a.x)+v*(e.y-a.y),2),E=Math.pow(v*(e.x-a.x)-m*(e.y-a.y),2);return N/Math.pow(l+u,2)+E/Math.pow(c+u,2)<=1.0001}({x:n,y:t},this.getProps(["width","height"],i),this.options.rotation,this.options.borderWidth)}getCenterPoint(n){return ts(this.getProps(["x","y","width","height"],n))}draw(n){const{width:t,height:i,options:s}=this,o=this.getCenterPoint();n.save(),_o(n,this,s.rotation),Zn(n,this.options),n.beginPath(),n.fillStyle=s.backgroundColor;const a=Sn(n,s);n.ellipse(o.x,o.y,i/2,t/2,kt/2,0,2*kt),n.fill(),a&&(n.shadowColor=s.borderShadowColor,n.stroke()),n.restore()}resolveElementProperties(n,t){return bo(n,t)}}yo.id="ellipseAnnotation",yo.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:"x",yMax:void 0,yMin:void 0,yScaleID:"y"},yo.defaultRoutes={borderColor:"color",backgroundColor:"color"};class xo extends qt{inRange(n,t,i){const{x:s,y:o}=es({x:n,y:t},this.getCenterPoint(i),Qt(-this.options.rotation));return _h(s,o,this.getProps(["x","y","width","height"],i),this.options.borderWidth)}getCenterPoint(n){return ts(this.getProps(["x","y","width","height"],n))}draw(n){if(!this.options.content)return;const{labelX:t,labelY:i,labelWidth:s,labelHeight:o,options:a}=this;n.save(),_o(n,this,a.rotation),function ND(e,n){const{pointX:t,pointY:i,calloutPosition:s,options:o}=n;if(!s||n.inRange(t,i))return;const a=o.callout;if(e.save(),e.beginPath(),!Sn(e,a))return e.restore();const{separatorStart:c,separatorEnd:d}=function TD(e,n){const{x:t,y:i,width:s,height:o}=e,a=function CD(e,n){const{width:t,height:i,options:s}=e,o=s.callout.margin+s.borderWidth/2;return"right"===n?t+o:"bottom"===n?i+o:-o}(e,n);let l,c;return"left"===n||"right"===n?(l={x:t+a,y:i},c={x:l.x,y:l.y+o}):(l={x:t,y:i+a},c={x:l.x+s,y:l.y}),{separatorStart:l,separatorEnd:c}}(n,s),{sideStart:u,sideEnd:m}=function MD(e,n,t){const{y:i,width:s,height:o,options:a}=e,l=a.callout.start,c=function ED(e,n){const t=n.side;return"left"===e||"top"===e?-t:t}(n,a.callout);let d,u;return"left"===n||"right"===n?(d={x:t.x,y:i+Yn(o,l)},u={x:d.x+c,y:d.y}):(d={x:t.x+Yn(s,l),y:t.y},u={x:d.x,y:d.y+c}),{sideStart:d,sideEnd:u}}(n,s,c);(a.margin>0||0===o.borderWidth)&&(e.moveTo(c.x,c.y),e.lineTo(d.x,d.y)),e.moveTo(u.x,u.y),e.lineTo(m.x,m.y);const v=es({x:t,y:i},n.getCenterPoint(),Qt(-o.rotation));e.lineTo(v.x,v.y),e.stroke(),e.restore()}(n,this),pa(n,this,a),ma(n,{x:t,y:i,width:s,height:o},a),n.restore()}resolveElementProperties(n,t){const i=wh(t)?Dh(n,t):ts(bo(n,t)),s=Zt(t.padding),o=ga(n.ctx,t),a=function DD(e,n,t,i){const s=n.width+i.width+t.borderWidth,o=n.height+i.height+t.borderWidth,a=xh(t.position);return{x:Rh(e.x,s,t.xAdjust,a.x),y:Rh(e.y,o,t.yAdjust,a.y),width:s,height:o}}(i,o,t,s),l=t.borderWidth/2,c=Po(Io({pointX:i.x,pointY:i.y},a),{labelX:a.x+s.left+l,labelY:a.y+s.top+l,labelWidth:o.width,labelHeight:o.height});return c.calloutPosition=t.callout.enabled&&function kD(e,n,t){const i=n.position;return"left"===i||"right"===i||"top"===i||"bottom"===i?i:function AD(e,n,t){const{x:i,y:s,width:o,height:a,pointX:l,pointY:c}=e,d={x:i+o/2,y:s+a/2},u=n.start,m=Yn(o,u),v=Yn(a,u),N=[i,i+m,i+m,i+o],E=[s+v,s+a,s,s+v],k=[];for(let P=0;P<4;P++){const V=es({x:N[P],y:E[P]},d,Qt(t));k.push({position:OD[P],distance:Mi(V,{x:l,y:c})})}return k.sort((P,V)=>P.distance-V.distance)[0].position}(e,n,t)}(c,t.callout,t.rotation),c}}function Rh(e,n,t=0,i){return e-ua(n,i)+t}xo.id="labelAnnotation",xo.defaults={adjustScaleRange:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:0,callout:{borderCapStyle:"butt",borderColor:void 0,borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:1,enabled:!1,margin:5,position:"auto",side:5,start:"50%"},color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:"x",xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:"y",yValue:void 0},xo.defaultRoutes={borderColor:"color"};const OD=["left","bottom","top","right"];class wo extends qt{inRange(n,t,i){const{width:s}=this.getProps(["width"],i);return function rD(e,n,t,i){if(!e||!n||t<=0)return!1;const s=i/2||0;return Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2)<=Math.pow(t+s,2)}({x:n,y:t},this.getCenterPoint(i),s/2,this.options.borderWidth)}getCenterPoint(n){return bh(this,n)}draw(n){const t=this.options,i=t.borderWidth;if(t.radius<.1)return;n.save(),n.fillStyle=t.backgroundColor,Zn(n,t);const s=Sn(n,t);t.borderWidth=0,Pi(n,t,this.x,this.y),s&&!fa(t.pointStyle)&&(n.shadowColor=t.borderShadowColor,n.stroke()),n.restore(),t.borderWidth=i}resolveElementProperties(n,t){return Nh(n,t)}}wo.id="pointAnnotation",wo.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,pointStyle:"circle",radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:"x",xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:"y",yValue:void 0},wo.defaultRoutes={borderColor:"color",backgroundColor:"color"};class So extends qt{inRange(n,t,i){return this.options.radius>=.1&&this.elements.length>1&&function ID(e,n,t,i){let s=!1,o=e[e.length-1].getProps(["bX","bY"],i);for(const a of e){const l=a.getProps(["bX","bY"],i);l.bY>t!=o.bY>t&&n<(o.bX-l.bX)*(t-l.bY)/(o.bY-l.bY)+l.bX&&(s=!s),o=l}return s}(this.elements,n,t,i)}getCenterPoint(n){return bh(this,n)}draw(n){const{elements:t,options:i}=this;n.save(),n.beginPath(),n.fillStyle=i.backgroundColor,Zn(n,i);const s=Sn(n,i);let o=!0;for(const a of t)o?(n.moveTo(a.x,a.y),o=!1):n.lineTo(a.x,a.y);n.closePath(),n.fill(),s&&(n.shadowColor=i.borderShadowColor,n.stroke()),n.restore()}resolveElementProperties(n,t){const{x:i,y:s,width:o,height:a}=Nh(n,t),{sides:l,radius:c,rotation:d,borderWidth:u}=t,m=u/2,v=[],N=2*kt/l;let E=d*td;for(let k=0;k<l;k++,E+=N){const P=Math.sin(E),V=Math.cos(E);v.push({type:"point",optionScope:"point",properties:{x:i+P*c,y:s-V*c,bX:i+P*(c+m),bY:s-V*(c+m)}})}return{x:i,y:s,width:o,height:a,elements:v,initProperties:{x:i,y:s}}}}So.id="polygonAnnotation",So.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:1,display:!0,point:{radius:0},radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,sides:3,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:"x",xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:"y",yValue:void 0},So.defaultRoutes={borderColor:"color",backgroundColor:"color"};const en={box:ns,ellipse:yo,label:xo,line:vo,point:wo,polygon:So};Object.keys(en).forEach(e=>{Ct.describe(`elements.${en[e].id}`,{_fallback:"plugins.annotation"})});const PD={update:Object.assign};function va(e="line"){return en[e]?e:(console.warn(`Unknown annotation type: '${e}', defaulting to 'line'`),"line")}function FD(e){return isNaN(e.x)||isNaN(e.y)}function BD(e,{elements:n,initProperties:t},i,s){const o=e.elements||(e.elements=[]);o.length=n.length;for(let a=0;a<n.length;a++){const l=n[a],c=l.properties,d=Fh(o,a,l.type,t),u=i[l.optionScope].override(l);c.options=Lh(u),s.update(d,c)}}function Fh(e,n,t,i){const s=en[va(t)];let o=e[n];return(!o||!(o instanceof s))&&(o=e[n]=new s,Tt(i)&&Object.assign(o,i)),o}function Lh(e){const n=en[va(e.type)],t={};t.id=e.id,t.type=e.type,t.drawTime=e.drawTime,Object.assign(t,ya(e,n.defaults),ya(e,n.defaultRoutes));for(const i of ca)t[i]=e[i];return t}function ya(e,n){const t={};for(const i of Object.keys(n)){const s=n[i],o=e[i];t[i]=Tt(s)?ya(o,s):o}return t}function GD(e,n,t){return n.$context||(n.$context=Object.assign(Object.create(e.getContext()),{element:n,id:t.id,type:"annotation"}))}const nn=new Map;var Bh={id:"annotation",version:"1.4.0",afterRegister(){Te.register(en),function lD(e,n,t,i=!0){const s=t.split(".");let o=0;for(const a of n.split(".")){const l=s[o++];if(parseInt(a,10)<parseInt(l,10))break;if(aD(l,a)){if(i)throw new Error(`${e} v${t} is not supported. v${n} or newer is required.`);return!1}}return!0}("chart.js","3.7",Te.version,!1)||(console.warn("chartjs-plugin-annotation has known issues with chart.js versions prior to 3.7, please consider upgrading."),Te.defaults.set("elements.lineAnnotation",{callout:{},font:{},padding:6}))},afterUnregister(){Te.unregister(en)},beforeInit(e){nn.set(e,{annotations:[],elements:[],visibleElements:[],listeners:{},listened:!1,moveListened:!1})},beforeUpdate(e,n,t){const s=nn.get(e).annotations=[];let o=t.annotations;Tt(o)?Object.keys(o).forEach(a=>{const l=o[a];Tt(l)&&(l.id=a,s.push(l))}):Ot(o)&&s.push(...o),function tD(e,n){for(const t of e)nD(t,n)}(s,e.scales)},afterDataLimits(e,n){const t=nn.get(e);!function qS(e,n,t){const i=function sD(e,n){const t=e.axis,i=e.id,s=t+"ScaleID",o={min:yt(e.min,Number.NEGATIVE_INFINITY),max:yt(e.max,Number.POSITIVE_INFINITY)};for(const a of n)a.scaleID===i?mh(a,e,["value","endValue"],o):a[s]===i&&mh(a,e,[t+"Min",t+"Max",t+"Value"],o);return o}(n,t);let s=ph(n,i,"min","suggestedMin");s=ph(n,i,"max","suggestedMax")||s,s&&"function"==typeof n.handleTickRangeOptions&&n.handleTickRangeOptions()}(0,n.scale,t.annotations.filter(i=>i.display&&i.adjustScaleRange))},afterUpdate(e,n,t){const i=nn.get(e);(function ZS(e,n,t){n.listened=!1,n.moveListened=!1,ca.forEach(i=>{"function"==typeof t[i]?(n.listened=!0,n.listeners[i]=t[i]):zt(n.listeners[i])&&delete n.listeners[i]}),la.forEach(i=>{"function"==typeof t[i]&&(n.moveListened=!0)}),(!n.listened||!n.moveListened)&&n.annotations.forEach(i=>{n.listened||fh.forEach(s=>{"function"==typeof i[s]&&(n.listened=!0)}),n.moveListened||la.forEach(s=>{"function"==typeof i[s]&&(n.listened=!0,n.moveListened=!0)})})})(0,i,t),function RD(e,n,t,i){const s=function LD(e,n,t){return"reset"===t||"none"===t||"resize"===t?PD:new Hr(e,n)}(e,t.animations,i),o=n.annotations,a=function HD(e,n){const t=n.length,i=e.length;return i<t?e.splice(i,0,...new Array(t-i)):i>t&&e.splice(t,i-t),e}(n.elements,o);for(let l=0;l<o.length;l++){const c=o[l],d=Fh(a,l,c.type),u=c.setContext(GD(e,d,c)),m=d.resolveElementProperties(e,u);m.skip=FD(m),"elements"in m&&(BD(d,m,u,s),delete m.elements),zt(d.x)||Object.assign(d,m),m.options=Lh(u),s.update(d,m)}}(e,i,t,n.mode),i.visibleElements=i.elements.filter(s=>!s.skip&&s.options.display)},beforeDatasetsDraw(e,n,t){Do(e,"beforeDatasetsDraw",t.clip)},afterDatasetsDraw(e,n,t){Do(e,"afterDatasetsDraw",t.clip)},beforeDraw(e,n,t){Do(e,"beforeDraw",t.clip)},afterDraw(e,n,t){Do(e,"afterDraw",t.clip)},beforeEvent(e,n,t){!function XS(e,n,t){if(e.listened)switch(n.type){case"mousemove":case"mouseout":!function JS(e,n){if(!e.moveListened)return;let t;"mousemove"===n.type&&(t=gh(e.elements,n));const i=e.hovered;e.hovered=t,function QS(e,n,t){const{previous:i,element:s}=n;i&&i!==s&&qi(i.options.leave||e.listeners.leave,i,t),s&&s!==i&&qi(s.options.enter||e.listeners.enter,s,t)}(e,{previous:i,element:t},n)}(e,n);break;case"click":!function KS(e,n,t){const i=e.listeners,s=gh(e.elements,n);if(s){const o=s.options,a=o.dblclick||i.dblclick,l=o.click||i.click;s.clickTimeout?(clearTimeout(s.clickTimeout),delete s.clickTimeout,qi(a,s,n)):a?s.clickTimeout=setTimeout(()=>{delete s.clickTimeout,qi(l,s,n)},t.dblClickSpeed):qi(l,s,n)}}(e,n,t)}}(nn.get(e),n.event,t)},destroy(e){nn.delete(e)},_getState:e=>nn.get(e),defaults:{animations:{numbers:{properties:["x","y","x2","y2","width","height","pointX","pointY","labelX","labelY","labelWidth","labelHeight","radius"],type:"number"}},clip:!0,dblClickSpeed:350,drawTime:"afterDatasetsDraw",label:{drawTime:null}},descriptors:{_indexable:!1,_scriptable:e=>!ca.includes(e),annotations:{_allKeys:!1,_fallback:(e,n)=>`elements.${en[va(n.type)].id}`}},additionalOptionScopes:[""]};function Do(e,n,t){const{ctx:i,chartArea:s}=e,{visibleElements:o}=nn.get(e);t&&Fi(i,s),Gh(i,o,n),function zD(e,n,t){for(const i of n)Ot(i.elements)&&Gh(e,i.elements,t)}(i,o,n),t&&Li(i),o.forEach(a=>{if(!("drawLabel"in a))return;const l=a.options.label;l&&l.enabled&&l.content&&(l.drawTime||a.options.drawTime)===n&&a.drawLabel(i,s)})}function Gh(e,n,t){for(const i of n)i.options.drawTime===t&&i.draw(e)}const No=function $D(e,n){return e===n||e!=e&&n!=n},To=function YD(e,n){for(var t=e.length;t--;)if(No(e[t][0],n))return t;return-1};var XD=Array.prototype.splice;function Xn(e){var n=-1,t=null==e?0:e.length;for(this.clear();++n<t;){var i=e[n];this.set(i[0],i[1])}}Xn.prototype.clear=function UD(){this.__data__=[],this.size=0},Xn.prototype.delete=function JD(e){var n=this.__data__,t=To(n,e);return!(t<0||(t==n.length-1?n.pop():XD.call(n,t,1),--this.size,0))},Xn.prototype.get=function KD(e){var n=this.__data__,t=To(n,e);return t<0?void 0:n[t][1]},Xn.prototype.has=function tN(e){return To(this.__data__,e)>-1},Xn.prototype.set=function nN(e,n){var t=this.__data__,i=To(t,e);return i<0?(++this.size,t.push([e,n])):t[i][1]=n,this};const Co=Xn,Hh="object"==typeof global&&global&&global.Object===Object&&global;var fN="object"==typeof self&&self&&self.Object===Object&&self;const Jn=Hh||fN||Function("return this")();var pN=Jn.Symbol,Vh=Object.prototype,mN=Vh.hasOwnProperty,_N=Vh.toString,os=pN?pN.toStringTag:void 0;var xN=Object.prototype.toString;var jh=pN?pN.toStringTag:void 0;const Eo=function TN(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":jh&&jh in Object(e)?function bN(e){var n=mN.call(e,os),t=e[os];try{e[os]=void 0;var i=!0}catch(o){}var s=_N.call(e);return i&&(n?e[os]=t:delete e[os]),s}(e):function wN(e){return xN.call(e)}(e)},Dn=function CN(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)},xa=function AN(e){if(!Dn(e))return!1;var n=Eo(e);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n};var e,IN=Jn["__core-js_shared__"],zh=(e=/[^.]+$/.exec(IN&&IN.keys&&IN.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";var LN=Function.prototype.toString;var VN=/^\[object .+?Constructor\]$/,$N=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const ZN=function YN(e){return!(!Dn(e)||function PN(e){return!!zh&&zh in e}(e))&&(xa(e)?$N:VN).test(function BN(e){if(null!=e){try{return LN.call(e)}catch(n){}try{return e+""}catch(n){}}return""}(e))},Sa=function QN(e,n){var t=function XN(e,n){return null==e?void 0:e[n]}(e,n);return ZN(t)?t:void 0},Uh=Sa(Jn,"Map"),rs=Sa(Object,"create");var rT=Object.prototype.hasOwnProperty;var dT=Object.prototype.hasOwnProperty;function Qn(e){var n=-1,t=null==e?0:e.length;for(this.clear();++n<t;){var i=e[n];this.set(i[0],i[1])}}Qn.prototype.clear=function tT(){this.__data__=rs?rs(null):{},this.size=0},Qn.prototype.delete=function nT(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n},Qn.prototype.get=function aT(e){var n=this.__data__;if(rs){var t=n[e];return"__lodash_hash_undefined__"===t?void 0:t}return rT.call(n,e)?n[e]:void 0},Qn.prototype.has=function uT(e){var n=this.__data__;return rs?void 0!==n[e]:dT.call(n,e)},Qn.prototype.set=function gT(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=rs&&void 0===n?"__lodash_hash_undefined__":n,this};const Wh=Qn,ko=function yT(e,n){var t=e.__data__;return function bT(e){var n=typeof e;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e}(n)?t["string"==typeof n?"string":"hash"]:t.map};function Kn(e){var n=-1,t=null==e?0:e.length;for(this.clear();++n<t;){var i=e[n];this.set(i[0],i[1])}}Kn.prototype.clear=function mT(){this.size=0,this.__data__={hash:new Wh,map:new(Uh||Co),string:new Wh}},Kn.prototype.delete=function xT(e){var n=ko(this,e).delete(e);return this.size-=n?1:0,n},Kn.prototype.get=function ST(e){return ko(this,e).get(e)},Kn.prototype.has=function NT(e){return ko(this,e).has(e)},Kn.prototype.set=function CT(e,n){var t=ko(this,e),i=t.size;return t.set(e,n),this.size+=t.size==i?0:1,this};const ET=Kn;function qn(e){var n=this.__data__=new Co(e);this.size=n.size}qn.prototype.clear=function sN(){this.__data__=new Co,this.size=0},qn.prototype.delete=function rN(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t},qn.prototype.get=function lN(e){return this.__data__.get(e)},qn.prototype.has=function dN(e){return this.__data__.has(e)},qn.prototype.set=function OT(e,n){var t=this.__data__;if(t instanceof Co){var i=t.__data__;if(!Uh||i.length<199)return i.push([e,n]),this.size=++t.size,this;t=this.__data__=new ET(i)}return t.set(e,n),this.size=t.size,this};const IT=qn;var PT=function(){try{var e=Sa(Object,"defineProperty");return e({},"",{}),e}catch(n){}}();const Oo=PT,Da=function RT(e,n,t){"__proto__"==n&&Oo?Oo(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t},Na=function FT(e,n,t){(void 0!==t&&!No(e[n],t)||void 0===t&&!(n in e))&&Da(e,n,t)};var BT=function LT(e){return function(n,t,i){for(var s=-1,o=Object(n),a=i(n),l=a.length;l--;){var c=a[e?l:++s];if(!1===t(o[c],c,o))break}return n}}();const GT=BT;var $h="object"==typeof exports&&exports&&!exports.nodeType&&exports,Yh=$h&&"object"==typeof module&&module&&!module.nodeType&&module,Zh=Yh&&Yh.exports===$h?Jn.Buffer:void 0,Xh=Zh?Zh.allocUnsafe:void 0;const Jh=Jn.Uint8Array,YT=function $T(e,n){var t=n?function UT(e){var n=new e.constructor(e.byteLength);return new Jh(n).set(new Jh(e)),n}(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)};var Qh=Object.create,JT=function(){function e(){}return function(n){if(!Dn(n))return{};if(Qh)return Qh(n);e.prototype=n;var t=new e;return e.prototype=void 0,t}}();const QT=JT;var qT=function KT(e,n){return function(t){return e(n(t))}}(Object.getPrototypeOf,Object);const Kh=qT;var tC=Object.prototype;const qh=function eC(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||tC)},as=function sC(e){return null!=e&&"object"==typeof e},tf=function rC(e){return as(e)&&"[object Arguments]"==Eo(e)};var ef=Object.prototype,aC=ef.hasOwnProperty,lC=ef.propertyIsEnumerable,cC=tf(function(){return arguments}())?tf:function(e){return as(e)&&aC.call(e,"callee")&&!lC.call(e,"callee")};const Ta=cC,Ca=Array.isArray,nf=function hC(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Ma=function fC(e){return null!=e&&nf(e.length)&&!xa(e)};var sf="object"==typeof exports&&exports&&!exports.nodeType&&exports,rf=sf&&"object"==typeof module&&module&&!module.nodeType&&module,af=rf&&rf.exports===sf?Jn.Buffer:void 0;const lf=(af?af.isBuffer:void 0)||function mC(){return!1};var cf=Function.prototype.toString,DC=Object.prototype.hasOwnProperty,NC=cf.call(Object);var Ft={};Ft["[object Float32Array]"]=Ft["[object Float64Array]"]=Ft["[object Int8Array]"]=Ft["[object Int16Array]"]=Ft["[object Int32Array]"]=Ft["[object Uint8Array]"]=Ft["[object Uint8ClampedArray]"]=Ft["[object Uint16Array]"]=Ft["[object Uint32Array]"]=!0,Ft["[object Arguments]"]=Ft["[object Array]"]=Ft["[object ArrayBuffer]"]=Ft["[object Boolean]"]=Ft["[object DataView]"]=Ft["[object Date]"]=Ft["[object Error]"]=Ft["[object Function]"]=Ft["[object Map]"]=Ft["[object Number]"]=Ft["[object Object]"]=Ft["[object RegExp]"]=Ft["[object Set]"]=Ft["[object String]"]=Ft["[object WeakMap]"]=!1;var df="object"==typeof exports&&exports&&!exports.nodeType&&exports,ls=df&&"object"==typeof module&&module&&!module.nodeType&&module,Ea=ls&&ls.exports===df&&Hh.process,iM=function(){try{return ls&&ls.require&&ls.require("util").types||Ea&&Ea.binding&&Ea.binding("util")}catch(n){}}(),hf=iM&&iM.isTypedArray;const ff=hf?function tM(e){return function(n){return e(n)}}(hf):function KC(e){return as(e)&&nf(e.length)&&!!Ft[Eo(e)]},ka=function oM(e,n){if(("constructor"!==n||"function"!=typeof e[n])&&"__proto__"!=n)return e[n]};var aM=Object.prototype.hasOwnProperty;const cM=function lM(e,n,t){var i=e[n];(!aM.call(e,n)||!No(i,t)||void 0===t&&!(n in e))&&Da(e,n,t)};var pM=/^(?:0|[1-9]\d*)$/;const gf=function mM(e,n){var t=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==t||"symbol"!=t&&pM.test(e))&&e>-1&&e%1==0&&e<n};var bM=Object.prototype.hasOwnProperty;const yM=function vM(e,n){var t=Ca(e),i=!t&&Ta(e),s=!t&&!i&&lf(e),o=!t&&!i&&!s&&ff(e),a=t||i||s||o,l=a?function hM(e,n){for(var t=-1,i=Array(e);++t<e;)i[t]=n(t);return i}(e.length,String):[],c=l.length;for(var d in e)(n||bM.call(e,d))&&(!a||!("length"==d||s&&("offset"==d||"parent"==d)||o&&("buffer"==d||"byteLength"==d||"byteOffset"==d)||gf(d,c)))&&l.push(d);return l};var DM=Object.prototype.hasOwnProperty;const TM=function NM(e){if(!Dn(e))return function xM(e){var n=[];if(null!=e)for(var t in Object(e))n.push(t);return n}(e);var n=qh(e),t=[];for(var i in e)"constructor"==i&&(n||!DM.call(e,i))||t.push(i);return t},pf=function CM(e){return Ma(e)?yM(e,!0):TM(e)},EM=function MM(e){return function dM(e,n,t,i){var s=!t;t||(t={});for(var o=-1,a=n.length;++o<a;){var l=n[o],c=i?i(t[l],e[l],l,t,e):void 0;void 0===c&&(c=e[l]),s?Da(t,l,c):cM(t,l,c)}return t}(e,pf(e))},OM=function kM(e,n,t,i,s,o,a){var l=ka(e,t),c=ka(n,t),d=a.get(c);if(d)Na(e,t,d);else{var u=o?o(l,c,t+"",e,n,a):void 0,m=void 0===u;if(m){var v=Ca(c),N=!v&&lf(c),E=!v&&!N&&ff(c);u=c,v||N||E?Ca(l)?u=l:function gC(e){return as(e)&&Ma(e)}(l)?u=function ZT(e,n){var t=-1,i=e.length;for(n||(n=Array(i));++t<i;)n[t]=e[t];return n}(l):N?(m=!1,u=function VT(e,n){if(n)return e.slice();var t=e.length,i=Xh?Xh(t):new e.constructor(t);return e.copy(i),i}(c,!0)):E?(m=!1,u=YT(c,!0)):u=[]:function TC(e){if(!as(e)||"[object Object]"!=Eo(e))return!1;var n=Kh(e);if(null===n)return!0;var t=DC.call(n,"constructor")&&n.constructor;return"function"==typeof t&&t instanceof t&&cf.call(t)==NC}(c)||Ta(c)?(u=l,Ta(l)?u=EM(l):(!Dn(l)||xa(l))&&(u=function nC(e){return"function"!=typeof e.constructor||qh(e)?{}:QT(Kh(e))}(c))):m=!1}m&&(a.set(c,u),s(u,c,i,o,a),a.delete(c)),Na(e,t,u)}},AM=function mf(e,n,t,i,s){e!==n&&GT(n,function(o,a){if(s||(s=new IT),Dn(o))OM(e,n,a,t,mf,i,s);else{var l=i?i(ka(e,a),o,a+"",e,n,s):void 0;void 0===l&&(l=o),Na(e,a,l)}},pf)},_f=function IM(e){return e},RM=function PM(e,n,t){switch(t.length){case 0:return e.call(n);case 1:return e.call(n,t[0]);case 2:return e.call(n,t[0],t[1]);case 3:return e.call(n,t[0],t[1],t[2])}return e.apply(n,t)};var bf=Math.max;const GM=function BM(e){return function(){return e}};var HM=Oo?function(e,n){return Oo(e,"toString",{configurable:!0,enumerable:!1,value:GM(n),writable:!0})}:_f,UM=Date.now,$M=function WM(e){var n=0,t=0;return function(){var i=UM(),s=16-(i-t);if(t=i,s>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}(HM);const YM=$M,XM=function ZM(e,n){return YM(function FM(e,n,t){return n=bf(void 0===n?e.length-1:n,0),function(){for(var i=arguments,s=-1,o=bf(i.length-n,0),a=Array(o);++s<o;)a[s]=i[n+s];s=-1;for(var l=Array(n+1);++s<n;)l[s]=i[s];return l[n]=t(a),RM(e,this,l)}}(e,n,_f),e+"")};var qM=function KM(e){return XM(function(n,t){var i=-1,s=t.length,o=s>1?t[s-1]:void 0,a=s>2?t[2]:void 0;for(o=e.length>3&&"function"==typeof o?(s--,o):void 0,a&&function JM(e,n,t){if(!Dn(t))return!1;var i=typeof n;return!!("number"==i?Ma(t)&&gf(n,t.length):"string"==i&&n in t)&&No(t[n],e)}(t[0],t[1],a)&&(o=s<3?void 0:o,s=1),n=Object(n);++i<s;){var l=t[i];l&&e(n,l,i,o)}return n})}(function(e,n,t){AM(e,n,t)});const vf=qM;let tE=(()=>{class e{constructor(){this.colorschemesOptions=new We.X(void 0)}setColorschemesOptions(t){this.pColorschemesOptions=t,this.colorschemesOptions.next(t)}getColorschemesOptions(){return this.pColorschemesOptions}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Oa=(()=>{class e{constructor(t,i,s){this.element=t,this.zone=i,this.themeService=s,this.type="bar",this.plugins=[],this.chartClick=new r.vpe,this.chartHover=new r.vpe,this.subs=[],this.ctx=t.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe((0,As.x)()).subscribe(o=>this.themeChanged(o)))}ngOnChanges(t){const i=["type"],s=Object.getOwnPropertyNames(t);if(s.some(o=>i.includes(o))||s.every(o=>t[o].isFirstChange()))this.render();else{const o=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,o.data),Object.assign(this.chart.config.plugins,o.plugins),Object.assign(this.chart.config.options,o.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(t=>t.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new Te(this.ctx,this.getChartConfiguration()))}update(t){this.chart&&this.zone.runOutsideAngular(()=>{var i;return null===(i=this.chart)||void 0===i?void 0:i.update(t)})}hideDataset(t,i){this.chart&&(this.chart.getDatasetMeta(t).hidden=i,this.update())}isDatasetHidden(t){var i,s;return null===(s=null===(i=this.chart)||void 0===i?void 0:i.getDatasetMeta(t))||void 0===s?void 0:s.hidden}toBase64Image(){var t;return null===(t=this.chart)||void 0===t?void 0:t.toBase64Image()}themeChanged(t){this.themeOverrides=t,this.chart&&(Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return vf({onHover:(t,i)=>{!this.chartHover.observed&&!this.chartHover.observers.length||this.zone.run(()=>this.chartHover.emit({event:t,active:i}))},onClick:(t,i)=>{!this.chartClick.observed&&!this.chartClick.observers.length||this.zone.run(()=>this.chartClick.emit({event:t,active:i}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),plugins:this.plugins,options:this.getChartOptions()}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(tE))},e.\u0275dir=r.lG2({type:e,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[r.TTD]}),e})();const eE=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],nE={datasets:{line:{backgroundColor:e=>ae(le(e.datasetIndex),.4),borderColor:e=>ae(le(e.datasetIndex),1),pointBackgroundColor:e=>ae(le(e.datasetIndex),1),pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:e=>ae(le(e.datasetIndex),.8)},bar:{backgroundColor:e=>ae(le(e.datasetIndex),.6),borderColor:e=>ae(le(e.datasetIndex),1),hoverBackgroundColor:e=>ae(le(e.datasetIndex),.8),hoverBorderColor:e=>ae(le(e.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:e=>ae(le(e.dataIndex),.6),borderColor:"#fff",hoverBackgroundColor:e=>ae(le(e.dataIndex),1),hoverBorderColor:e=>ae(le(e.dataIndex),1)},get pie(){return this.doughnut},polarArea:{backgroundColor:e=>ae(le(e.dataIndex),.6),borderColor:e=>ae(le(e.dataIndex),1),hoverBackgroundColor:e=>ae(le(e.dataIndex),.8),hoverBorderColor:e=>ae(le(e.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function ae(e,n){return"rgba("+e.concat(n).join(",")+")"}function Aa(e,n){return Math.floor(Math.random()*(n-e+1))+e}function le(e=0){return eE[e]||function iE(){return[Aa(0,255),Aa(0,255),Aa(0,255)]}()}Te.register(Qu,sh,Yu,Ju,Wr,Xi,Lu,ho,Ki,eu,Ji,Ur,Zi,ou,$n,su,iu,nu,ru,po);let yf=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),sE=(()=>{class e{constructor(t){null!=t&&t.plugins&&Te.register(...null==t?void 0:t.plugins);const i=vf(nE,(null==t?void 0:t.defaults)||{});Ct.set(i)}static forRoot(t){return{ngModule:e,providers:[{provide:yf,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(yf,8))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[]]}),e})();Te.register(Bh);let xf=(()=>{class e{constructor(){this.dates=[],this.values=[],this.lineChartPlugins=[Bh]}ngAfterContentInit(){var t;this.lineChartData={datasets:[{data:this.values,label:this.label,backgroundColor:"rgba(148,159,177,0.2)",borderColor:this.graphColor,pointBackgroundColor:this.graphColor,pointBorderColor:"#fff",pointHoverBackgroundColor:this.graphColor,pointHoverBorderColor:this.graphColor}],labels:this.dates},this.yAxisMiddleValue$=Math.max(...this.values)/2,this.lineChartType=this.chartType,this.lineChartOptions={elements:{line:{tension:.5}},responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{display:!1}},"y-axis-0":{position:"left",title:{display:!0,text:this.measurementUnits},min:0}},plugins:{legend:{display:!1},tooltip:{bodyFont:{weight:"bold"},borderColor:"#E0E6EB",borderWidth:2,caretPadding:15,displayColors:!1,enabled:!0,intersect:!1,mode:"x",padding:15,callbacks:{afterLabel:()=>this.tooltipAfterLabel}},annotation:{annotations:{line1:{type:"line",scaleID:"y-axis-0",yScaleID:"y-axis-0",value:this.yAxisMiddleValue$,yMin:this.yAxisMiddleValue$,yMax:this.yAxisMiddleValue$,borderColor:"#668499",borderWidth:1,borderDash:[6,10]}}}}},0===this.values.length&&(this.lineChartOptions.plugins.annotation.annotations.label1={type:"label",yValue:.5,position:"center",backgroundColor:"rgba(245, 245, 245)",content:this.emptyChartLabel,font:{size:18}}),null===(t=this.chart)||void 0===t||t.update()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["dxp-dc-ch-dashboard-line-chart"]],viewQuery:function(t,i){if(1&t&&r.Gf(Oa,5),2&t){let s;r.iGM(s=r.CRH())&&(i.chart=s.first)}},inputs:{dates:"dates",values:"values",label:"label",tooltipAfterLabel:"tooltipAfterLabel",measurementUnits:"measurementUnits",chartType:"chartType",graphColor:"graphColor",emptyChartLabel:"emptyChartLabel"},decls:4,vars:4,consts:[[1,"flex"],[1,"flex-item"],[2,"display","block"],["baseChart","","height","300",3,"type","data","options","plugins"]],template:function(t,i){1&t&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2),r._UZ(3,"canvas",3),r.qZA()()()),2&t&&(r.xp6(3),r.Q6J("type",i.lineChartType)("data",i.lineChartData)("options",i.lineChartOptions)("plugins",i.lineChartPlugins))},dependencies:[Oa],styles:["canvas[_ngcontent-%COMP%]{padding:.75rem}"]}),e})();function oE(e,n){if(1&e&&(r.TgZ(0,"div",11),r._UZ(1,"div",12),r.TgZ(2,"span",13),r._uU(3,"[ContentHub]"),r.qZA(),r._uU(4),r._UZ(5,"span",14),r.qZA()),2&e){const t=n.ngIf,i=r.oxw(3);r.xp6(1),r.Q6J("ngClass",i.getBadgeByStatus(t)),r.xp6(3),r.hij(" ",t," "),r.xp6(1),r.Q6J("ngbTooltip",i.getDescriptionByStatus(t))}}function rE(e,n){if(1&e&&(r.ynx(0)(1),r._UZ(2,"dxp-dc-ch-dashboard-line-chart",15),r.ALo(3,"translate"),r.ALo(4,"translate"),r.ALo(5,"translate"),r.BQk()()),2&e){const t=r.oxw().ngIf,i=r.oxw(2).ngIf,s=r.oxw();r.xp6(2),r.Q6J("dates",t)("values",i.artValues)("label",r.lcZ(3,7,"[AvgResponseTime]"))("tooltipAfterLabel",r.lcZ(4,9,"[milliseconds]"))("measurementUnits",r.lcZ(5,11,"[milliseconds]"))("chartType","line")("graphColor",s.graphColor)}}function aE(e,n){if(1&e&&(r.ynx(0),r.YNc(1,rE,6,13,"ng-container",9),r.BQk()),2&e){const t=n.ngIf;r.oxw();const i=r.MAs(3);r.xp6(1),r.Q6J("ngIf",t.length>0)("ngIfElse",i)}}function lE(e,n){1&e&&(r.TgZ(0,"div",16)(1,"div",17)(2,"div",18)(3,"div",19)(4,"h2",13),r._uU(5," [NoSystemHealth] "),r.qZA()()()()())}function cE(e,n){if(1&e&&(r.YNc(0,oE,6,3,"div",8),r.YNc(1,aE,2,2,"ng-container",9),r.YNc(2,lE,6,0,"ng-template",null,10,r.W1O)),2&e){const t=r.MAs(3),i=r.oxw().ngIf;r.Q6J("ngIf",i.plexusStatus),r.xp6(1),r.Q6J("ngIf",i.artDates)("ngIfElse",t)}}function dE(e,n){if(1&e&&(r.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),r._uU(4,"[SystemHealth] "),r._UZ(5,"span",5),r.ALo(6,"translate"),r.qZA()(),r.TgZ(7,"dxp-web-ui-state-container",6),r.YNc(8,cE,4,3,"ng-template",null,7,r.W1O),r.qZA()()()),2&e){const t=n.ngIf,i=r.MAs(9);r.xp6(5),r.Q6J("ngbTooltip",r.lcZ(6,4,"[ART-WIDGET-DETAILS]")),r.xp6(2),r.Q6J("height","300px")("state",t.status)("resolved",i)}}const uE=function(e,n,t,i){return{status:e,plexusStatus:n,artDates:t,artValues:i}};let hE=(()=>{class e{constructor(t,i){this.service=t,this.translate=i,this.graphColor="#9928AF"}ngOnInit(){this.status$=this.service.status$,this.data=this.service.get(10),this.plexusStatus$=this.service.getPlexusStatus(),this.artDates$=this.data.pipe((0,Jt.U)(t=>t.map(i=>Yc()(i.date).format("MMM D")))),this.artValues$=this.data.pipe((0,Jt.U)(t=>t.map(i=>i.art)))}getBadgeByStatus(t){switch(t.toLowerCase()){case"healthy":return"ads-status-dot-success";case"ailing":return"ads-status-dot-warning";case"unhealthy":return"ads-status-dot-danger";default:return"ads-status-dot-secondary"}}getDescriptionByStatus(t){switch(t.toLowerCase()){case"healthy":return this.translate.instant("[Status-Healthy]");case"ailing":return this.translate.instant("[Status-Ailing]");case"unhealthy":return this.translate.instant("[Status-Unhealthy]");default:return this.translate.instant("[Status-Default]")}}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(g.Db),r.Y36(_.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["dxp-dc-ch-dashboard-system-health"]],decls:5,vars:14,consts:[["class","system-health",4,"ngIf"],[1,"system-health"],[1,"card"],[1,"d-flex","d-inline-block","justify-content-between","m-4"],["translate","",1,"card-title","system-health-title"],["placement","top",1,"fe","fe-help-circle","fe-1x","me-2","ads-status-dot","mr-2","pointer",3,"ngbTooltip"],[3,"height","state","resolved"],["resolved",""],["translate","","class","plexus-status",4,"ngIf"],[4,"ngIf","ngIfElse"],["emptyStateContainer",""],["translate","",1,"plexus-status"],[1,"me-2","ads-status-dot",3,"ngClass"],["translate",""],["placement","top-right",1,"fe","fe-help-circle","fe-1x","me-2","ads-status-dot","pointer",3,"ngbTooltip"],[3,"dates","values","label","tooltipAfterLabel","measurementUnits","chartType","graphColor"],[1,"empty"],[1,"card-body","text-center"],[1,"row","justify-content-center"],[1,"col-12","col-md-10","col-xl-8"]],template:function(t,i){1&t&&(r.YNc(0,dE,10,6,"div",0),r.ALo(1,"async"),r.ALo(2,"async"),r.ALo(3,"async"),r.ALo(4,"async")),2&t&&r.Q6J("ngIf",r.l5B(9,uE,r.lcZ(1,1,i.status$),r.lcZ(2,3,i.plexusStatus$),r.lcZ(3,5,i.artDates$),r.lcZ(4,7,i.artValues$)))},dependencies:[D.mk,D.O5,_.Pi,cn.q,Vs,xf,D.Ov,_.X$],styles:[".system-health-title[_ngcontent-%COMP%]{max-width:calc(100% - 135px);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.plexus-status[_ngcontent-%COMP%]{position:absolute;right:1.5rem;top:-3.5rem}"],changeDetection:0}),e})();const fE=function(e,n){return[e,n]};function gE(e,n){if(1&e&&(r.ynx(0)(1),r._UZ(2,"dxp-dc-ch-dashboard-line-chart",10),r.ALo(3,"translate"),r.ALo(4,"translate"),r.ALo(5,"translate"),r.ALo(6,"translate"),r.ALo(7,"translate"),r.BQk()()),2&e){const t=r.oxw().ngIf,i=r.oxw(2).ngIf,s=r.oxw();r.xp6(2),r.Q6J("dates",t)("values",i.astValues)("label",r.lcZ(3,8,"[AvgSyndicationTime]"))("tooltipAfterLabel",r.lcZ(4,10,"[seconds]"))("measurementUnits",r.lcZ(5,12,"[seconds]"))("chartType","line")("graphColor",s.graphColor)("emptyChartLabel",r.WLB(18,fE,r.lcZ(6,14,"[NoAverageSyndicationTime10days1]"),r.lcZ(7,16,"[NoAverageSyndicationTime10days2]")))}}function pE(e,n){if(1&e&&(r.ynx(0),r.YNc(1,gE,8,21,"ng-container",8),r.BQk()),2&e){const t=n.ngIf;r.oxw();const i=r.MAs(2);r.xp6(1),r.Q6J("ngIf",t)("ngIfElse",i)}}function mE(e,n){1&e&&(r.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"div",14)(4,"h2",15),r._uU(5," [NoAverageSyndicationTime] "),r.qZA()()()()())}function _E(e,n){if(1&e&&(r.YNc(0,pE,2,2,"ng-container",8),r.YNc(1,mE,6,0,"ng-template",null,9,r.W1O)),2&e){const t=r.MAs(2),i=r.oxw().ngIf;r.Q6J("ngIf",i.astDates)("ngIfElse",t)}}function bE(e,n){if(1&e&&(r.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),r._uU(4,"[AverageSyndicationTime] "),r._UZ(5,"span",5),r.ALo(6,"translate"),r.qZA()(),r.TgZ(7,"dxp-web-ui-state-container",6),r.YNc(8,_E,3,2,"ng-template",null,7,r.W1O),r.qZA()()()),2&e){const t=n.ngIf,i=r.MAs(9);r.xp6(5),r.Q6J("ngbTooltip",r.lcZ(6,4,"[AST-WIDGET-DETAILS]")),r.xp6(2),r.Q6J("height","300px")("state",t.status)("resolved",i)}}const vE=function(e,n,t){return{status:e,astDates:n,astValues:t}};let yE=(()=>{class e{constructor(t,i){this.service=t,this.translate=i,this.graphColor="#005E9A"}ngOnInit(){this.status$=this.service.status$,this.data$=this.service.get(10),this.astDates$=this.data$.pipe((0,Jt.U)(t=>t.map(i=>Yc()(i.date).format("MMM D")))),this.astValues$=this.data$.pipe((0,Jt.U)(t=>t.map(i=>i.ast)))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(g.Sn),r.Y36(_.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["dxp-dc-ch-dashboard-average-syndication-time"]],decls:4,vars:11,consts:[["class","average-syndication-time",4,"ngIf"],[1,"average-syndication-time"],[1,"card"],[1,"d-flex","d-inline-block","justify-content-between","m-4"],["translate","",1,"card-title"],["placement","top",1,"fe","fe-help-circle","fe-1x","me-2","ads-status-dot","mr-2","pointer",3,"ngbTooltip"],[3,"height","state","resolved"],["resolved",""],[4,"ngIf","ngIfElse"],["emptyStateContainer",""],[3,"dates","values","label","tooltipAfterLabel","measurementUnits","chartType","graphColor","emptyChartLabel"],[1,"empty"],[1,"card-body","text-center"],[1,"row","justify-content-center"],[1,"col-12","col-md-10","col-xl-8"],["translate",""]],template:function(t,i){1&t&&(r.YNc(0,bE,10,6,"div",0),r.ALo(1,"async"),r.ALo(2,"async"),r.ALo(3,"async")),2&t&&r.Q6J("ngIf",r.kEZ(7,vE,r.lcZ(1,1,i.status$),r.lcZ(2,3,i.astDates$),r.lcZ(3,5,i.astValues$)))},dependencies:[D.O5,_.Pi,cn.q,Vs,xf,D.Ov,_.X$]}),e})(),xE=(()=>{class e{constructor(){this.legend=!0,this.labels=[],this.data=[],this.plugins=[],this.highlightXScaleIndex=-1,this.options={responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{display:!1},ticks:{color:t=>t.index===this.highlightXScaleIndex?"black":"#52697a"}}},plugins:{legend:{position:"bottom",labels:{usePointStyle:!0,pointStyle:"circle",boxWidth:10,padding:20,font:{weight:"bold"}}}}},this.colors=["#005E9A","#A0DDDE","#9928AF","#FED267","#70B812","#F8A86D","#65BEE7","#F25A9D"]}ngOnChanges(){this.data.forEach((t,i)=>{t.backgroundColor=this.colors[i],t.hoverBackgroundColor=this.colors[i],t.fill="origin"})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["dxp-dc-ch-dashboard-stacked-bar-chart"]],inputs:{legend:"legend",labels:"labels",data:"data",plugins:"plugins",highlightXScaleIndex:"highlightXScaleIndex"},features:[r.TTD],decls:1,vars:5,consts:[["baseChart","","type","bar","height","400",3,"datasets","labels","options","plugins","legend"]],template:function(t,i){1&t&&r._UZ(0,"canvas",0),2&t&&r.Q6J("datasets",i.data)("labels",i.labels)("options",i.options)("plugins",i.plugins)("legend",i.legend)},dependencies:[Oa],styles:["[_nghost-%COMP%]{display:block}canvas[_ngcontent-%COMP%]{padding:.75rem}"],changeDetection:0}),e})();function wE(e,n){1&e&&r._UZ(0,"span",22)}function SE(e,n){1&e&&r._UZ(0,"span",23)}function DE(e,n){1&e&&r._UZ(0,"span",24)}function NE(e,n){1&e&&r._UZ(0,"span",25)}function TE(e,n){1&e&&r._UZ(0,"span",23)}function CE(e,n){1&e&&r._UZ(0,"span",26)}function ME(e,n){1&e&&r._UZ(0,"span",23)}function EE(e,n){1&e&&r._UZ(0,"span",25)}function kE(e,n){1&e&&r._UZ(0,"span",23)}function OE(e,n){1&e&&r._UZ(0,"span",25)}function AE(e,n){1&e&&r._UZ(0,"span",22)}const IE=function(e,n){return[e,n]},PE=function(e){return[e]};function RE(e,n){if(1&e&&(r.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12),r._uU(5),r.qZA(),r.TgZ(6,"div",13),r._uU(7),r.qZA()(),r.TgZ(8,"div",14),r.ynx(9,15),r.YNc(10,wE,1,0,"span",16),r.YNc(11,SE,1,0,"span",17),r.YNc(12,DE,1,0,"span",18),r.YNc(13,NE,1,0,"span",19),r.YNc(14,TE,1,0,"span",17),r.YNc(15,CE,1,0,"span",20),r.YNc(16,ME,1,0,"span",17),r.YNc(17,EE,1,0,"span",19),r.YNc(18,kE,1,0,"span",17),r.YNc(19,OE,1,0,"span",19),r.YNc(20,AE,1,0,"span",21),r.BQk(),r.qZA()()()()),2&e){const t=n.$implicit,i=r.oxw(3).ngIf;r.Q6J("ngClass",r.WLB(16,IE,i.aggregatedData.length>3?"mb-1":"mb-5",i.aggregatedData.length>8?"over-eight":"")),r.xp6(5),r.hij("[",t.status,"]"),r.xp6(1),r.Q6J("ngClass",i.aggregatedData.length>6?"text-xs semi-bold ms-2":"text-lg d-block"),r.xp6(1),r.hij(" ",t.count," "),r.xp6(1),r.Q6J("ngClass",r.VKq(19,PE,i.aggregatedData.length>9?"text-md":"text-lg")),r.xp6(1),r.Q6J("ngSwitch",t.status),r.xp6(1),r.Q6J("ngSwitchCase","UNKNOWN"),r.xp6(1),r.Q6J("ngSwitchCase","READY-FOR-SYNDICATION"),r.xp6(1),r.Q6J("ngSwitchCase","SYNDICATION-IN-PROGRESS"),r.xp6(1),r.Q6J("ngSwitchCase","SYNDICATION-FAILED"),r.xp6(1),r.Q6J("ngSwitchCase","SYNDICATION-SUCCESSFUL"),r.xp6(1),r.Q6J("ngSwitchCase","QUEUED-TO-EXPORT"),r.xp6(1),r.Q6J("ngSwitchCase","EXPORT-SUCCESSFUL"),r.xp6(1),r.Q6J("ngSwitchCase","EXPORT-FAILED"),r.xp6(1),r.Q6J("ngSwitchCase","IMPORT-SUCCESSFUL"),r.xp6(1),r.Q6J("ngSwitchCase","IMPORT-FAILED")}}function FE(e,n){if(1&e&&(r.TgZ(0,"div",6),r.YNc(1,RE,21,21,"div",7),r.qZA()),2&e){const t=r.oxw(2).ngIf;r.xp6(1),r.Q6J("ngForOf",t.aggregatedData)}}function LE(e,n){1&e&&(r.TgZ(0,"div",27)(1,"div",28)(2,"div",29)(3,"div",30)(4,"h2",31),r._uU(5," [NoSyndicationData] "),r.qZA()()()()())}function BE(e,n){if(1&e&&(r.YNc(0,FE,2,1,"div",4),r.YNc(1,LE,6,0,"ng-template",null,5,r.W1O)),2&e){const t=r.MAs(2),i=r.oxw().ngIf;r.Q6J("ngIf",i.aggregatedData&&i.aggregatedData.length)("ngIfElse",t)}}function GE(e,n){if(1&e&&(r.TgZ(0,"div",1)(1,"dxp-web-ui-state-container",2),r.YNc(2,BE,3,2,"ng-template",null,3,r.W1O),r.qZA()()),2&e){const t=n.ngIf,i=r.MAs(3);r.xp6(1),r.Q6J("state",t.status)("resolved",i)}}const HE=function(e,n){return{status:e,aggregatedData:n}};let VE=(()=>{class e{constructor(t){this.syndicationStatusDetailService=t}ngOnInit(){this.status$=this.syndicationStatusDetailService.status$,this.aggregatedData$=this.syndicationStatusDetailService.getAggregatedData$(this.syndicationStatus$)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(g.uP))},e.\u0275cmp=r.Xpm({type:e,selectors:[["dxp-dc-ch-dashboard-syndication-status-count"]],inputs:{syndicationStatus$:"syndicationStatus$"},decls:3,vars:8,consts:[["class","syndication-status-count h-100 d-flex flex-column",4,"ngIf"],[1,"syndication-status-count","h-100","d-flex","flex-column"],[3,"state","resolved"],["resolved",""],["class","h-100 d-flex flex-column",4,"ngIf","ngIfElse"],["emptyStateContainer",""],[1,"h-100","d-flex","flex-column"],["class","row card justify-content-center flex-grow-1 mt-0 mb-1 py-2 px-5",3,"ngClass",4,"ngFor","ngForOf"],[1,"row","card","justify-content-center","flex-grow-1","mt-0","mb-1","py-2","px-5",3,"ngClass"],[1,"container"],[1,"row"],[1,"col-8"],["translate","",1,"syndication-status","text-uppercase","semi-bold","text-xs"],[1,"syndication-count",3,"ngClass"],[1,"syndication-status-icon","col-4","my-auto",3,"ngClass"],[3,"ngSwitch"],["class","fe fe-help-circle",4,"ngSwitchCase"],["class","fe fe-check-circle",4,"ngSwitchCase"],["class","fe fe-download-cloud",4,"ngSwitchCase"],["class","fe fe-alert-triangle",4,"ngSwitchCase"],["class","fe fe-clock",4,"ngSwitchCase"],["class","fe fe-help-circle",4,"ngSwitchDefault"],[1,"fe","fe-help-circle"],[1,"fe","fe-check-circle"],[1,"fe","fe-download-cloud"],[1,"fe","fe-alert-triangle"],[1,"fe","fe-clock"],[1,"empty"],[1,"card-body","text-center"],[1,"row","justify-content-center"],[1,"col-12","col-md-10","col-xl-8"],["translate",""]],template:function(t,i){1&t&&(r.YNc(0,GE,4,2,"div",0),r.ALo(1,"async"),r.ALo(2,"async")),2&t&&r.Q6J("ngIf",r.WLB(5,HE,r.lcZ(1,1,i.status$),r.lcZ(2,3,i.aggregatedData$)))},dependencies:[D.mk,D.sg,D.O5,D.RF,D.n9,D.ED,_.Pi,cn.q,D.Ov],styles:[".syndication-status-count .d-flex{justify-content:space-between}.syndication-status-count .dxp-web-ui-state-container,.syndication-status-count .dxp-web-ui-state-container__resolved{height:100%}.syndication-status-count .syndication-status{color:#52697a}.syndication-status-count .syndication-count{color:#141a1f}.syndication-status-count .syndication-status-icon{color:#668499}.syndication-status-count .syndication-status-icon span{float:right}.syndication-status-count .card{max-height:200px}.syndication-status-count .card:last-child{margin-bottom:0!important}.syndication-status-count .over-eight{padding-top:0!important;padding-bottom:0!important}\n"],encapsulation:2,changeDetection:0}),e})();function jE(e,n){1&e&&(r.TgZ(0,"span",14),r._uU(1,"[SS-WIDGET-DETAILS]"),r.qZA(),r._UZ(2,"br")(3,"br"),r.TgZ(4,"strong",14),r._uU(5,"[OnTheRight]"),r.qZA(),r.TgZ(6,"span",14),r._uU(7,"[SSC-WIDGET-DETAILS]"),r.qZA())}function zE(e,n){if(1&e&&(r.ynx(0)(1),r._UZ(2,"dxp-dc-ch-dashboard-stacked-bar-chart",17),r.BQk()()),2&e){const t=r.oxw().ngIf,i=r.oxw(2).ngIf,s=r.oxw();r.xp6(2),r.Q6J("data",t)("labels",s.getLabels(i.labels))("highlightXScaleIndex",s.findPublisherIndex(i.labels))}}function UE(e,n){if(1&e&&(r.ynx(0),r.YNc(1,zE,3,3,"ng-container",15),r.BQk()),2&e){const t=n.ngIf;r.oxw();const i=r.MAs(3);r.xp6(1),r.Q6J("ngIf",t)("ngIfElse",i)}}function WE(e,n){1&e&&(r.TgZ(0,"div",18)(1,"div",19)(2,"div",20)(3,"div",21)(4,"h2",14),r._uU(5," [NoSyndicationData] "),r.qZA()()()()())}function $E(e,n){if(1&e&&(r.YNc(0,UE,2,2,"ng-container",15),r.ALo(1,"async"),r.YNc(2,WE,6,0,"ng-template",null,16,r.W1O)),2&e){const t=r.MAs(3),i=r.oxw(2);r.Q6J("ngIf",r.lcZ(1,2,i.chartData$))("ngIfElse",t)}}const YE=function(){return{N:30}};function ZE(e,n){if(1&e&&(r.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6),r._uU(6,"[SyndicationStatus(LastNDays)] "),r.YNc(7,jE,8,0,"ng-template",null,7,r.W1O),r._UZ(9,"span",8),r.qZA(),r.TgZ(10,"a",9),r._uU(11," [ViewAllContent] "),r.qZA()(),r.TgZ(12,"dxp-web-ui-state-container",10),r.YNc(13,$E,4,4,"ng-template",null,11,r.W1O),r.qZA()()()(),r.TgZ(15,"div",12),r._UZ(16,"dxp-dc-ch-dashboard-syndication-status-count",13),r.qZA()()),2&e){const t=n.ngIf,i=r.MAs(8),s=r.MAs(14),o=r.oxw();r.xp6(5),r.Q6J("translateParams",r.DdM(6,YE)),r.xp6(4),r.Q6J("ngbTooltip",i),r.xp6(3),r.Q6J("height","300px")("state",t.status)("resolved",s),r.xp6(4),r.Q6J("syndicationStatus$",o.syndicationStatus$)}}const XE=function(e,n,t){return{status:e,chartData:n,labels:t}};let JE=(()=>{class e{constructor(t,i){this.syndicationStatusDetailService=t,this.translateService=i}ngOnInit(){this.status$=this.syndicationStatusDetailService.status$,this.syndicationStatus$=this.syndicationStatusDetailService.getStatus(),this.labels$=this.syndicationStatusDetailService.getLabels$(this.syndicationStatus$),this.chartData$=this.syndicationStatusDetailService.getData$(this.syndicationStatus$).pipe((0,Jt.U)(t=>t.map(i=>({data:i.data,label:this.translateService.instant("["+i.label+"]"),stack:i.stack}))))}getLabels(t){return t.map(i=>i.name)}findPublisherIndex(t){return t.findIndex(i=>i.isPublisher)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(g.uP),r.Y36(_.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["dxp-dc-ch-dashboard-syndication-status"]],decls:4,vars:11,consts:[["class","row syndicaton-status",4,"ngIf"],[1,"row","syndicaton-status"],[1,"col-8"],[1,"syndicaton-status-bars"],[1,"card"],[1,"d-flex","d-inline-block","justify-content-between","m-4"],["translate","",1,"card-title",3,"translateParams"],["ssTooltipContent",""],["placement","top","container","body",1,"fe","fe-help-circle","fe-1x","me-2","ads-status-dot","mr-2","pointer",3,"ngbTooltip"],["routerLink","/content","translate",""],[3,"height","state","resolved"],["resolved",""],[1,"col-4","mb-4","px-4"],[3,"syndicationStatus$"],["translate",""],[4,"ngIf","ngIfElse"],["emptyStateContainer",""],[3,"data","labels","highlightXScaleIndex"],[1,"empty"],[1,"card-body","text-center"],[1,"row","justify-content-center"],[1,"col-12","col-md-10","col-xl-8"]],template:function(t,i){1&t&&(r.YNc(0,ZE,17,7,"div",0),r.ALo(1,"async"),r.ALo(2,"async"),r.ALo(3,"async")),2&t&&r.Q6J("ngIf",r.kEZ(7,XE,r.lcZ(1,1,i.status$),r.lcZ(2,3,i.chartData$),r.lcZ(3,5,i.labels$)))},dependencies:[D.O5,S.yS,_.Pi,cn.q,Vs,xE,VE,D.Ov],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]  .dxp-web-ui-state-container{min-height:300px!important}"],changeDetection:0}),e})();function QE(e,n){if(1&e&&(r.ynx(0),r._UZ(1,"dxp-dc-ch-dashboard-syndication-status"),r.TgZ(2,"div",7)(3,"div",8),r._UZ(4,"dxp-dc-ch-dashboard-site-health"),r.qZA()(),r.TgZ(5,"div",7)(6,"div",9),r._UZ(7,"dxp-dc-ch-dashboard-system-health"),r.qZA(),r.TgZ(8,"div",9),r._UZ(9,"dxp-dc-ch-dashboard-average-syndication-time"),r.qZA()(),r.TgZ(10,"div",7)(11,"div",8),r._UZ(12,"dxp-dc-ch-dashboard-recent-logs",10),r.qZA()(),r.BQk()),2&e){const t=n.ngIf;r.xp6(12),r.Q6J("eventUrl",t.event_service_url)}}function KE(e,n){1&e&&(r.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"div",14)(4,"h2",15),r._uU(5," [NoSettingsYet] "),r.qZA()()()()())}function qE(e,n){if(1&e&&(r.YNc(0,QE,13,1,"ng-container",5),r.ynx(1),r.YNc(2,KE,6,0,"ng-template",null,6,r.W1O),r.BQk()),2&e){const t=r.MAs(3),i=r.oxw().ngIf;r.Q6J("ngIf",i.settings)("ngIfElse",t)}}function tk(e,n){if(1&e&&(r.TgZ(0,"dxp-page",1)(1,"dxp-page-title")(2,"div",2),r._uU(3,"[PublisherDashboard]"),r.qZA()(),r.TgZ(4,"dxp-page-content")(5,"dxp-web-ui-state-container",3),r.YNc(6,qE,4,2,"ng-template",null,4,r.W1O),r.qZA()()()),2&e){const t=n.ngIf,i=r.MAs(7);r.xp6(5),r.Q6J("height","400px")("state",t.status)("resolved",i)}}const ek=function(e,n){return{status:e,settings:n}};let nk=(()=>{class e{constructor(t){this.dashboardSettings=t}ngOnInit(){this.status$=this.dashboardSettings.status$,this.settings$=this.dashboardSettings.getSettings()}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(g.JS))},e.\u0275cmp=r.Xpm({type:e,selectors:[["dxp-dc-ch-dashboard"]],decls:3,vars:8,consts:[["class","dashboard",4,"ngIf"],[1,"dashboard"],["translate","",1,"font-weight-normal","font-size-lg","ch-dashboard"],[3,"height","state","resolved"],["resolved",""],[4,"ngIf","ngIfElse"],["emptyStateContainer",""],[1,"row"],[1,"col-12"],[1,"col-6"],[3,"eventUrl"],[1,"empty"],[1,"card-body","text-center"],[1,"row","justify-content-center"],[1,"col-12","col-md-10","col-xl-8"],["translate",""]],template:function(t,i){1&t&&(r.YNc(0,tk,8,3,"dxp-page",0),r.ALo(1,"async"),r.ALo(2,"async")),2&t&&r.Q6J("ngIf",r.WLB(5,ek,r.lcZ(1,1,i.status$),r.lcZ(2,3,i.settings$)))},dependencies:[D.O5,_.Pi,or.YT,or.TM,or.II,cn.q,Y_,lv,hE,yE,JE,D.Ov],changeDetection:0}),e})();const ik=[{path:"",canActivate:[nc.Gh],component:nk}];var wf=b(54057);let sk=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[D.ez,S.Bz.forChild(ik),x.Tx,F_,sE,wf.NN,_.aw.forChild(),L_.N8,f.xx,p._,w.t,h,g.iQ,wf.NN,$c]}),e})()},89545:(G,B,b)=>{G.exports={graphlib:b(56747),layout:b(36831),debug:b(90160),util:{time:b(88234).time,notime:b(88234).notime},version:b(67103)}},49404:(G,B,b)=>{"use strict";var y=b(91978),O=b(38614);G.exports={run:function C(x){var _="greedy"===x.graph().acyclicer?O(x,function f(g){return function(r){return g.edge(r).weight}}(x)):function D(x){var _=[],f={},g={};return y.forEach(x.nodes(),function r(h){y.has(g,h)||(g[h]=!0,f[h]=!0,y.forEach(x.outEdges(h),function(p){y.has(f,p.w)?_.push(p):r(p.w)}),delete f[h])}),_}(x);y.forEach(_,function(g){var r=x.edge(g);x.removeEdge(g),r.forwardName=g.name,r.reversed=!0,x.setEdge(g.w,g.v,r,y.uniqueId("rev"))})},undo:function S(x){y.forEach(x.edges(),function(_){var f=x.edge(_);if(f.reversed){x.removeEdge(_);var g=f.forwardName;delete f.reversed,delete f.forwardName,x.setEdge(_.w,_.v,f,g)}})}}},45711:(G,B,b)=>{var y=b(91978),O=b(88234);function D(S,x,_,f,g,r){var p=g[x][r-1],w=O.addDummyNode(S,"border",{width:0,height:0,rank:r,borderType:x},_);g[x][r]=w,S.setParent(w,f),p&&S.setEdge(p,w,{weight:1})}G.exports=function C(S){y.forEach(S.children(),function x(_){var f=S.children(_),g=S.node(_);if(f.length&&y.forEach(f,x),y.has(g,"minRank")){g.borderLeft=[],g.borderRight=[];for(var r=g.minRank,h=g.maxRank+1;r<h;++r)D(S,"borderLeft","_bl",_,g,r),D(S,"borderRight","_br",_,g,r)}})}},69678:(G,B,b)=>{"use strict";var y=b(91978);function D(r){y.forEach(r.nodes(),function(h){S(r.node(h))}),y.forEach(r.edges(),function(h){S(r.edge(h))})}function S(r){var h=r.width;r.width=r.height,r.height=h}function _(r){r.y=-r.y}function g(r){var h=r.x;r.x=r.y,r.y=h}G.exports={adjust:function O(r){var h=r.graph().rankdir.toLowerCase();("lr"===h||"rl"===h)&&D(r)},undo:function C(r){var h=r.graph().rankdir.toLowerCase();("bt"===h||"rl"===h)&&function x(r){y.forEach(r.nodes(),function(h){_(r.node(h))}),y.forEach(r.edges(),function(h){var p=r.edge(h);y.forEach(p.points,_),y.has(p,"y")&&_(p)})}(r),("lr"===h||"rl"===h)&&(function f(r){y.forEach(r.nodes(),function(h){g(r.node(h))}),y.forEach(r.edges(),function(h){var p=r.edge(h);y.forEach(p.points,g),y.has(p,"x")&&g(p)})}(r),D(r))}}},47943:G=>{function B(){var O={};O._next=O._prev=O,this._sentinel=O}function b(O){O._prev._next=O._next,O._next._prev=O._prev,delete O._next,delete O._prev}function y(O,C){if("_next"!==O&&"_prev"!==O)return C}G.exports=B,B.prototype.dequeue=function(){var O=this._sentinel,C=O._prev;if(C!==O)return b(C),C},B.prototype.enqueue=function(O){var C=this._sentinel;O._prev&&O._next&&b(O),O._next=C._next,C._next._prev=O,C._next=O,O._prev=C},B.prototype.toString=function(){for(var O=[],C=this._sentinel,D=C._prev;D!==C;)O.push(JSON.stringify(D,y)),D=D._prev;return"["+O.join(", ")+"]"}},90160:(G,B,b)=>{var y=b(91978),O=b(88234),C=b(56747).Graph;G.exports={debugOrdering:function D(S){var x=O.buildLayerMatrix(S),_=new C({compound:!0,multigraph:!0}).setGraph({});return y.forEach(S.nodes(),function(f){_.setNode(f,{label:f}),_.setParent(f,"layer"+S.node(f).rank)}),y.forEach(S.edges(),function(f){_.setEdge(f.v,f.w,{},f.name)}),y.forEach(x,function(f,g){_.setNode("layer"+g,{rank:"same"}),y.reduce(f,function(h,p){return _.setEdge(h,p,{style:"invis"}),p})}),_}}},56747:(G,B,b)=>{var y;try{y=b(72616)}catch(O){}y||(y=window.graphlib),G.exports=y},38614:(G,B,b)=>{var y=b(91978),O=b(56747).Graph,C=b(47943);G.exports=function S(r,h){if(r.nodeCount()<=1)return[];var p=function f(r,h){var p=new O,w=0,T=0;y.forEach(r.nodes(),function(I){p.setNode(I,{v:I,in:0,out:0})}),y.forEach(r.edges(),function(I){var L=p.edge(I.v,I.w)||0,R=h(I);p.setEdge(I.v,I.w,L+R),T=Math.max(T,p.node(I.v).out+=R),w=Math.max(w,p.node(I.w).in+=R)});var M=y.range(T+w+3).map(function(){return new C}),A=w+1;return y.forEach(p.nodes(),function(I){g(M,A,p.node(I))}),{graph:p,buckets:M,zeroIdx:A}}(r,h||D),w=function x(r,h,p){for(var A,w=[],T=h[h.length-1],M=h[0];r.nodeCount();){for(;A=M.dequeue();)_(r,h,p,A);for(;A=T.dequeue();)_(r,h,p,A);if(r.nodeCount())for(var I=h.length-2;I>0;--I)if(A=h[I].dequeue()){w=w.concat(_(r,h,p,A,!0));break}}return w}(p.graph,p.buckets,p.zeroIdx);return y.flatten(y.map(w,function(T){return r.outEdges(T.v,T.w)}),!0)};var D=y.constant(1);function _(r,h,p,w,T){var M=T?[]:void 0;return y.forEach(r.inEdges(w.v),function(A){var I=r.edge(A),L=r.node(A.v);T&&M.push({v:A.v,w:A.w}),L.out-=I,g(h,p,L)}),y.forEach(r.outEdges(w.v),function(A){var I=r.edge(A),R=r.node(A.w);R.in-=I,g(h,p,R)}),r.removeNode(w.v),M}function g(r,h,p){p.out?p.in?r[p.out-p.in+h].enqueue(p):r[r.length-1].enqueue(p):r[0].enqueue(p)}},36831:(G,B,b)=>{"use strict";var y=b(91978),O=b(49404),C=b(64499),D=b(64117),S=b(88234).normalizeRanks,x=b(73527),_=b(88234).removeEmptyRanks,f=b(13355),g=b(45711),r=b(69678),h=b(71929),p=b(27787),w=b(88234),T=b(56747).Graph;G.exports=function M(tt,rt){var ct=rt&&rt.debugTiming?w.time:w.notime;ct("layout",function(){var pt=ct("  buildLayoutGraph",function(){return function H(tt){var rt=new T({multigraph:!0,compound:!0}),ct=St(tt.graph());return rt.setGraph(y.merge({},R,_t(ct,L),y.pick(ct,U))),y.forEach(tt.nodes(),function(pt){var vt=St(tt.node(pt));rt.setNode(pt,y.defaults(_t(vt,J),K)),rt.setParent(pt,tt.parent(pt))}),y.forEach(tt.edges(),function(pt){var vt=St(tt.edge(pt));rt.setEdge(pt,y.merge({},it,_t(vt,X),y.pick(vt,F)))}),rt}(tt)});ct("  runLayout",function(){!function A(tt,rt){rt("    makeSpaceForEdgeLabels",function(){!function j(tt){var rt=tt.graph();rt.ranksep/=2,y.forEach(tt.edges(),function(ct){var pt=tt.edge(ct);pt.minlen*=2,"c"!==pt.labelpos.toLowerCase()&&("TB"===rt.rankdir||"BT"===rt.rankdir?pt.width+=pt.labeloffset:pt.height+=pt.labeloffset)})}(tt)}),rt("    removeSelfEdges",function(){!function dt(tt){y.forEach(tt.edges(),function(rt){if(rt.v===rt.w){var ct=tt.node(rt.v);ct.selfEdges||(ct.selfEdges=[]),ct.selfEdges.push({e:rt,label:tt.edge(rt)}),tt.removeEdge(rt)}})}(tt)}),rt("    acyclic",function(){O.run(tt)}),rt("    nestingGraph.run",function(){f.run(tt)}),rt("    rank",function(){D(w.asNonCompoundGraph(tt))}),rt("    injectEdgeLabelProxies",function(){!function $(tt){y.forEach(tt.edges(),function(rt){var ct=tt.edge(rt);if(ct.width&&ct.height){var pt=tt.node(rt.v),vt=tt.node(rt.w);w.addDummyNode(tt,"edge-proxy",{rank:(vt.rank-pt.rank)/2+pt.rank,e:rt},"_ep")}})}(tt)}),rt("    removeEmptyRanks",function(){_(tt)}),rt("    nestingGraph.cleanup",function(){f.cleanup(tt)}),rt("    normalizeRanks",function(){S(tt)}),rt("    assignRankMinMax",function(){!function W(tt){var rt=0;y.forEach(tt.nodes(),function(ct){var pt=tt.node(ct);pt.borderTop&&(pt.minRank=tt.node(pt.borderTop).rank,pt.maxRank=tt.node(pt.borderBottom).rank,rt=y.max(rt,pt.maxRank))}),tt.graph().maxRank=rt}(tt)}),rt("    removeEdgeLabelProxies",function(){!function Q(tt){y.forEach(tt.nodes(),function(rt){var ct=tt.node(rt);"edge-proxy"===ct.dummy&&(tt.edge(ct.e).labelRank=ct.rank,tt.removeNode(rt))})}(tt)}),rt("    normalize.run",function(){C.run(tt)}),rt("    parentDummyChains",function(){x(tt)}),rt("    addBorderSegments",function(){g(tt)}),rt("    order",function(){h(tt)}),rt("    insertSelfEdges",function(){!function lt(tt){var rt=w.buildLayerMatrix(tt);y.forEach(rt,function(ct){var pt=0;y.forEach(ct,function(vt,bt){var Nt=tt.node(vt);Nt.order=bt+pt,y.forEach(Nt.selfEdges,function(Lt){w.addDummyNode(tt,"selfedge",{width:Lt.label.width,height:Lt.label.height,rank:Nt.rank,order:bt+ ++pt,e:Lt.e,label:Lt.label},"_se")}),delete Nt.selfEdges})})}(tt)}),rt("    adjustCoordinateSystem",function(){r.adjust(tt)}),rt("    position",function(){p(tt)}),rt("    positionSelfEdges",function(){!function ft(tt){y.forEach(tt.nodes(),function(rt){var ct=tt.node(rt);if("selfedge"===ct.dummy){var pt=tt.node(ct.e.v),vt=pt.x+pt.width/2,bt=pt.y,Nt=ct.x-vt,Lt=pt.height/2;tt.setEdge(ct.e,ct.label),tt.removeNode(rt),ct.label.points=[{x:vt+2*Nt/3,y:bt-Lt},{x:vt+5*Nt/6,y:bt-Lt},{x:vt+Nt,y:bt},{x:vt+5*Nt/6,y:bt+Lt},{x:vt+2*Nt/3,y:bt+Lt}],ct.label.x=ct.x,ct.label.y=ct.y}})}(tt)}),rt("    removeBorderNodes",function(){!function ot(tt){y.forEach(tt.nodes(),function(rt){if(tt.children(rt).length){var ct=tt.node(rt),pt=tt.node(ct.borderTop),vt=tt.node(ct.borderBottom),bt=tt.node(y.last(ct.borderLeft)),Nt=tt.node(y.last(ct.borderRight));ct.width=Math.abs(Nt.x-bt.x),ct.height=Math.abs(vt.y-pt.y),ct.x=bt.x+ct.width/2,ct.y=pt.y+ct.height/2}}),y.forEach(tt.nodes(),function(rt){"border"===tt.node(rt).dummy&&tt.removeNode(rt)})}(tt)}),rt("    normalize.undo",function(){C.undo(tt)}),rt("    fixupEdgeLabelCoords",function(){!function z(tt){y.forEach(tt.edges(),function(rt){var ct=tt.edge(rt);if(y.has(ct,"x"))switch(("l"===ct.labelpos||"r"===ct.labelpos)&&(ct.width-=ct.labeloffset),ct.labelpos){case"l":ct.x-=ct.width/2+ct.labeloffset;break;case"r":ct.x+=ct.width/2+ct.labeloffset}})}(tt)}),rt("    undoCoordinateSystem",function(){r.undo(tt)}),rt("    translateGraph",function(){!function at(tt){var rt=Number.POSITIVE_INFINITY,ct=0,pt=Number.POSITIVE_INFINITY,vt=0,bt=tt.graph(),Nt=bt.marginx||0,Lt=bt.marginy||0;function Ee(Ut){var te=Ut.x,sn=Ut.y,hs=Ut.width,ni=Ut.height;rt=Math.min(rt,te-hs/2),ct=Math.max(ct,te+hs/2),pt=Math.min(pt,sn-ni/2),vt=Math.max(vt,sn+ni/2)}y.forEach(tt.nodes(),function(Ut){Ee(tt.node(Ut))}),y.forEach(tt.edges(),function(Ut){var te=tt.edge(Ut);y.has(te,"x")&&Ee(te)}),rt-=Nt,pt-=Lt,y.forEach(tt.nodes(),function(Ut){var te=tt.node(Ut);te.x-=rt,te.y-=pt}),y.forEach(tt.edges(),function(Ut){var te=tt.edge(Ut);y.forEach(te.points,function(sn){sn.x-=rt,sn.y-=pt}),y.has(te,"x")&&(te.x-=rt),y.has(te,"y")&&(te.y-=pt)}),bt.width=ct-rt+Nt,bt.height=vt-pt+Lt}(tt)}),rt("    assignNodeIntersects",function(){!function Y(tt){y.forEach(tt.edges(),function(rt){var bt,Nt,ct=tt.edge(rt),pt=tt.node(rt.v),vt=tt.node(rt.w);ct.points?(bt=ct.points[0],Nt=ct.points[ct.points.length-1]):(ct.points=[],bt=vt,Nt=pt),ct.points.unshift(w.intersectRect(pt,bt)),ct.points.push(w.intersectRect(vt,Nt))})}(tt)}),rt("    reversePoints",function(){!function nt(tt){y.forEach(tt.edges(),function(rt){var ct=tt.edge(rt);ct.reversed&&ct.points.reverse()})}(tt)}),rt("    acyclic.undo",function(){O.undo(tt)})}(pt,ct)}),ct("  updateInputGraph",function(){!function I(tt,rt){y.forEach(tt.nodes(),function(ct){var pt=tt.node(ct),vt=rt.node(ct);pt&&(pt.x=vt.x,pt.y=vt.y,rt.children(ct).length&&(pt.width=vt.width,pt.height=vt.height))}),y.forEach(tt.edges(),function(ct){var pt=tt.edge(ct),vt=rt.edge(ct);pt.points=vt.points,y.has(vt,"x")&&(pt.x=vt.x,pt.y=vt.y)}),tt.graph().width=rt.graph().width,tt.graph().height=rt.graph().height}(tt,pt)})})};var L=["nodesep","edgesep","ranksep","marginx","marginy"],R={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},U=["acyclicer","ranker","rankdir","align"],J=["width","height"],K={width:0,height:0},X=["minlen","weight","width","height","labeloffset"],it={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},F=["labelpos"];function _t(tt,rt){return y.mapValues(y.pick(tt,rt),Number)}function St(tt){var rt={};return y.forEach(tt,function(ct,pt){rt[pt.toLowerCase()]=ct}),rt}},91978:(G,B,b)=>{var y;try{y={cloneDeep:b(62574),constant:b(51413),defaults:b(73460),each:b(87160),filter:b(98059),find:b(46300),flatten:b(47707),forEach:b(72330),forIn:b(22245),has:b(65528),isUndefined:b(19850),last:b(89494),map:b(74374),mapValues:b(5706),max:b(57946),merge:b(89522),min:b(67873),minBy:b(34975),now:b(39838),pick:b(24269),range:b(18164),reduce:b(40928),sortBy:b(51014),uniqueId:b(24112),values:b(98696),zipObject:b(43794)}}catch(O){}y||(y=window._),G.exports=y},13355:(G,B,b)=>{var y=b(91978),O=b(88234);function D(f,g,r,h,p,w,T){var M=f.children(T);if(M.length){var A=O.addBorderNode(f,"_bt"),I=O.addBorderNode(f,"_bb"),L=f.node(T);f.setParent(A,T),L.borderTop=A,f.setParent(I,T),L.borderBottom=I,y.forEach(M,function(R){D(f,g,r,h,p,w,R);var U=f.node(R),J=U.borderTop?U.borderTop:R,K=U.borderBottom?U.borderBottom:R,X=U.borderTop?h:2*h,it=J!==K?1:p-w[T]+1;f.setEdge(A,J,{weight:X,minlen:it,nestingEdge:!0}),f.setEdge(K,I,{weight:X,minlen:it,nestingEdge:!0})}),f.parent(T)||f.setEdge(g,A,{weight:0,minlen:p+w[T]})}else T!==g&&f.setEdge(g,T,{weight:0,minlen:r})}G.exports={run:function C(f){var g=O.addDummyNode(f,"root",{},"_root"),r=function S(f){var g={};function r(h,p){var w=f.children(h);w&&w.length&&y.forEach(w,function(T){r(T,p+1)}),g[h]=p}return y.forEach(f.children(),function(h){r(h,1)}),g}(f),h=y.max(y.values(r))-1,p=2*h+1;f.graph().nestingRoot=g,y.forEach(f.edges(),function(T){f.edge(T).minlen*=p});var w=function x(f){return y.reduce(f.edges(),function(g,r){return g+f.edge(r).weight},0)}(f)+1;y.forEach(f.children(),function(T){D(f,g,p,w,h,r,T)}),f.graph().nodeRankFactor=p},cleanup:function _(f){var g=f.graph();f.removeNode(g.nestingRoot),delete g.nestingRoot,y.forEach(f.edges(),function(r){f.edge(r).nestingEdge&&f.removeEdge(r)})}}},64499:(G,B,b)=>{"use strict";var y=b(91978),O=b(88234);G.exports={run:function C(x){x.graph().dummyChains=[],y.forEach(x.edges(),function(_){!function D(x,_){var f=_.v,g=x.node(f).rank,r=_.w,h=x.node(r).rank,p=_.name,w=x.edge(_),T=w.labelRank;if(h!==g+1){var M,A,I;for(x.removeEdge(_),I=0,++g;g<h;++I,++g)w.points=[],M=O.addDummyNode(x,"edge",A={width:0,height:0,edgeLabel:w,edgeObj:_,rank:g},"_d"),g===T&&(A.width=w.width,A.height=w.height,A.dummy="edge-label",A.labelpos=w.labelpos),x.setEdge(f,M,{weight:w.weight},p),0===I&&x.graph().dummyChains.push(M),f=M;x.setEdge(f,r,{weight:w.weight},p)}}(x,_)})},undo:function S(x){y.forEach(x.graph().dummyChains,function(_){var r,f=x.node(_),g=f.edgeLabel;for(x.setEdge(f.edgeObj,g);f.dummy;)r=x.successors(_)[0],x.removeNode(_),g.points.push({x:f.x,y:f.y}),"edge-label"===f.dummy&&(g.x=f.x,g.y=f.y,g.width=f.width,g.height=f.height),f=x.node(_=r)})}}},46917:(G,B,b)=>{var y=b(91978);G.exports=function O(C,D,S){var _,x={};y.forEach(S,function(f){for(var r,h,g=C.parent(f);g;){if((r=C.parent(g))?(h=x[r],x[r]=g):(h=_,_=g),h&&h!==g)return void D.setEdge(h,g);g=r}})}},5806:(G,B,b)=>{var y=b(91978);G.exports=function O(C,D){return y.map(D,function(S){var x=C.inEdges(S);if(x.length){var _=y.reduce(x,function(f,g){var r=C.edge(g),h=C.node(g.v);return{sum:f.sum+r.weight*h.order,weight:f.weight+r.weight}},{sum:0,weight:0});return{v:S,barycenter:_.sum/_.weight,weight:_.weight}}return{v:S}})}},39611:(G,B,b)=>{var y=b(91978),O=b(56747).Graph;G.exports=function C(S,x,_){var f=function D(S){for(var x;S.hasNode(x=y.uniqueId("_root")););return x}(S),g=new O({compound:!0}).setGraph({root:f}).setDefaultNodeLabel(function(r){return S.node(r)});return y.forEach(S.nodes(),function(r){var h=S.node(r),p=S.parent(r);(h.rank===x||h.minRank<=x&&x<=h.maxRank)&&(g.setNode(r),g.setParent(r,p||f),y.forEach(S[_](r),function(w){var T=w.v===r?w.w:w.v,M=g.edge(T,r),A=y.isUndefined(M)?0:M.weight;g.setEdge(T,r,{weight:S.edge(w).weight+A})}),y.has(h,"minRank")&&g.setNode(r,{borderLeft:h.borderLeft[x],borderRight:h.borderRight[x]}))}),g}},43608:(G,B,b)=>{"use strict";var y=b(91978);function C(D,S,x){for(var _=y.zipObject(x,y.map(x,function(w,T){return T})),f=y.flatten(y.map(S,function(w){return y.sortBy(y.map(D.outEdges(w),function(T){return{pos:_[T.w],weight:D.edge(T).weight}}),"pos")}),!0),g=1;g<x.length;)g<<=1;var r=2*g-1;g-=1;var h=y.map(new Array(r),function(){return 0}),p=0;return y.forEach(f.forEach(function(w){var T=w.pos+g;h[T]+=w.weight;for(var M=0;T>0;)T%2&&(M+=h[T+1]),h[T=T-1>>1]+=w.weight;p+=w.weight*M})),p}G.exports=function O(D,S){for(var x=0,_=1;_<S.length;++_)x+=C(D,S[_-1],S[_]);return x}},71929:(G,B,b)=>{"use strict";var y=b(91978),O=b(52222),C=b(43608),D=b(58328),S=b(39611),x=b(46917),_=b(56747).Graph,f=b(88234);function r(w,T,M){return y.map(T,function(A){return S(w,A,M)})}function h(w,T){var M=new _;y.forEach(w,function(A){var I=A.graph().root,L=D(A,I,M,T);y.forEach(L.vs,function(R,U){A.node(R).order=U}),x(A,M,L.vs)})}function p(w,T){y.forEach(T,function(M){y.forEach(M,function(A,I){w.node(A).order=I})})}G.exports=function g(w){var T=f.maxRank(w),M=r(w,y.range(1,T+1),"inEdges"),A=r(w,y.range(T-1,-1,-1),"outEdges"),I=O(w);p(w,I);for(var R,L=Number.POSITIVE_INFINITY,U=0,J=0;J<4;++U,++J){h(U%2?M:A,U%4>=2),I=f.buildLayerMatrix(w);var K=C(w,I);K<L&&(J=0,R=y.cloneDeep(I),L=K)}p(w,R)}},52222:(G,B,b)=>{"use strict";var y=b(91978);G.exports=function O(C){var D={},S=y.filter(C.nodes(),function(r){return!C.children(r).length}),x=y.max(y.map(S,function(r){return C.node(r).rank})),_=y.map(y.range(x+1),function(){return[]}),g=y.sortBy(S,function(r){return C.node(r).rank});return y.forEach(g,function f(r){if(!y.has(D,r)){D[r]=!0;var h=C.node(r);_[h.rank].push(r),y.forEach(C.successors(r),f)}}),_}},19598:(G,B,b)=>{"use strict";var y=b(91978);G.exports=function O(S,x){var _={};return y.forEach(S,function(g,r){var h=_[g.v]={indegree:0,in:[],out:[],vs:[g.v],i:r};y.isUndefined(g.barycenter)||(h.barycenter=g.barycenter,h.weight=g.weight)}),y.forEach(x.edges(),function(g){var r=_[g.v],h=_[g.w];!y.isUndefined(r)&&!y.isUndefined(h)&&(h.indegree++,r.out.push(_[g.w]))}),function C(S){var x=[];function _(r){return function(h){h.merged||(y.isUndefined(h.barycenter)||y.isUndefined(r.barycenter)||h.barycenter>=r.barycenter)&&function D(S,x){var _=0,f=0;S.weight&&(_+=S.barycenter*S.weight,f+=S.weight),x.weight&&(_+=x.barycenter*x.weight,f+=x.weight),S.vs=x.vs.concat(S.vs),S.barycenter=_/f,S.weight=f,S.i=Math.min(x.i,S.i),x.merged=!0}(r,h)}}function f(r){return function(h){h.in.push(r),0==--h.indegree&&S.push(h)}}for(;S.length;){var g=S.pop();x.push(g),y.forEach(g.in.reverse(),_(g)),y.forEach(g.out,f(g))}return y.map(y.filter(x,function(r){return!r.merged}),function(r){return y.pick(r,["vs","i","barycenter","weight"])})}(y.filter(_,function(g){return!g.indegree}))}},58328:(G,B,b)=>{var y=b(91978),O=b(5806),C=b(19598),D=b(57442);G.exports=function S(f,g,r,h){var p=f.children(g),w=f.node(g),T=w?w.borderLeft:void 0,M=w?w.borderRight:void 0,A={};T&&(p=y.filter(p,function(K){return K!==T&&K!==M}));var I=O(f,p);y.forEach(I,function(K){if(f.children(K.v).length){var X=S(f,K.v,r,h);A[K.v]=X,y.has(X,"barycenter")&&function _(f,g){y.isUndefined(f.barycenter)?(f.barycenter=g.barycenter,f.weight=g.weight):(f.barycenter=(f.barycenter*f.weight+g.barycenter*g.weight)/(f.weight+g.weight),f.weight+=g.weight)}(K,X)}});var L=C(I,r);!function x(f,g){y.forEach(f,function(r){r.vs=y.flatten(r.vs.map(function(h){return g[h]?g[h].vs:h}),!0)})}(L,A);var R=D(L,h);if(T&&(R.vs=y.flatten([T,R.vs,M],!0),f.predecessors(T).length)){var U=f.node(f.predecessors(T)[0]),J=f.node(f.predecessors(M)[0]);y.has(R,"barycenter")||(R.barycenter=0,R.weight=0),R.barycenter=(R.barycenter*R.weight+U.order+J.order)/(R.weight+2),R.weight+=2}return R}},57442:(G,B,b)=>{var y=b(91978),O=b(88234);function D(x,_,f){for(var g;_.length&&(g=y.last(_)).i<=f;)_.pop(),x.push(g.vs),f++;return f}G.exports=function C(x,_){var f=O.partition(x,function(A){return y.has(A,"barycenter")}),g=f.lhs,r=y.sortBy(f.rhs,function(A){return-A.i}),h=[],p=0,w=0,T=0;g.sort(function S(x){return function(_,f){return _.barycenter<f.barycenter?-1:_.barycenter>f.barycenter?1:x?f.i-_.i:_.i-f.i}}(!!_)),T=D(h,r,T),y.forEach(g,function(A){T+=A.vs.length,h.push(A.vs),p+=A.barycenter*A.weight,w+=A.weight,T=D(h,r,T)});var M={vs:y.flatten(h,!0)};return w&&(M.barycenter=p/w,M.weight=w),M}},73527:(G,B,b)=>{var y=b(91978);G.exports=function O(S){var x=function D(S){var x={},_=0;return y.forEach(S.children(),function f(g){var r=_;y.forEach(S.children(g),f),x[g]={low:r,lim:_++}}),x}(S);y.forEach(S.graph().dummyChains,function(_){for(var f=S.node(_),g=f.edgeObj,r=function C(S,x,_,f){var w,T,g=[],r=[],h=Math.min(x[_].low,x[f].low),p=Math.max(x[_].lim,x[f].lim);w=_;do{w=S.parent(w),g.push(w)}while(w&&(x[w].low>h||p>x[w].lim));for(T=w,w=f;(w=S.parent(w))!==T;)r.push(w);return{path:g.concat(r.reverse()),lca:T}}(S,x,g.v,g.w),h=r.path,p=r.lca,w=0,T=h[w],M=!0;_!==g.w;){if(f=S.node(_),M){for(;(T=h[w])!==p&&S.node(T).maxRank<f.rank;)w++;T===p&&(M=!1)}if(!M){for(;w<h.length-1&&S.node(T=h[w+1]).minRank<=f.rank;)w++;T=h[w]}S.setParent(_,T),_=S.successors(_)[0]}})}},98664:(G,B,b)=>{"use strict";var y=b(91978),O=b(56747).Graph,C=b(88234);function D(L,R){var U={};return y.reduce(R,function J(K,X){var it=0,F=0,H=K.length,j=y.last(X);return y.forEach(X,function($,W){var Q=function x(L,R){if(L.node(R).dummy)return y.find(L.predecessors(R),function(U){return L.node(U).dummy})}(L,$),at=Q?L.node(Q).order:H;(Q||$===j)&&(y.forEach(X.slice(F,W+1),function(Y){y.forEach(L.predecessors(Y),function(z){var nt=L.node(z),ot=nt.order;(ot<it||at<ot)&&(!nt.dummy||!L.node(Y).dummy)&&_(U,z,Y)})}),F=W+1,it=at)}),X}),U}function S(L,R){var U={};function J(X,it,F,H,j){var $;y.forEach(y.range(it,F),function(W){L.node($=X[W]).dummy&&y.forEach(L.predecessors($),function(Q){var at=L.node(Q);at.dummy&&(at.order<H||at.order>j)&&_(U,Q,$)})})}return y.reduce(R,function K(X,it){var H,F=-1,j=0;return y.forEach(it,function($,W){if("border"===L.node($).dummy){var Q=L.predecessors($);Q.length&&(H=L.node(Q[0]).order,J(it,j,W,F,H),j=W,F=H)}J(it,j,it.length,H,X.length)}),it}),U}function _(L,R,U){if(R>U){var J=R;R=U,U=J}var K=L[R];K||(L[R]=K={}),K[U]=!0}function f(L,R,U){if(R>U){var J=R;R=U,U=J}return y.has(L[R],U)}function g(L,R,U,J){var K={},X={},it={};return y.forEach(R,function(F){y.forEach(F,function(H,j){K[H]=H,X[H]=H,it[H]=j})}),y.forEach(R,function(F){var H=-1;y.forEach(F,function(j){var $=J(j);if($.length)for(var W=(($=y.sortBy($,function(z){return it[z]})).length-1)/2,Q=Math.floor(W),at=Math.ceil(W);Q<=at;++Q){var Y=$[Q];X[j]===j&&H<it[Y]&&!f(U,j,Y)&&(X[Y]=j,X[j]=K[j]=K[Y],H=it[Y])}})}),{root:K,align:X}}function r(L,R,U,J,K){var X={},it=function h(L,R,U,J){var K=new O,X=L.graph(),it=function A(L,R,U){return function(J,K,X){var j,it=J.node(K),F=J.node(X),H=0;if(H+=it.width/2,y.has(it,"labelpos"))switch(it.labelpos.toLowerCase()){case"l":j=-it.width/2;break;case"r":j=it.width/2}if(j&&(H+=U?j:-j),j=0,H+=(it.dummy?R:L)/2,H+=(F.dummy?R:L)/2,H+=F.width/2,y.has(F,"labelpos"))switch(F.labelpos.toLowerCase()){case"l":j=F.width/2;break;case"r":j=-F.width/2}return j&&(H+=U?j:-j),j=0,H}}(X.nodesep,X.edgesep,J);return y.forEach(R,function(F){var H;y.forEach(F,function(j){var $=U[j];if(K.setNode($),H){var W=U[H],Q=K.edge(W,$);K.setEdge(W,$,Math.max(it(L,j,H),Q||0))}H=j})}),K}(L,R,U,K),F=K?"borderLeft":"borderRight";function H(W,Q){for(var at=it.nodes(),Y=at.pop(),z={};Y;)z[Y]?W(Y):(z[Y]=!0,at.push(Y),at=at.concat(Q(Y))),Y=at.pop()}return H(function j(W){X[W]=it.inEdges(W).reduce(function(Q,at){return Math.max(Q,X[at.v]+it.edge(at))},0)},it.predecessors.bind(it)),H(function $(W){var Q=it.outEdges(W).reduce(function(Y,z){return Math.min(Y,X[z.w]-it.edge(z))},Number.POSITIVE_INFINITY),at=L.node(W);Q!==Number.POSITIVE_INFINITY&&at.borderType!==F&&(X[W]=Math.max(X[W],Q))},it.successors.bind(it)),y.forEach(J,function(W){X[W]=X[U[W]]}),X}function p(L,R){return y.minBy(y.values(R),function(U){var J=Number.NEGATIVE_INFINITY,K=Number.POSITIVE_INFINITY;return y.forIn(U,function(X,it){var F=function I(L,R){return L.node(R).width}(L,it)/2;J=Math.max(X+F,J),K=Math.min(X-F,K)}),J-K})}function w(L,R){var U=y.values(R),J=y.min(U),K=y.max(U);y.forEach(["u","d"],function(X){y.forEach(["l","r"],function(it){var j,F=X+it,H=L[F];if(H!==R){var $=y.values(H);(j="l"===it?J-y.min($):K-y.max($))&&(L[F]=y.mapValues(H,function(W){return W+j}))}})})}function T(L,R){return y.mapValues(L.ul,function(U,J){if(R)return L[R.toLowerCase()][J];var K=y.sortBy(y.map(L,J));return(K[1]+K[2])/2})}G.exports={positionX:function M(L){var K,R=C.buildLayerMatrix(L),U=y.merge(D(L,R),S(L,R)),J={};y.forEach(["u","d"],function(it){K="u"===it?R:y.values(R).reverse(),y.forEach(["l","r"],function(F){"r"===F&&(K=y.map(K,function(W){return y.values(W).reverse()}));var H=("u"===it?L.predecessors:L.successors).bind(L),j=g(0,K,U,H),$=r(L,K,j.root,j.align,"r"===F);"r"===F&&($=y.mapValues($,function(W){return-W})),J[it+F]=$})});var X=p(L,J);return w(J,X),T(J,L.graph().align)},findType1Conflicts:D,findType2Conflicts:S,addConflict:_,hasConflict:f,verticalAlignment:g,horizontalCompaction:r,alignCoordinates:w,findSmallestWidthAlignment:p,balance:T}},27787:(G,B,b)=>{"use strict";var y=b(91978),O=b(88234),C=b(98664).positionX;G.exports=function D(x){(function S(x){var _=O.buildLayerMatrix(x),f=x.graph().ranksep,g=0;y.forEach(_,function(r){var h=y.max(y.map(r,function(p){return x.node(p).height}));y.forEach(r,function(p){x.node(p).y=g+h/2}),g+=h+f})})(x=O.asNonCompoundGraph(x)),y.forEach(C(x),function(_,f){x.node(f).x=_})}},51635:(G,B,b)=>{"use strict";var y=b(91978),O=b(56747).Graph,C=b(3461).slack;function S(f,g){return y.forEach(f.nodes(),function r(h){y.forEach(g.nodeEdges(h),function(p){var w=p.v,T=h===w?p.w:w;!f.hasNode(T)&&!C(g,p)&&(f.setNode(T,{}),f.setEdge(h,T,{}),r(T))})}),f.nodeCount()}function x(f,g){return y.minBy(g.edges(),function(r){if(f.hasNode(r.v)!==f.hasNode(r.w))return C(g,r)})}function _(f,g,r){y.forEach(f.nodes(),function(h){g.node(h).rank+=r})}G.exports=function D(f){var p,w,g=new O({directed:!1}),r=f.nodes()[0],h=f.nodeCount();for(g.setNode(r,{});S(g,f)<h;)p=x(g,f),w=g.hasNode(p.v)?C(f,p):-C(f,p),_(g,f,w);return g}},64117:(G,B,b)=>{"use strict";var O=b(3461).longestPath,C=b(51635),D=b(92440);G.exports=function S(g){switch(g.graph().ranker){case"network-simplex":default:!function f(g){D(g)}(g);break;case"tight-tree":!function _(g){O(g),C(g)}(g);break;case"longest-path":x(g)}};var x=O},92440:(G,B,b)=>{"use strict";var y=b(91978),O=b(51635),C=b(3461).slack,D=b(3461).longestPath,S=b(56747).alg.preorder,x=b(56747).alg.postorder,_=b(88234).simplify;function f(U){U=_(U),D(U);var K,J=O(U);for(p(J),g(J,U);K=T(J);)A(J,U,K,M(J,U,K))}function g(U,J){var K=x(U,U.nodes());K=K.slice(0,K.length-1),y.forEach(K,function(X){!function r(U,J,K){var X=U.node(K);U.edge(K,X.parent).cutvalue=h(U,J,K)}(U,J,X)})}function h(U,J,K){var it=U.node(K).parent,F=!0,H=J.edge(K,it),j=0;return H||(F=!1,H=J.edge(it,K)),j=H.weight,y.forEach(J.nodeEdges(K),function($){var W=$.v===K,Q=W?$.w:$.v;if(Q!==it){var at=W===F,Y=J.edge($).weight;if(j+=at?Y:-Y,function L(U,J,K){return U.hasEdge(J,K)}(U,K,Q)){var z=U.edge(K,Q).cutvalue;j+=at?-z:z}}}),j}function p(U,J){arguments.length<2&&(J=U.nodes()[0]),w(U,{},1,J)}function w(U,J,K,X,it){var F=K,H=U.node(X);return J[X]=!0,y.forEach(U.neighbors(X),function(j){y.has(J,j)||(K=w(U,J,K,j,X))}),H.low=F,H.lim=K++,it?H.parent=it:delete H.parent,K}function T(U){return y.find(U.edges(),function(J){return U.edge(J).cutvalue<0})}function M(U,J,K){var X=K.v,it=K.w;J.hasEdge(X,it)||(X=K.w,it=K.v);var F=U.node(X),H=U.node(it),j=F,$=!1;F.lim>H.lim&&(j=H,$=!0);var W=y.filter(J.edges(),function(Q){return $===R(0,U.node(Q.v),j)&&$!==R(0,U.node(Q.w),j)});return y.minBy(W,function(Q){return C(J,Q)})}function A(U,J,K,X){U.removeEdge(K.v,K.w),U.setEdge(X.v,X.w,{}),p(U),g(U,J),function I(U,J){var K=y.find(U.nodes(),function(it){return!J.node(it).parent}),X=S(U,K);X=X.slice(1),y.forEach(X,function(it){var F=U.node(it).parent,H=J.edge(it,F),j=!1;H||(H=J.edge(F,it),j=!0),J.node(it).rank=J.node(F).rank+(j?H.minlen:-H.minlen)})}(U,J)}function R(U,J,K){return K.low<=J.lim&&J.lim<=K.lim}G.exports=f,f.initLowLimValues=p,f.initCutValues=g,f.calcCutValue=h,f.leaveEdge=T,f.enterEdge=M,f.exchangeEdges=A},3461:(G,B,b)=>{"use strict";var y=b(91978);G.exports={longestPath:function O(D){var S={};y.forEach(D.sources(),function x(_){var f=D.node(_);if(y.has(S,_))return f.rank;S[_]=!0;var g=y.min(y.map(D.outEdges(_),function(r){return x(r.w)-D.edge(r).minlen}));return(g===Number.POSITIVE_INFINITY||null==g)&&(g=0),f.rank=g})},slack:function C(D,S){return D.node(S.w).rank-D.node(S.v).rank-D.edge(S).minlen}}},88234:(G,B,b)=>{"use strict";var y=b(91978),O=b(56747).Graph;function C(I,L,R,U){var J;do{J=y.uniqueId(U)}while(I.hasNode(J));return R.dummy=L,I.setNode(J,R),J}function w(I){return y.max(y.map(I.nodes(),function(L){var R=I.node(L).rank;if(!y.isUndefined(R))return R}))}G.exports={addDummyNode:C,simplify:function D(I){var L=(new O).setGraph(I.graph());return y.forEach(I.nodes(),function(R){L.setNode(R,I.node(R))}),y.forEach(I.edges(),function(R){var U=L.edge(R.v,R.w)||{weight:0,minlen:1},J=I.edge(R);L.setEdge(R.v,R.w,{weight:U.weight+J.weight,minlen:Math.max(U.minlen,J.minlen)})}),L},asNonCompoundGraph:function S(I){var L=new O({multigraph:I.isMultigraph()}).setGraph(I.graph());return y.forEach(I.nodes(),function(R){I.children(R).length||L.setNode(R,I.node(R))}),y.forEach(I.edges(),function(R){L.setEdge(R,I.edge(R))}),L},successorWeights:function x(I){var L=y.map(I.nodes(),function(R){var U={};return y.forEach(I.outEdges(R),function(J){U[J.w]=(U[J.w]||0)+I.edge(J).weight}),U});return y.zipObject(I.nodes(),L)},predecessorWeights:function _(I){var L=y.map(I.nodes(),function(R){var U={};return y.forEach(I.inEdges(R),function(J){U[J.v]=(U[J.v]||0)+I.edge(J).weight}),U});return y.zipObject(I.nodes(),L)},intersectRect:function f(I,L){var F,H,R=I.x,U=I.y,J=L.x-R,K=L.y-U,X=I.width/2,it=I.height/2;if(!J&&!K)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(K)*X>Math.abs(J)*it?(K<0&&(it=-it),F=it*J/K,H=it):(J<0&&(X=-X),F=X,H=X*K/J),{x:R+F,y:U+H}},buildLayerMatrix:function g(I){var L=y.map(y.range(w(I)+1),function(){return[]});return y.forEach(I.nodes(),function(R){var U=I.node(R),J=U.rank;y.isUndefined(J)||(L[J][U.order]=R)}),L},normalizeRanks:function r(I){var L=y.min(y.map(I.nodes(),function(R){return I.node(R).rank}));y.forEach(I.nodes(),function(R){var U=I.node(R);y.has(U,"rank")&&(U.rank-=L)})},removeEmptyRanks:function h(I){var L=y.min(y.map(I.nodes(),function(K){return I.node(K).rank})),R=[];y.forEach(I.nodes(),function(K){var X=I.node(K).rank-L;R[X]||(R[X]=[]),R[X].push(K)});var U=0,J=I.graph().nodeRankFactor;y.forEach(R,function(K,X){y.isUndefined(K)&&X%J!=0?--U:U&&y.forEach(K,function(it){I.node(it).rank+=U})})},addBorderNode:function p(I,L,R,U){var J={width:0,height:0};return arguments.length>=4&&(J.rank=R,J.order=U),C(I,"border",J,L)},maxRank:w,partition:function T(I,L){var R={lhs:[],rhs:[]};return y.forEach(I,function(U){L(U)?R.lhs.push(U):R.rhs.push(U)}),R},time:function M(I,L){var R=y.now();try{return L()}finally{console.log(I+" time: "+(y.now()-R)+"ms")}},notime:function A(I,L){return L()}}},67103:G=>{G.exports="0.8.5"},72616:(G,B,b)=>{var y=b(36613);G.exports={Graph:y.Graph,json:b(17828),alg:b(85734),version:y.version}},35481:(G,B,b)=>{var y=b(30263);G.exports=function O(C){var x,D={},S=[];function _(f){y.has(D,f)||(D[f]=!0,x.push(f),y.each(C.successors(f),_),y.each(C.predecessors(f),_))}return y.each(C.nodes(),function(f){x=[],_(f),x.length&&S.push(x)}),S}},86022:(G,B,b)=>{var y=b(30263);function C(D,S,x,_,f,g){y.has(_,S)||(_[S]=!0,x||g.push(S),y.each(f(S),function(r){C(D,r,x,_,f,g)}),x&&g.push(S))}G.exports=function O(D,S,x){y.isArray(S)||(S=[S]);var _=(D.isDirected()?D.successors:D.neighbors).bind(D),f=[],g={};return y.each(S,function(r){if(!D.hasNode(r))throw new Error("Graph does not have node: "+r);C(D,r,"post"===x,g,_,f)}),f}},97082:(G,B,b)=>{var y=b(7132),O=b(30263);G.exports=function C(D,S,x){return O.transform(D.nodes(),function(_,f){_[f]=y(D,f,S,x)},{})}},7132:(G,B,b)=>{var y=b(30263),O=b(35276);G.exports=function D(x,_,f,g){return function S(x,_,f,g){var p,w,r={},h=new O,T=function(M){var A=M.v!==p?M.v:M.w,I=r[A],L=f(M),R=w.distance+L;if(L<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+M+" Weight: "+L);R<I.distance&&(I.distance=R,I.predecessor=p,h.decrease(A,R))};for(x.nodes().forEach(function(M){var A=M===_?0:Number.POSITIVE_INFINITY;r[M]={distance:A},h.add(M,A)});h.size()>0&&(p=h.removeMin(),(w=r[p]).distance!==Number.POSITIVE_INFINITY);)g(p).forEach(T);return r}(x,String(_),f||C,g||function(r){return x.outEdges(r)})};var C=y.constant(1)},36554:(G,B,b)=>{var y=b(30263),O=b(3119);G.exports=function C(D){return y.filter(O(D),function(S){return S.length>1||1===S.length&&D.hasEdge(S[0],S[0])})}},27441:(G,B,b)=>{var y=b(30263);G.exports=function C(S,x,_){return function D(S,x,_){var f={},g=S.nodes();return g.forEach(function(r){f[r]={},f[r][r]={distance:0},g.forEach(function(h){r!==h&&(f[r][h]={distance:Number.POSITIVE_INFINITY})}),_(r).forEach(function(h){var p=h.v===r?h.w:h.v,w=x(h);f[r][p]={distance:w,predecessor:r}})}),g.forEach(function(r){var h=f[r];g.forEach(function(p){var w=f[p];g.forEach(function(T){var A=h[T],I=w[T],L=w[r].distance+A.distance;L<I.distance&&(I.distance=L,I.predecessor=A.predecessor)})})}),f}(S,x||O,_||function(f){return S.outEdges(f)})};var O=y.constant(1)},85734:(G,B,b)=>{G.exports={components:b(35481),dijkstra:b(7132),dijkstraAll:b(97082),findCycles:b(36554),floydWarshall:b(27441),isAcyclic:b(84471),postorder:b(34471),preorder:b(30738),prim:b(94908),tarjan:b(3119),topsort:b(8542)}},84471:(G,B,b)=>{var y=b(8542);G.exports=function O(C){try{y(C)}catch(D){if(D instanceof y.CycleException)return!1;throw D}return!0}},34471:(G,B,b)=>{var y=b(86022);G.exports=function O(C,D){return y(C,D,"post")}},30738:(G,B,b)=>{var y=b(86022);G.exports=function O(C,D){return y(C,D,"pre")}},94908:(G,B,b)=>{var y=b(30263),O=b(41230),C=b(35276);G.exports=function D(S,x){var r,_=new O,f={},g=new C;function h(w){var T=w.v===r?w.w:w.v,M=g.priority(T);if(void 0!==M){var A=x(w);A<M&&(f[T]=r,g.decrease(T,A))}}if(0===S.nodeCount())return _;y.each(S.nodes(),function(w){g.add(w,Number.POSITIVE_INFINITY),_.setNode(w)}),g.decrease(S.nodes()[0],0);for(var p=!1;g.size()>0;){if(r=g.removeMin(),y.has(f,r))_.setEdge(r,f[r]);else{if(p)throw new Error("Input graph is not connected: "+S);p=!0}S.nodeEdges(r).forEach(h)}return _}},3119:(G,B,b)=>{var y=b(30263);G.exports=function O(C){var D=0,S=[],x={},_=[];function f(g){var r=x[g]={onStack:!0,lowlink:D,index:D++};if(S.push(g),C.successors(g).forEach(function(w){y.has(x,w)?x[w].onStack&&(r.lowlink=Math.min(r.lowlink,x[w].index)):(f(w),r.lowlink=Math.min(r.lowlink,x[w].lowlink))}),r.lowlink===r.index){var p,h=[];do{p=S.pop(),x[p].onStack=!1,h.push(p)}while(g!==p);_.push(h)}}return C.nodes().forEach(function(g){y.has(x,g)||f(g)}),_}},8542:(G,B,b)=>{var y=b(30263);function O(D){var S={},x={},_=[];if(y.each(D.sinks(),function f(g){if(y.has(x,g))throw new C;y.has(S,g)||(x[g]=!0,S[g]=!0,y.each(D.predecessors(g),f),delete x[g],_.push(g))}),y.size(S)!==D.nodeCount())throw new C;return _}function C(){}G.exports=O,O.CycleException=C,C.prototype=new Error},35276:(G,B,b)=>{var y=b(30263);function O(){this._arr=[],this._keyIndices={}}G.exports=O,O.prototype.size=function(){return this._arr.length},O.prototype.keys=function(){return this._arr.map(function(C){return C.key})},O.prototype.has=function(C){return y.has(this._keyIndices,C)},O.prototype.priority=function(C){var D=this._keyIndices[C];if(void 0!==D)return this._arr[D].priority},O.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},O.prototype.add=function(C,D){var S=this._keyIndices;if(C=String(C),!y.has(S,C)){var x=this._arr,_=x.length;return S[C]=_,x.push({key:C,priority:D}),this._decrease(_),!0}return!1},O.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var C=this._arr.pop();return delete this._keyIndices[C.key],this._heapify(0),C.key},O.prototype.decrease=function(C,D){var S=this._keyIndices[C];if(D>this._arr[S].priority)throw new Error("New priority is greater than current priority. Key: "+C+" Old: "+this._arr[S].priority+" New: "+D);this._arr[S].priority=D,this._decrease(S)},O.prototype._heapify=function(C){var D=this._arr,S=2*C,x=S+1,_=C;S<D.length&&(_=D[S].priority<D[_].priority?S:_,x<D.length&&(_=D[x].priority<D[_].priority?x:_),_!==C&&(this._swap(C,_),this._heapify(_)))},O.prototype._decrease=function(C){for(var x,D=this._arr,S=D[C].priority;0!==C&&!(D[x=C>>1].priority<S);)this._swap(C,x),C=x},O.prototype._swap=function(C,D){var S=this._arr,x=this._keyIndices,_=S[C],f=S[D];S[C]=f,S[D]=_,x[f.key]=C,x[_.key]=D}},41230:(G,B,b)=>{"use strict";var y=b(30263);G.exports=S;var C="\0";function S(h){this._isDirected=!y.has(h,"directed")||h.directed,this._isMultigraph=!!y.has(h,"multigraph")&&h.multigraph,this._isCompound=!!y.has(h,"compound")&&h.compound,this._label=void 0,this._defaultNodeLabelFn=y.constant(void 0),this._defaultEdgeLabelFn=y.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[C]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function x(h,p){h[p]?h[p]++:h[p]=1}function _(h,p){--h[p]||delete h[p]}function f(h,p,w,T){var M=""+p,A=""+w;if(!h&&M>A){var I=M;M=A,A=I}return M+"\x01"+A+"\x01"+(y.isUndefined(T)?"\0":T)}function g(h,p,w,T){var M=""+p,A=""+w;if(!h&&M>A){var I=M;M=A,A=I}var L={v:M,w:A};return T&&(L.name=T),L}function r(h,p){return f(h,p.v,p.w,p.name)}S.prototype._nodeCount=0,S.prototype._edgeCount=0,S.prototype.isDirected=function(){return this._isDirected},S.prototype.isMultigraph=function(){return this._isMultigraph},S.prototype.isCompound=function(){return this._isCompound},S.prototype.setGraph=function(h){return this._label=h,this},S.prototype.graph=function(){return this._label},S.prototype.setDefaultNodeLabel=function(h){return y.isFunction(h)||(h=y.constant(h)),this._defaultNodeLabelFn=h,this},S.prototype.nodeCount=function(){return this._nodeCount},S.prototype.nodes=function(){return y.keys(this._nodes)},S.prototype.sources=function(){var h=this;return y.filter(this.nodes(),function(p){return y.isEmpty(h._in[p])})},S.prototype.sinks=function(){var h=this;return y.filter(this.nodes(),function(p){return y.isEmpty(h._out[p])})},S.prototype.setNodes=function(h,p){var w=arguments,T=this;return y.each(h,function(M){w.length>1?T.setNode(M,p):T.setNode(M)}),this},S.prototype.setNode=function(h,p){return y.has(this._nodes,h)?(arguments.length>1&&(this._nodes[h]=p),this):(this._nodes[h]=arguments.length>1?p:this._defaultNodeLabelFn(h),this._isCompound&&(this._parent[h]=C,this._children[h]={},this._children[C][h]=!0),this._in[h]={},this._preds[h]={},this._out[h]={},this._sucs[h]={},++this._nodeCount,this)},S.prototype.node=function(h){return this._nodes[h]},S.prototype.hasNode=function(h){return y.has(this._nodes,h)},S.prototype.removeNode=function(h){var p=this;if(y.has(this._nodes,h)){var w=function(T){p.removeEdge(p._edgeObjs[T])};delete this._nodes[h],this._isCompound&&(this._removeFromParentsChildList(h),delete this._parent[h],y.each(this.children(h),function(T){p.setParent(T)}),delete this._children[h]),y.each(y.keys(this._in[h]),w),delete this._in[h],delete this._preds[h],y.each(y.keys(this._out[h]),w),delete this._out[h],delete this._sucs[h],--this._nodeCount}return this},S.prototype.setParent=function(h,p){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(y.isUndefined(p))p=C;else{for(var w=p+="";!y.isUndefined(w);w=this.parent(w))if(w===h)throw new Error("Setting "+p+" as parent of "+h+" would create a cycle");this.setNode(p)}return this.setNode(h),this._removeFromParentsChildList(h),this._parent[h]=p,this._children[p][h]=!0,this},S.prototype._removeFromParentsChildList=function(h){delete this._children[this._parent[h]][h]},S.prototype.parent=function(h){if(this._isCompound){var p=this._parent[h];if(p!==C)return p}},S.prototype.children=function(h){if(y.isUndefined(h)&&(h=C),this._isCompound){var p=this._children[h];if(p)return y.keys(p)}else{if(h===C)return this.nodes();if(this.hasNode(h))return[]}},S.prototype.predecessors=function(h){var p=this._preds[h];if(p)return y.keys(p)},S.prototype.successors=function(h){var p=this._sucs[h];if(p)return y.keys(p)},S.prototype.neighbors=function(h){var p=this.predecessors(h);if(p)return y.union(p,this.successors(h))},S.prototype.isLeaf=function(h){return 0===(this.isDirected()?this.successors(h):this.neighbors(h)).length},S.prototype.filterNodes=function(h){var p=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});p.setGraph(this.graph());var w=this;y.each(this._nodes,function(A,I){h(I)&&p.setNode(I,A)}),y.each(this._edgeObjs,function(A){p.hasNode(A.v)&&p.hasNode(A.w)&&p.setEdge(A,w.edge(A))});var T={};function M(A){var I=w.parent(A);return void 0===I||p.hasNode(I)?(T[A]=I,I):I in T?T[I]:M(I)}return this._isCompound&&y.each(p.nodes(),function(A){p.setParent(A,M(A))}),p},S.prototype.setDefaultEdgeLabel=function(h){return y.isFunction(h)||(h=y.constant(h)),this._defaultEdgeLabelFn=h,this},S.prototype.edgeCount=function(){return this._edgeCount},S.prototype.edges=function(){return y.values(this._edgeObjs)},S.prototype.setPath=function(h,p){var w=this,T=arguments;return y.reduce(h,function(M,A){return T.length>1?w.setEdge(M,A,p):w.setEdge(M,A),A}),this},S.prototype.setEdge=function(){var h,p,w,T,M=!1,A=arguments[0];"object"==typeof A&&null!==A&&"v"in A?(h=A.v,p=A.w,w=A.name,2===arguments.length&&(T=arguments[1],M=!0)):(h=A,p=arguments[1],w=arguments[3],arguments.length>2&&(T=arguments[2],M=!0)),h=""+h,p=""+p,y.isUndefined(w)||(w=""+w);var I=f(this._isDirected,h,p,w);if(y.has(this._edgeLabels,I))return M&&(this._edgeLabels[I]=T),this;if(!y.isUndefined(w)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(h),this.setNode(p),this._edgeLabels[I]=M?T:this._defaultEdgeLabelFn(h,p,w);var L=g(this._isDirected,h,p,w);return h=L.v,p=L.w,Object.freeze(L),this._edgeObjs[I]=L,x(this._preds[p],h),x(this._sucs[h],p),this._in[p][I]=L,this._out[h][I]=L,this._edgeCount++,this},S.prototype.edge=function(h,p,w){var T=1===arguments.length?r(this._isDirected,arguments[0]):f(this._isDirected,h,p,w);return this._edgeLabels[T]},S.prototype.hasEdge=function(h,p,w){var T=1===arguments.length?r(this._isDirected,arguments[0]):f(this._isDirected,h,p,w);return y.has(this._edgeLabels,T)},S.prototype.removeEdge=function(h,p,w){var T=1===arguments.length?r(this._isDirected,arguments[0]):f(this._isDirected,h,p,w),M=this._edgeObjs[T];return M&&(h=M.v,p=M.w,delete this._edgeLabels[T],delete this._edgeObjs[T],_(this._preds[p],h),_(this._sucs[h],p),delete this._in[p][T],delete this._out[h][T],this._edgeCount--),this},S.prototype.inEdges=function(h,p){var w=this._in[h];if(w){var T=y.values(w);return p?y.filter(T,function(M){return M.v===p}):T}},S.prototype.outEdges=function(h,p){var w=this._out[h];if(w){var T=y.values(w);return p?y.filter(T,function(M){return M.w===p}):T}},S.prototype.nodeEdges=function(h,p){var w=this.inEdges(h,p);if(w)return w.concat(this.outEdges(h,p))}},36613:(G,B,b)=>{G.exports={Graph:b(41230),version:b(7416)}},17828:(G,B,b)=>{var y=b(30263),O=b(41230);function D(_){return y.map(_.nodes(),function(f){var g=_.node(f),r=_.parent(f),h={v:f};return y.isUndefined(g)||(h.value=g),y.isUndefined(r)||(h.parent=r),h})}function S(_){return y.map(_.edges(),function(f){var g=_.edge(f),r={v:f.v,w:f.w};return y.isUndefined(f.name)||(r.name=f.name),y.isUndefined(g)||(r.value=g),r})}G.exports={write:function C(_){var f={options:{directed:_.isDirected(),multigraph:_.isMultigraph(),compound:_.isCompound()},nodes:D(_),edges:S(_)};return y.isUndefined(_.graph())||(f.value=y.clone(_.graph())),f},read:function x(_){var f=new O(_.options).setGraph(_.value);return y.each(_.nodes,function(g){f.setNode(g.v,g.value),g.parent&&f.setParent(g.v,g.parent)}),y.each(_.edges,function(g){f.setEdge({v:g.v,w:g.w,name:g.name},g.value)}),f}}},30263:(G,B,b)=>{var y;try{y={clone:b(80650),constant:b(51413),each:b(87160),filter:b(98059),has:b(65528),isArray:b(11258),isEmpty:b(86399),isFunction:b(59859),isUndefined:b(19850),keys:b(9682),map:b(74374),reduce:b(40928),size:b(19535),transform:b(6102),union:b(56246),values:b(98696)}}catch(O){}y||(y=window._),G.exports=y},7416:G=>{G.exports="2.1.8"},50111:(G,B,b)=>{var y=b(41208);G.exports=function O(C,D){return!(null==C||!C.length)&&y(C,D,0)>-1}},68764:G=>{G.exports=function B(b,y,O){for(var C=-1,D=null==b?0:b.length;++C<D;)if(O(y,b[C]))return!0;return!1}},38604:G=>{G.exports=function B(b,y,O,C){var D=-1,S=null==b?0:b.length;for(C&&S&&(O=b[++D]);++D<S;)O=y(O,b[D],D,b);return O}},36866:(G,B,b)=>{var O=b(72032)("length");G.exports=O},16389:(G,B,b)=>{var y=b(35560),O=b(3382);G.exports=function C(D,S,x){(void 0!==x&&!O(D[S],x)||void 0===x&&!(S in D))&&y(D,S,x)}},14969:(G,B,b)=>{var y=b(77181);G.exports=function O(C,D,S){for(var x=-1,_=C.length;++x<_;){var f=C[x],g=D(f);if(null!=g&&(void 0===r?g==g&&!y(g):S(g,r)))var r=g,h=f}return h}},6380:(G,B,b)=>{var y=b(64772),O=b(36487);G.exports=function C(D,S,x,_,f){var g=-1,r=D.length;for(x||(x=O),f||(f=[]);++g<r;){var h=D[g];S>0&&x(h)?S>1?C(h,S-1,x,_,f):y(f,h):_||(f[f.length]=h)}return f}},19727:G=>{G.exports=function B(b,y){return b>y}},63363:G=>{var b=Object.prototype.hasOwnProperty;G.exports=function y(O,C){return null!=O&&b.call(O,C)}},94155:G=>{G.exports=function B(b,y){return b<y}},15537:(G,B,b)=>{var y=b(14641),O=b(82755);G.exports=function C(D,S){var x=-1,_=O(D)?Array(D.length):[];return y(D,function(f,g,r){_[++x]=S(f,g,r)}),_}},11735:(G,B,b)=>{var y=b(76245),O=b(16389),C=b(88477),D=b(20356),S=b(90537),x=b(56380),_=b(95372);G.exports=function f(g,r,h,p,w){g!==r&&C(r,function(T,M){if(w||(w=new y),S(T))D(g,r,M,h,f,p,w);else{var A=p?p(_(g,M),T,M+"",g,r,w):void 0;void 0===A&&(A=T),O(g,M,A)}},x)}},20356:(G,B,b)=>{var y=b(16389),O=b(91205),C=b(88904),D=b(89255),S=b(33175),x=b(69560),_=b(11258),f=b(91609),g=b(56801),r=b(59859),h=b(90537),p=b(70967),w=b(60916),T=b(95372),M=b(70317);G.exports=function A(I,L,R,U,J,K,X){var it=T(I,R),F=T(L,R),H=X.get(F);if(H)y(I,R,H);else{var j=K?K(it,F,R+"",I,L,X):void 0,$=void 0===j;if($){var W=_(F),Q=!W&&g(F),at=!W&&!Q&&w(F);j=F,W||Q||at?_(it)?j=it:f(it)?j=D(it):Q?($=!1,j=O(F,!0)):at?($=!1,j=C(F,!0)):j=[]:p(F)||x(F)?(j=it,x(it)?j=M(it):(!h(it)||r(it))&&(j=S(F))):$=!1}$&&(X.set(F,j),J(j,F,U,K,X),X.delete(F)),y(I,R,j)}}},76627:(G,B,b)=>{var y=b(19606),O=b(26227),C=b(22231),D=b(15537),S=b(83914),x=b(56935),_=b(38724),f=b(43914),g=b(11258);G.exports=function r(h,p,w){p=p.length?y(p,function(A){return g(A)?function(I){return O(I,1===A.length?A[0]:A)}:A}):[f];var T=-1;p=y(p,x(C));var M=D(h,function(A,I,L){return{criteria:y(p,function(U){return U(A)}),index:++T,value:A}});return S(M,function(A,I){return _(A,I,w)})}},67023:(G,B,b)=>{var y=b(76229),O=b(36525);G.exports=function C(D,S){return y(D,S,function(x,_){return O(D,_)})}},76229:(G,B,b)=>{var y=b(26227),O=b(34643),C=b(38734);G.exports=function D(S,x,_){for(var f=-1,g=x.length,r={};++f<g;){var h=x[f],p=y(S,h);_(p,h)&&O(r,C(h,S),p)}return r}},6626:G=>{var B=Math.ceil,b=Math.max;G.exports=function y(O,C,D,S){for(var x=-1,_=b(B((C-O)/(D||1)),0),f=Array(_);_--;)f[S?_:++x]=O,O+=D;return f}},39846:G=>{G.exports=function B(b,y,O,C,D){return D(b,function(S,x,_){O=C?(C=!1,S):y(O,S,x,_)}),O}},83914:G=>{G.exports=function B(b,y){var O=b.length;for(b.sort(y);O--;)b[O]=b[O].value;return b}},40976:(G,B,b)=>{var y=b(31650),O=b(50111),C=b(68764),D=b(96156),S=b(77561),x=b(92766);G.exports=function f(g,r,h){var p=-1,w=O,T=g.length,M=!0,A=[],I=A;if(h)M=!1,w=C;else if(T>=200){var L=r?null:S(g);if(L)return x(L);M=!1,w=D,I=new y}else I=r?[]:A;t:for(;++p<T;){var R=g[p],U=r?r(R):R;if(R=h||0!==R?R:0,M&&U==U){for(var J=I.length;J--;)if(I[J]===U)continue t;r&&I.push(U),A.push(R)}else w(I,U,h)||(I!==A&&I.push(U),A.push(R))}return A}},99434:G=>{G.exports=function B(b,y,O){for(var C=-1,D=b.length,S=y.length,x={};++C<D;)O(x,b[C],C<S?y[C]:void 0);return x}},43805:(G,B,b)=>{var y=b(43914);G.exports=function O(C){return"function"==typeof C?C:y}},3775:(G,B,b)=>{var y=b(77181);G.exports=function O(C,D){if(C!==D){var S=void 0!==C,x=null===C,_=C==C,f=y(C),g=void 0!==D,r=null===D,h=D==D,p=y(D);if(!r&&!p&&!f&&C>D||f&&g&&h&&!r&&!p||x&&g&&h||!S&&h||!_)return 1;if(!x&&!f&&!p&&C<D||p&&S&&_&&!x&&!f||r&&S&&_||!g&&_||!h)return-1}return 0}},38724:(G,B,b)=>{var y=b(3775);G.exports=function O(C,D,S){for(var x=-1,_=C.criteria,f=D.criteria,g=_.length,r=S.length;++x<g;){var h=y(_[x],f[x]);if(h)return x>=r?h:h*("desc"==S[x]?-1:1)}return C.index-D.index}},34403:(G,B,b)=>{var y=b(86667),O=b(54346);G.exports=function C(D){return y(function(S,x){var _=-1,f=x.length,g=f>1?x[f-1]:void 0,r=f>2?x[2]:void 0;for(g=D.length>3&&"function"==typeof g?(f--,g):void 0,r&&O(x[0],x[1],r)&&(g=f<3?void 0:g,f=1),S=Object(S);++_<f;){var h=x[_];h&&D(S,h,_,g)}return S})}},6841:(G,B,b)=>{var y=b(22231),O=b(82755),C=b(9682);G.exports=function D(S){return function(x,_,f){var g=Object(x);if(!O(x)){var r=y(_,3);x=C(x),_=function(p){return r(g[p],p,g)}}var h=S(x,_,f);return h>-1?g[r?x[h]:h]:void 0}}},48297:(G,B,b)=>{var y=b(6626),O=b(54346),C=b(24114);G.exports=function D(S){return function(x,_,f){return f&&"number"!=typeof f&&O(x,_,f)&&(_=f=void 0),x=C(x),void 0===_?(_=x,x=0):_=C(_),f=void 0===f?x<_?1:-1:C(f),y(x,_,f,S)}}},77561:(G,B,b)=>{var y=b(613),O=b(10130),C=b(92766),S=y&&1/C(new y([,-0]))[1]==1/0?function(x){return new y(x)}:O;G.exports=S},88421:(G,B,b)=>{var y=b(47707),O=b(25840),C=b(46119);G.exports=function D(S){return C(O(S,void 0,y),S+"")}},80507:G=>{var x=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");G.exports=function _(f){return x.test(f)}},36487:(G,B,b)=>{var y=b(31624),O=b(69560),C=b(11258),D=y?y.isConcatSpreadable:void 0;G.exports=function S(x){return C(x)||O(x)||!!(D&&x&&x[D])}},54346:(G,B,b)=>{var y=b(3382),O=b(82755),C=b(38714),D=b(90537);G.exports=function S(x,_,f){if(!D(f))return!1;var g=typeof _;return!!("number"==g?O(f)&&C(_,f.length):"string"==g&&_ in f)&&y(f[_],x)}},95372:G=>{G.exports=function B(b,y){if(("constructor"!==y||"function"!=typeof b[y])&&"__proto__"!=y)return b[y]}},92801:(G,B,b)=>{var y=b(36866),O=b(80507),C=b(44986);G.exports=function D(S){return O(S)?C(S):y(S)}},44986:G=>{var B="\\ud800-\\udfff",S="["+B+"]",x="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",_="\\ud83c[\\udffb-\\udfff]",g="[^"+B+"]",r="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",w="(?:"+x+"|"+_+")?",T="[\\ufe0e\\ufe0f]?",A=T+w+"(?:\\u200d(?:"+[g,r,h].join("|")+")"+T+w+")*",I="(?:"+[g+x+"?",x,r,h,S].join("|")+")",L=RegExp(_+"(?="+_+")|"+I+A,"g");G.exports=function R(U){for(var J=L.lastIndex=0;L.test(U);)++J;return J}},80650:(G,B,b)=>{var y=b(14762);G.exports=function C(D){return y(D,4)}},73460:(G,B,b)=>{var y=b(86667),O=b(3382),C=b(54346),D=b(56380),S=Object.prototype,x=S.hasOwnProperty,_=y(function(f,g){f=Object(f);var r=-1,h=g.length,p=h>2?g[2]:void 0;for(p&&C(g[0],g[1],p)&&(h=1);++r<h;)for(var w=g[r],T=D(w),M=-1,A=T.length;++M<A;){var I=T[M],L=f[I];(void 0===L||O(L,S[I])&&!x.call(f,I))&&(f[I]=w[I])}return f});G.exports=_},87160:(G,B,b)=>{G.exports=b(72330)},46300:(G,B,b)=>{var C=b(6841)(b(54385));G.exports=C},54385:(G,B,b)=>{var y=b(70407),O=b(22231),C=b(7592),D=Math.max;G.exports=function S(x,_,f){var g=null==x?0:x.length;if(!g)return-1;var r=null==f?0:C(f);return r<0&&(r=D(g+r,0)),y(x,O(_,3),r)}},47707:(G,B,b)=>{var y=b(6380);G.exports=function O(C){return null!=C&&C.length?y(C,1):[]}},72330:(G,B,b)=>{var y=b(86821),O=b(14641),C=b(43805),D=b(11258);G.exports=function S(x,_){return(D(x)?y:O)(x,C(_))}},22245:(G,B,b)=>{var y=b(88477),O=b(43805),C=b(56380);G.exports=function D(S,x){return null==S?S:y(S,O(x),C)}},65528:(G,B,b)=>{var y=b(63363),O=b(97960);G.exports=function C(D,S){return null!=D&&O(D,S,y)}},91609:(G,B,b)=>{var y=b(82755),O=b(96840);G.exports=function C(D){return O(D)&&y(D)}},86399:(G,B,b)=>{var y=b(56350),O=b(41599),C=b(69560),D=b(11258),S=b(82755),x=b(56801),_=b(16116),f=b(60916),p=Object.prototype.hasOwnProperty;G.exports=function w(T){if(null==T)return!0;if(S(T)&&(D(T)||"string"==typeof T||"function"==typeof T.splice||x(T)||f(T)||C(T)))return!T.length;var M=O(T);if("[object Map]"==M||"[object Set]"==M)return!T.size;if(_(T))return!y(T).length;for(var A in T)if(p.call(T,A))return!1;return!0}},70967:(G,B,b)=>{var y=b(82914),O=b(47102),C=b(96840),_=Function.prototype.toString,f=Object.prototype.hasOwnProperty,g=_.call(Object);G.exports=function r(h){if(!C(h)||"[object Object]"!=y(h))return!1;var p=O(h);if(null===p)return!0;var w=f.call(p,"constructor")&&p.constructor;return"function"==typeof w&&w instanceof w&&_.call(w)==g}},19850:G=>{G.exports=function B(b){return void 0===b}},89494:G=>{G.exports=function B(b){var y=null==b?0:b.length;return y?b[y-1]:void 0}},74374:(G,B,b)=>{var y=b(19606),O=b(22231),C=b(15537),D=b(11258);G.exports=function S(x,_){return(D(x)?y:C)(x,O(_,3))}},57946:(G,B,b)=>{var y=b(14969),O=b(19727),C=b(43914);G.exports=function D(S){return S&&S.length?y(S,C,O):void 0}},89522:(G,B,b)=>{var y=b(11735),C=b(34403)(function(D,S,x){y(D,S,x)});G.exports=C},67873:(G,B,b)=>{var y=b(14969),O=b(94155),C=b(43914);G.exports=function D(S){return S&&S.length?y(S,C,O):void 0}},34975:(G,B,b)=>{var y=b(14969),O=b(22231),C=b(94155);G.exports=function D(S,x){return S&&S.length?y(S,O(x,2),C):void 0}},10130:G=>{G.exports=function B(){}},39838:(G,B,b)=>{var y=b(36216);G.exports=function(){return y.Date.now()}},24269:(G,B,b)=>{var y=b(67023),C=b(88421)(function(D,S){return null==D?{}:y(D,S)});G.exports=C},18164:(G,B,b)=>{var O=b(48297)();G.exports=O},40928:(G,B,b)=>{var y=b(38604),O=b(14641),C=b(22231),D=b(39846),S=b(11258);G.exports=function x(_,f,g){var r=S(_)?y:D,h=arguments.length<3;return r(_,C(f,4),g,h,O)}},19535:(G,B,b)=>{var y=b(56350),O=b(41599),C=b(82755),D=b(14090),S=b(92801);G.exports=function f(g){if(null==g)return 0;if(C(g))return D(g)?S(g):g.length;var r=O(g);return"[object Map]"==r||"[object Set]"==r?g.size:y(g).length}},51014:(G,B,b)=>{var y=b(6380),O=b(76627),C=b(86667),D=b(54346),S=C(function(x,_){if(null==x)return[];var f=_.length;return f>1&&D(x,_[0],_[1])?_=[]:f>2&&D(_[0],_[1],_[2])&&(_=[_[0]]),O(x,y(_,1),[])});G.exports=S},70317:(G,B,b)=>{var y=b(9391),O=b(56380);G.exports=function C(D){return y(D,O(D))}},6102:(G,B,b)=>{var y=b(86821),O=b(70830),C=b(47017),D=b(22231),S=b(47102),x=b(11258),_=b(56801),f=b(59859),g=b(90537),r=b(60916);G.exports=function h(p,w,T){var M=x(p),A=M||_(p)||r(p);if(w=D(w,4),null==T){var I=p&&p.constructor;T=A?M?new I:[]:g(p)&&f(I)?O(S(p)):{}}return(A?y:C)(p,function(L,R,U){return w(T,L,R,U)}),T}},56246:(G,B,b)=>{var y=b(6380),O=b(86667),C=b(40976),D=b(91609),S=O(function(x){return C(y(x,1,D,!0))});G.exports=S},24112:(G,B,b)=>{var y=b(98799),O=0;G.exports=function C(D){var S=++O;return y(D)+S}},43794:(G,B,b)=>{var y=b(14979),O=b(99434);G.exports=function C(D,S){return O(D||[],S||[],y)}},11111:(G,B,b)=>{"use strict";function y(O){for(var C in O)B.hasOwnProperty(C)||(B[C]=O[C])}Object.defineProperty(B,"__esModule",{value:!0}),y(b(51988)),y(b(91318)),y(b(88121)),y(b(58878)),y(b(29745)),y(b(20018)),y(b(22324)),y(b(38722)),y(b(54836)),y(b(16620)),y(b(46332)),y(b(33073)),y(b(72988)),y(b(22359)),y(b(14078)),y(b(3720))},51988:function(G,B,b){"use strict";var S,y=this&&this.__extends||(S=function(x,_){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,g){f.__proto__=g}||function(f,g){for(var r in g)g.hasOwnProperty(r)&&(f[r]=g[r])})(x,_)},function(x,_){function f(){this.constructor=x}S(x,_),x.prototype=null===_?Object.create(_):(f.prototype=_.prototype,new f)});Object.defineProperty(B,"__esModule",{value:!0});var O=b(22324),C=function(S){function x(_){var f=S.call(this)||this,r=_;return r.trigger&&(f.trigger=r.trigger),r.kick&&(f.kick=r.kick),r.drag&&(f.drag=r.drag),r.on&&(f.on=r.on),f.dragstart=f.dragStart=O.Layout.dragStart,f.dragend=f.dragEnd=O.Layout.dragEnd,f}return y(x,S),x.prototype.trigger=function(_){},x.prototype.kick=function(){},x.prototype.drag=function(){},x.prototype.on=function(_,f){return this},x}(O.Layout);B.LayoutAdaptor=C,B.adaptor=function D(S){return new C(S)}},3720:(G,B,b)=>{"use strict";Object.defineProperty(B,"__esModule",{value:!0});var y=b(22324),O=b(29745);B.gridify=function C(x,_,f,g){x.cola.start(0,0,0,10,!1);var r=function D(x,_,f,g){x.forEach(function(h){h.routerNode={name:h.name,bounds:h.bounds.inflate(-f)}}),_.forEach(function(h){h.routerNode={bounds:h.bounds.inflate(-g),children:(void 0!==h.groups?h.groups.map(function(p){return x.length+p.id}):[]).concat(void 0!==h.leaves?h.leaves.map(function(p){return p.index}):[])}});var r=x.concat(_).map(function(h,p){return h.routerNode.id=p,h.routerNode});return new O.GridRouter(r,{getChildren:function(h){return h.children},getBounds:function(h){return h.bounds}},f-g)}(x.cola.nodes(),x.cola.groups(),f,g);return r.routeEdges(x.powerGraph.powerEdges,_,function(h){return h.source.routerNode.id},function(h){return h.target.routerNode.id})},B.powerGraphGridLayout=function S(x,_,f){var g;x.nodes.forEach(function(w,T){return w.index=T}),(new y.Layout).avoidOverlaps(!1).nodes(x.nodes).links(x.links).powerGraphGroups(function(w){(g=w).groups.forEach(function(T){return T.padding=f})});var r=x.nodes.length,h=[],p=x.nodes.slice(0);return p.forEach(function(w,T){return w.index=T}),g.groups.forEach(function(w){var T=w.index=w.id+r;p.push(w),void 0!==w.leaves&&w.leaves.forEach(function(M){return h.push({source:T,target:M.index})}),void 0!==w.groups&&w.groups.forEach(function(M){return h.push({source:T,target:M.id+r})})}),g.powerEdges.forEach(function(w){h.push({source:w.source.index,target:w.target.index})}),(new y.Layout).size(_).nodes(p).links(h).avoidOverlaps(!1).linkDistance(30).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(100,0,0,0,!1),{cola:(new y.Layout).convergenceThreshold(.001).size(_).avoidOverlaps(!0).nodes(x.nodes).links(x.links).groupCompactness(1e-4).linkDistance(30).symmetricDiffLinkLengths(5).powerGraphGroups(function(w){(g=w).groups.forEach(function(T){T.padding=f})}).start(50,0,100,0,!1),powerGraph:g}}},91318:(G,B,b)=>{"use strict";Object.defineProperty(B,"__esModule",{value:!0});var y=b(92094),O=b(54546);B.d3adaptor=function C(S){return!S||function D(S){return S.version&&null!==S.version.match(/^3\./)}(S)?new y.D3StyleLayoutAdaptor:new O.D3StyleLayoutAdaptor(S)}},92094:function(G,B,b){"use strict";var S,y=this&&this.__extends||(S=function(x,_){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,g){f.__proto__=g}||function(f,g){for(var r in g)g.hasOwnProperty(r)&&(f[r]=g[r])})(x,_)},function(x,_){function f(){this.constructor=x}S(x,_),x.prototype=null===_?Object.create(_):(f.prototype=_.prototype,new f)});Object.defineProperty(B,"__esModule",{value:!0});var O=b(22324),C=function(S){function x(){var _=S.call(this)||this;_.event=d3.dispatch(O.EventType[O.EventType.start],O.EventType[O.EventType.tick],O.EventType[O.EventType.end]);var f=_;return _.drag=function(){if(!r)var r=d3.behavior.drag().origin(O.Layout.dragOrigin).on("dragstart.d3adaptor",O.Layout.dragStart).on("drag.d3adaptor",function(h){O.Layout.drag(h,d3.event),f.resume()}).on("dragend.d3adaptor",O.Layout.dragEnd);if(!arguments.length)return r;this.call(r)},_}return y(x,S),x.prototype.trigger=function(_){var f={type:O.EventType[_.type],alpha:_.alpha,stress:_.stress};this.event[f.type](f)},x.prototype.kick=function(){var _=this;d3.timer(function(){return S.prototype.tick.call(_)})},x.prototype.on=function(_,f){return this.event.on("string"==typeof _?_:O.EventType[_],f),this},x}(O.Layout);B.D3StyleLayoutAdaptor=C,B.d3adaptor=function D(){return new C}},54546:function(G,B,b){"use strict";var D,y=this&&this.__extends||(D=function(S,x){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,f){_.__proto__=f}||function(_,f){for(var g in f)f.hasOwnProperty(g)&&(_[g]=f[g])})(S,x)},function(S,x){function _(){this.constructor=S}D(S,x),S.prototype=null===x?Object.create(x):(_.prototype=x.prototype,new _)});Object.defineProperty(B,"__esModule",{value:!0});var O=b(22324),C=function(D){function S(x){var _=D.call(this)||this;_.d3Context=x,_.event=x.dispatch(O.EventType[O.EventType.start],O.EventType[O.EventType.tick],O.EventType[O.EventType.end]);var f=_;return _.drag=function(){if(!r)var r=x.drag().subject(O.Layout.dragOrigin).on("start.d3adaptor",O.Layout.dragStart).on("drag.d3adaptor",function(h){O.Layout.drag(h,x.event),f.resume()}).on("end.d3adaptor",O.Layout.dragEnd);if(!arguments.length)return r;arguments[0].call(r)},_}return y(S,D),S.prototype.trigger=function(x){var _={type:O.EventType[x.type],alpha:x.alpha,stress:x.stress};this.event.call(_.type,_)},S.prototype.kick=function(){var x=this,_=this.d3Context.timer(function(){return D.prototype.tick.call(x)&&_.stop()})},S.prototype.on=function(x,_){return this.event.on("string"==typeof x?x:O.EventType[x],_),this},S}(O.Layout);B.D3StyleLayoutAdaptor=C},88121:(G,B)=>{"use strict";Object.defineProperty(B,"__esModule",{value:!0});var b=function(){function C(){this.locks={}}return C.prototype.add=function(D,S){this.locks[D]=S},C.prototype.clear=function(){this.locks={}},C.prototype.isEmpty=function(){for(var D in this.locks)return!1;return!0},C.prototype.apply=function(D){for(var S in this.locks)D(Number(S),this.locks[S])},C}();B.Locks=b;var y=function(){function C(D,S,x){void 0===x&&(x=null),this.D=S,this.G=x,this.threshold=1e-4,this.numGridSnapNodes=0,this.snapGridSize=100,this.snapStrength=1e3,this.scaleSnapByMaxH=!1,this.random=new O,this.project=null,this.x=D,this.k=D.length;var _=this.n=D[0].length;this.H=new Array(this.k),this.g=new Array(this.k),this.Hd=new Array(this.k),this.a=new Array(this.k),this.b=new Array(this.k),this.c=new Array(this.k),this.d=new Array(this.k),this.e=new Array(this.k),this.ia=new Array(this.k),this.ib=new Array(this.k),this.xtmp=new Array(this.k),this.locks=new b,this.minD=Number.MAX_VALUE;for(var g,f=_;f--;)for(g=_;--g>f;){var r=S[f][g];r>0&&r<this.minD&&(this.minD=r)}for(this.minD===Number.MAX_VALUE&&(this.minD=1),f=this.k;f--;){for(this.g[f]=new Array(_),this.H[f]=new Array(_),g=_;g--;)this.H[f][g]=new Array(_);this.Hd[f]=new Array(_),this.a[f]=new Array(_),this.b[f]=new Array(_),this.c[f]=new Array(_),this.d[f]=new Array(_),this.e[f]=new Array(_),this.ia[f]=new Array(_),this.ib[f]=new Array(_),this.xtmp[f]=new Array(_)}}return C.createSquareMatrix=function(D,S){for(var x=new Array(D),_=0;_<D;++_){x[_]=new Array(D);for(var f=0;f<D;++f)x[_][f]=S(_,f)}return x},C.prototype.offsetDir=function(){for(var D=this,S=new Array(this.k),x=0,_=0;_<this.k;++_){var f=S[_]=this.random.getNextBetween(.01,1)-.5;x+=f*f}return x=Math.sqrt(x),S.map(function(g){return g*(D.minD/x)})},C.prototype.computeDerivatives=function(D){var S=this,x=this.n;if(!(x<1)){for(var _,f=new Array(this.k),g=new Array(this.k),r=new Array(this.k),h=0,p=0;p<x;++p){for(_=0;_<this.k;++_)r[_]=this.g[_][p]=0;for(var w=0;w<x;++w)if(p!==w){for(var T=x;T--;){var M=0;for(_=0;_<this.k;++_){var A=f[_]=D[_][p]-D[_][w];M+=g[_]=A*A}if(M>1e-9)break;var I=this.offsetDir();for(_=0;_<this.k;++_)D[_][w]+=I[_]}var L=Math.sqrt(M),R=this.D[p][w],U=null!=this.G?this.G[p][w]:1;if(U>1&&L>R||!isFinite(R)){for(_=0;_<this.k;++_)this.H[_][p][w]=0;continue}U>1&&(U=1);var J=R*R,K=2*U*(L-R)/(J*L),X=L*L*L,it=2*-U/(J*X);for(isFinite(K)||console.log(K),_=0;_<this.k;++_)this.g[_][p]+=f[_]*K,r[_]-=this.H[_][p][w]=it*(X+R*(g[_]-M)+L*M)}for(_=0;_<this.k;++_)h=Math.max(h,this.H[_][p][p]=r[_])}var F=this.snapGridSize/2,H=this.snapGridSize,$=this.snapStrength/(F*F),W=this.numGridSnapNodes;for(p=0;p<W;++p)for(_=0;_<this.k;++_){var Q=this.x[_][p],at=Q/H,Y=at%1,z=at-Y;-F<(A=Math.abs(Y)<=.5?Q-z*H:Q>0?Q-(z+1)*H:Q-(z-1)*H)&&A<=F&&(this.scaleSnapByMaxH?(this.g[_][p]+=h*$*A,this.H[_][p][p]+=h*$):(this.g[_][p]+=$*A,this.H[_][p][p]+=$))}this.locks.isEmpty()||this.locks.apply(function(ot,dt){for(_=0;_<S.k;++_)S.H[_][ot][ot]+=h,S.g[_][ot]-=h*(dt[_]-D[_][ot])})}},C.dotProd=function(D,S){for(var x=0,_=D.length;_--;)x+=D[_]*S[_];return x},C.rightMultiply=function(D,S,x){for(var _=D.length;_--;)x[_]=C.dotProd(D[_],S)},C.prototype.computeStepSize=function(D){for(var S=0,x=0,_=0;_<this.k;++_)S+=C.dotProd(this.g[_],D[_]),C.rightMultiply(this.H[_],D[_],this.Hd[_]),x+=C.dotProd(D[_],this.Hd[_]);return 0!==x&&isFinite(x)?1*S/x:0},C.prototype.reduceStress=function(){this.computeDerivatives(this.x);for(var D=this.computeStepSize(this.g),S=0;S<this.k;++S)this.takeDescentStep(this.x[S],this.g[S],D);return this.computeStress()},C.copy=function(D,S){for(var x=D.length,_=S[0].length,f=0;f<x;++f)for(var g=0;g<_;++g)S[f][g]=D[f][g]},C.prototype.stepAndProject=function(D,S,x,_){C.copy(D,S),this.takeDescentStep(S[0],x[0],_),this.project&&this.project[0](D[0],D[1],S[0]),this.takeDescentStep(S[1],x[1],_),this.project&&this.project[1](S[0],D[1],S[1]);for(var f=2;f<this.k;f++)this.takeDescentStep(S[f],x[f],_)},C.mApply=function(D,S,x){for(var _=D;_-- >0;)for(var f=S;f-- >0;)x(_,f)},C.prototype.matrixApply=function(D){C.mApply(this.k,this.n,D)},C.prototype.computeNextPosition=function(D,S){var x=this;this.computeDerivatives(D);var _=this.computeStepSize(this.g);if(this.stepAndProject(D,S,this.g,_),this.project){this.matrixApply(function(g,r){return x.e[g][r]=D[g][r]-S[g][r]});var f=this.computeStepSize(this.e);f=Math.max(.2,Math.min(f,1)),this.stepAndProject(D,S,this.e,f)}},C.prototype.run=function(D){for(var S=Number.MAX_VALUE,x=!1;!x&&D-- >0;){var _=this.rungeKutta();x=Math.abs(S/_-1)<this.threshold,S=_}return S},C.prototype.rungeKutta=function(){var D=this;this.computeNextPosition(this.x,this.a),C.mid(this.x,this.a,this.ia),this.computeNextPosition(this.ia,this.b),C.mid(this.x,this.b,this.ib),this.computeNextPosition(this.ib,this.c),this.computeNextPosition(this.c,this.d);var S=0;return this.matrixApply(function(x,_){var f=(D.a[x][_]+2*D.b[x][_]+2*D.c[x][_]+D.d[x][_])/6,g=D.x[x][_]-f;S+=g*g,D.x[x][_]=f}),S},C.mid=function(D,S,x){C.mApply(D.length,D[0].length,function(_,f){return x[_][f]=D[_][f]+(S[_][f]-D[_][f])/2})},C.prototype.takeDescentStep=function(D,S,x){for(var _=0;_<this.n;++_)D[_]=D[_]-x*S[_]},C.prototype.computeStress=function(){for(var D=0,S=0,x=this.n-1;S<x;++S)for(var _=S+1,f=this.n;_<f;++_){for(var g=0,r=0;r<this.k;++r){var h=this.x[r][S]-this.x[r][_];g+=h*h}g=Math.sqrt(g);var p=this.D[S][_];if(isFinite(p)){var w=p-g;D+=w*w/(p*p)}}return D},C.zeroDistance=1e-10,C}();B.Descent=y;var O=function(){function C(D){void 0===D&&(D=1),this.seed=D,this.a=214013,this.c=2531011,this.m=2147483648,this.range=32767}return C.prototype.getNext=function(){return this.seed=(this.seed*this.a+this.c)%this.m,(this.seed>>16)/this.range},C.prototype.getNextBetween=function(D,S){return D+this.getNext()*(S-D)},C}();B.PseudoRandom=O},58878:function(G,B,b){"use strict";var Y,y=this&&this.__extends||(Y=function(z,nt){return(Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ot,dt){ot.__proto__=dt}||function(ot,dt){for(var lt in dt)dt.hasOwnProperty(lt)&&(ot[lt]=dt[lt])})(z,nt)},function(z,nt){function ot(){this.constructor=z}Y(z,nt),z.prototype=null===nt?Object.create(nt):(ot.prototype=nt.prototype,new ot)});Object.defineProperty(B,"__esModule",{value:!0});var O=b(72988),C=function Y(){};B.Point=C;var D=function Y(z,nt,ot,dt){this.x1=z,this.y1=nt,this.x2=ot,this.y2=dt};B.LineSegment=D;var S=function(Y){function z(){return null!==Y&&Y.apply(this,arguments)||this}return y(z,Y),z}(C);function x(Y,z,nt){return(z.x-Y.x)*(nt.y-Y.y)-(nt.x-Y.x)*(z.y-Y.y)}function _(Y,z,nt){return x(Y,z,nt)>0}function f(Y,z,nt){return x(Y,z,nt)<0}function w(Y,z){var nt=z.slice(0);return nt.push(z[0]),{rtan:T(Y,nt),ltan:M(Y,nt)}}function T(Y,z){var ot,dt,lt,_t,nt=z.length-1;if(f(Y,z[1],z[0])&&!_(Y,z[nt-1],z[0]))return 0;for(ot=0,dt=nt;;){if(dt-ot==1)return _(Y,z[ot],z[dt])?ot:dt;if((_t=f(Y,z[(lt=Math.floor((ot+dt)/2))+1],z[lt]))&&!_(Y,z[lt-1],z[lt]))return lt;_(Y,z[ot+1],z[ot])?_t||_(Y,z[ot],z[lt])?dt=lt:ot=lt:_t&&f(Y,z[ot],z[lt])?dt=lt:ot=lt}}function M(Y,z){var ot,dt,lt,_t,nt=z.length-1;if(_(Y,z[nt-1],z[0])&&!f(Y,z[1],z[0]))return 0;for(ot=0,dt=nt;;){if(dt-ot==1)return f(Y,z[ot],z[dt])?ot:dt;if(_t=f(Y,z[(lt=Math.floor((ot+dt)/2))+1],z[lt]),_(Y,z[lt-1],z[lt])&&!_t)return lt;f(Y,z[ot+1],z[ot])?_t?f(Y,z[ot],z[lt])?dt=lt:ot=lt:dt=lt:_t?ot=lt:_(Y,z[ot],z[lt])?dt=lt:ot=lt}}function A(Y,z,nt,ot,dt,lt){var ft,_t;_t=ot(Y[ft=nt(z[0],Y)],z);for(var St=!1;!St;){for(St=!0;ft===Y.length-1&&(ft=0),!dt(z[_t],Y[ft],Y[ft+1]);)++ft;for(;0===_t&&(_t=z.length-1),!lt(Y[ft],z[_t],z[_t-1]);)--_t,St=!1}return{t1:ft,t2:_t}}function L(Y,z){return A(Y,z,T,M,_,f)}B.PolyPoint=S,B.isLeft=x,B.ConvexHull=function g(Y){var ot,z=Y.slice(0).sort(function(pt,vt){return pt.x!==vt.x?vt.x-pt.x:vt.y-pt.y}),nt=Y.length,lt=z[0].x;for(ot=1;ot<nt&&z[ot].x===lt;++ot);var ft=ot-1,_t=[];if(_t.push(z[0]),ft===nt-1)z[ft].y!==z[0].y&&_t.push(z[ft]);else{var St,tt=nt-1,rt=z[nt-1].x;for(ot=nt-2;ot>=0&&z[ot].x===rt;ot--);for(St=ot+1,ot=ft;++ot<=St;)if(!(x(z[0],z[St],z[ot])>=0&&ot<St)){for(;_t.length>1&&!(x(_t[_t.length-2],_t[_t.length-1],z[ot])>0);)_t.length-=1;0!=ot&&_t.push(z[ot])}tt!=St&&_t.push(z[tt]);var ct=_t.length;for(ot=St;--ot>=ft;)if(!(x(z[tt],z[ft],z[ot])>=0&&ot>ft)){for(;_t.length>ct&&!(x(_t[_t.length-2],_t[_t.length-1],z[ot])>0);)_t.length-=1;0!=ot&&_t.push(z[ot])}}return _t},B.clockwiseRadialSweep=function r(Y,z,nt){z.slice(0).sort(function(ot,dt){return Math.atan2(ot.y-Y.y,ot.x-Y.x)-Math.atan2(dt.y-Y.y,dt.x-Y.x)}).forEach(nt)},B.tangent_PolyPolyC=A,B.LRtangent_PolyPolyC=function I(Y,z){var nt=L(z,Y);return{t1:nt.t2,t2:nt.t1}},B.RLtangent_PolyPolyC=L,B.LLtangent_PolyPolyC=function R(Y,z){return A(Y,z,M,M,f,f)},B.RRtangent_PolyPolyC=function U(Y,z){return A(Y,z,T,T,_,_)};var J=function Y(z,nt){this.t1=z,this.t2=nt};B.BiTangent=J;var K=function Y(){};B.BiTangents=K;var X=function(Y){function z(){return null!==Y&&Y.apply(this,arguments)||this}return y(z,Y),z}(C);B.TVGPoint=X;var it=function Y(z,nt,ot,dt){this.id=z,this.polyid=nt,this.polyvertid=ot,this.p=dt,dt.vv=this};B.VisibilityVertex=it;var F=function(){function Y(z,nt){this.source=z,this.target=nt}return Y.prototype.length=function(){var z=this.source.p.x-this.target.p.x,nt=this.source.p.y-this.target.p.y;return Math.sqrt(z*z+nt*nt)},Y}();B.VisibilityEdge=F;var H=function(){function Y(z,nt){if(this.P=z,this.V=[],this.E=[],nt)this.V=nt.V.slice(0),this.E=nt.E.slice(0);else{for(var ot=z.length,dt=0;dt<ot;dt++){for(var lt=z[dt],ft=0;ft<lt.length;++ft){var St=new it(this.V.length,dt,ft,lt[ft]);this.V.push(St),ft>0&&this.E.push(new F(lt[ft-1].vv,St))}lt.length>1&&this.E.push(new F(lt[0].vv,lt[lt.length-1].vv))}for(dt=0;dt<ot-1;dt++){var tt=z[dt];for(ft=dt+1;ft<ot;ft++){var rt=z[ft],ct=$(tt,rt);for(var pt in ct){var vt=ct[pt];this.addEdgeIfVisible(tt[vt.t1],rt[vt.t2],dt,ft)}}}}}return Y.prototype.addEdgeIfVisible=function(z,nt,ot,dt){this.intersectsPolys(new D(z.x,z.y,nt.x,nt.y),ot,dt)||this.E.push(new F(z.vv,nt.vv))},Y.prototype.addPoint=function(z,nt){var ot=this.P.length;this.V.push(new it(this.V.length,ot,0,z));for(var dt=0;dt<ot;++dt)if(dt!==nt){var lt=this.P[dt],ft=w(z,lt);this.addEdgeIfVisible(z,lt[ft.ltan],nt,dt),this.addEdgeIfVisible(z,lt[ft.rtan],nt,dt)}return z.vv},Y.prototype.intersectsPolys=function(z,nt,ot){for(var dt=0,lt=this.P.length;dt<lt;++dt)if(dt!=nt&&dt!=ot&&j(z,this.P[dt]).length>0)return!0;return!1},Y}();function j(Y,z){for(var nt=[],ot=1,dt=z.length;ot<dt;++ot){var lt=O.Rectangle.lineIntersection(Y.x1,Y.y1,Y.x2,Y.y2,z[ot-1].x,z[ot-1].y,z[ot].x,z[ot].y);lt&&nt.push(lt)}return nt}function $(Y,z){for(var nt=Y.length-1,ot=z.length-1,dt=new K,lt=0;lt<nt;++lt)for(var ft=0;ft<ot;++ft){var _t=Y[0==lt?nt-1:lt-1],St=Y[lt],tt=Y[lt+1],rt=z[0==ft?ot-1:ft-1],ct=z[ft],pt=z[ft+1],vt=x(_t,St,ct),bt=x(St,rt,ct),Nt=x(St,ct,pt),Lt=x(rt,ct,St),Ee=x(ct,_t,St),Ut=x(ct,St,tt);vt>=0&&bt>=0&&Nt<0&&Lt>=0&&Ee>=0&&Ut<0?dt.ll=new J(lt,ft):vt<=0&&bt<=0&&Nt>0&&Lt<=0&&Ee<=0&&Ut>0?dt.rr=new J(lt,ft):vt<=0&&bt>0&&Nt<=0&&Lt>=0&&Ee<0&&Ut>=0?dt.rl=new J(lt,ft):vt>=0&&bt<0&&Nt>=0&&Lt<=0&&Ee>0&&Ut<=0&&(dt.lr=new J(lt,ft))}return dt}function Q(Y,z){return!Y.every(function(nt){return!function W(Y,z){for(var nt=1,ot=z.length;nt<ot;++nt)if(f(z[nt-1],z[nt],Y))return!1;return!0}(nt,z)})}B.TangentVisibilityGraph=H,B.tangents=$,B.polysOverlap=function at(Y,z){if(Q(Y,z)||Q(z,Y))return!0;for(var nt=1,ot=Y.length;nt<ot;++nt){var dt=Y[nt],lt=Y[nt-1];if(j(new D(lt.x,lt.y,dt.x,dt.y),z).length>0)return!0}return!1}},29745:(G,B,b)=>{"use strict";Object.defineProperty(B,"__esModule",{value:!0});var y=b(72988),O=b(14078),C=b(22359),D=function f(g,r,h){this.id=g,this.rect=r,this.children=h,this.leaf=void 0===h||0===h.length};B.NodeWrapper=D;var S=function f(g,r,h,p,w){void 0===p&&(p=null),void 0===w&&(w=null),this.id=g,this.x=r,this.y=h,this.node=p,this.line=w};B.Vert=S;var x=function(){function f(g,r){this.s=g,this.t=r;var h=f.findMatch(g,r),p=r.slice(0).reverse(),w=f.findMatch(g,p);h.length>=w.length?(this.length=h.length,this.si=h.si,this.ti=h.ti,this.reversed=!1):(this.length=w.length,this.si=w.si,this.ti=r.length-w.ti-w.length,this.reversed=!0)}return f.findMatch=function(g,r){for(var h=g.length,p=r.length,w={length:0,si:-1,ti:-1},T=new Array(h),M=0;M<h;M++){T[M]=new Array(p);for(var A=0;A<p;A++)if(g[M]===r[A]){var I=T[M][A]=0===M||0===A?1:T[M-1][A-1]+1;I>w.length&&(w.length=I,w.si=M-I+1,w.ti=A-I+1)}else T[M][A]=0}return w},f.prototype.getSequence=function(){return this.length>=0?this.s.slice(this.si,this.si+this.length):[]},f}();B.LongestCommonSubsequence=x;var _=function(){function f(g,r,h){var p=this;void 0===h&&(h=12),this.originalnodes=g,this.groupPadding=h,this.leaves=null,this.nodes=g.map(function(X,it){return new D(it,r.getBounds(X),r.getChildren(X))}),this.leaves=this.nodes.filter(function(X){return X.leaf}),this.groups=this.nodes.filter(function(X){return!X.leaf}),this.cols=this.getGridLines("x"),this.rows=this.getGridLines("y"),this.groups.forEach(function(X){return X.children.forEach(function(it){return p.nodes[it].parent=X})}),this.root={children:[]},this.nodes.forEach(function(X){void 0===X.parent&&(X.parent=p.root,p.root.children.push(X.id)),X.ports=[]}),this.backToFront=this.nodes.slice(0),this.backToFront.sort(function(X,it){return p.getDepth(X)-p.getDepth(it)}),this.backToFront.slice(0).reverse().filter(function(X){return!X.leaf}).forEach(function(X){var it=y.Rectangle.empty();X.children.forEach(function(F){return it=it.union(p.nodes[F].rect)}),X.rect=it.inflate(p.groupPadding)});var T=this.midPoints(this.cols.map(function(X){return X.pos})),M=this.midPoints(this.rows.map(function(X){return X.pos})),A=T[0],I=T[T.length-1],L=M[0],R=M[M.length-1],U=this.rows.map(function(X){return{x1:A,x2:I,y1:X.pos,y2:X.pos}}).concat(M.map(function(X){return{x1:A,x2:I,y1:X,y2:X}})),J=this.cols.map(function(X){return{x1:X.pos,x2:X.pos,y1:L,y2:R}}).concat(T.map(function(X){return{x1:X,x2:X,y1:L,y2:R}})),K=U.concat(J);K.forEach(function(X){return X.verts=[]}),this.verts=[],this.edges=[],U.forEach(function(X){return J.forEach(function(it){var F=new S(p.verts.length,it.x1,X.y1);X.verts.push(F),it.verts.push(F),p.verts.push(F);for(var H=p.backToFront.length;H-- >0;){var j=p.backToFront[H],$=j.rect,W=Math.abs(F.x-$.cx()),Q=Math.abs(F.y-$.cy());if(W<$.width()/2&&Q<$.height()/2){F.node=j;break}}})}),K.forEach(function(X,it){p.nodes.forEach(function(Q,at){Q.rect.lineIntersections(X.x1,X.y1,X.x2,X.y2).forEach(function(Y,z){var nt=new S(p.verts.length,Y.x,Y.y,Q,X);p.verts.push(nt),X.verts.push(nt),Q.ports.push(nt)})});var F=Math.abs(X.y1-X.y2)<.1,H=function(Q,at){return F?at.x-Q.x:at.y-Q.y};X.verts.sort(H);for(var j=1;j<X.verts.length;j++){var $=X.verts[j-1],W=X.verts[j];$.node&&$.node===W.node&&$.node.leaf||p.edges.push({source:$.id,target:W.id,length:Math.abs(H($,W))})}})}return f.prototype.avg=function(g){return g.reduce(function(r,h){return r+h})/g.length},f.prototype.getGridLines=function(g){for(var r=[],h=this.leaves.slice(0,this.leaves.length);h.length>0;){var p=h.filter(function(T){return T.rect["overlap"+g.toUpperCase()](h[0].rect)}),w={nodes:p,pos:this.avg(p.map(function(T){return T.rect["c"+g]()}))};r.push(w),w.nodes.forEach(function(T){return h.splice(h.indexOf(T),1)})}return r.sort(function(T,M){return T.pos-M.pos}),r},f.prototype.getDepth=function(g){for(var r=0;g.parent!==this.root;)r++,g=g.parent;return r},f.prototype.midPoints=function(g){for(var r=g[1]-g[0],h=[g[0]-r/2],p=1;p<g.length;p++)h.push((g[p]+g[p-1])/2);return h.push(g[g.length-1]+r/2),h},f.prototype.findLineage=function(g){var r=[g];do{r.push(g=g.parent)}while(g!==this.root);return r.reverse()},f.prototype.findAncestorPathBetween=function(g,r){for(var h=this.findLineage(g),p=this.findLineage(r),w=0;h[w]===p[w];)w++;return{commonAncestor:h[w-1],lineages:h.slice(w).concat(p.slice(w))}},f.prototype.siblingObstacles=function(g,r){var h=this,p=this.findAncestorPathBetween(g,r),w={};p.lineages.forEach(function(M){return w[M.id]={}});var T=p.commonAncestor.children.filter(function(M){return!(M in w)});return p.lineages.filter(function(M){return M.parent!==p.commonAncestor}).forEach(function(M){return T=T.concat(M.parent.children.filter(function(A){return A!==M.id}))}),T.map(function(M){return h.nodes[M]})},f.getSegmentSets=function(g,r,h){for(var p=[],w=0;w<g.length;w++)for(var T=g[w],M=0;M<T.length;M++)(A=T[M]).edgeid=w,A.i=M,Math.abs(A[1][r]-A[0][r])<.1&&p.push(A);p.sort(function(J,K){return J[0][r]-K[0][r]});for(var L=[],R=null,U=0;U<p.length;U++){var A=p[U];(!R||Math.abs(A[0][r]-R.pos)>.1)&&L.push(R={pos:A[0][r],segments:[]}),R.segments.push(A)}return L},f.nudgeSegs=function(g,r,h,p,w,T){var M=p.length;if(!(M<=1)){for(var A=p.map(function(j){return new O.Variable(j[0][g])}),I=[],L=0;L<M;L++)for(var R=0;R<M;R++)if(L!==R){var U=p[L],K=U.edgeid,X=p[R].edgeid,it=-1,F=-1;"x"==g?w(K,X)&&(U[0][r]<U[1][r]?(it=R,F=L):(it=L,F=R)):w(K,X)&&(U[0][r]<U[1][r]?(it=L,F=R):(it=R,F=L)),it>=0&&I.push(new O.Constraint(A[it],A[F],T))}new O.Solver(A,I).solve(),A.forEach(function(j,$){var W=p[$],Q=j.position();W[0][g]=W[1][g]=Q;var at=h[W.edgeid];W.i>0&&(at[W.i-1][1][g]=Q),W.i<at.length-1&&(at[W.i+1][0][g]=Q)})}},f.nudgeSegments=function(g,r,h,p,w){for(var T=f.getSegmentSets(g,r,h),M=0;M<T.length;M++){for(var A=T[M],I=[],L=0;L<A.segments.length;L++){var R=A.segments[L];I.push({type:0,s:R,pos:Math.min(R[0][h],R[1][h])}),I.push({type:1,s:R,pos:Math.max(R[0][h],R[1][h])})}I.sort(function(K,X){return K.pos-X.pos+K.type-X.type});var U=[],J=0;I.forEach(function(K){0===K.type?(U.push(K.s),J++):J--,0==J&&(f.nudgeSegs(r,h,g,U,p,w),U=[])})}},f.prototype.routeEdges=function(g,r,h,p){var w=this,T=g.map(function(I){return w.route(h(I),p(I))}),M=f.orderEdges(T),A=T.map(function(I){return f.makeSegments(I)});return f.nudgeSegments(A,"x","y",M,r),f.nudgeSegments(A,"y","x",M,r),f.unreverseEdges(A,T),A},f.unreverseEdges=function(g,r){g.forEach(function(h,p){r[p].reversed&&(h.reverse(),h.forEach(function(T){T.reverse()}))})},f.angleBetween2Lines=function(g,r){var h=Math.atan2(g[0].y-g[1].y,g[0].x-g[1].x),p=Math.atan2(r[0].y-r[1].y,r[0].x-r[1].x),w=h-p;return(w>Math.PI||w<-Math.PI)&&(w=p-h),w},f.isLeft=function(g,r,h){return(r.x-g.x)*(h.y-g.y)-(r.y-g.y)*(h.x-g.x)<=0},f.getOrder=function(g){for(var r={},h=0;h<g.length;h++){var p=g[h];void 0===r[p.l]&&(r[p.l]={}),r[p.l][p.r]=!0}return function(w,T){return void 0!==r[w]&&r[w][T]}},f.orderEdges=function(g){for(var r=[],h=0;h<g.length-1;h++)for(var p=h+1;p<g.length;p++){var A,I,L,w=g[h],T=g[p],M=new x(w,T);if(0!==M.length){if(M.reversed&&(T.reverse(),T.reversed=!0,M=new x(w,T)),(M.si<=0||M.ti<=0)&&(M.si+M.length>=w.length||M.ti+M.length>=T.length)){r.push({l:h,r:p});continue}M.si+M.length>=w.length||M.ti+M.length>=T.length?(A=w[M.si+1],L=w[M.si-1],I=T[M.ti-1]):(A=w[M.si+M.length-2],I=w[M.si+M.length],L=T[M.ti+M.length]),f.isLeft(A,I,L)?r.push({l:p,r:h}):r.push({l:h,r:p})}}return f.getOrder(r)},f.makeSegments=function(g){function r(I){return{x:I.x,y:I.y}}for(var p=[],w=r(g[0]),T=1;T<g.length;T++){var M=r(g[T]),A=T<g.length-1?g[T+1]:null;(!A||(I=w,L=M,R=A,!(Math.abs((L.x-I.x)*(R.y-I.y)-(L.y-I.y)*(R.x-I.x))<.001)))&&(p.push([w,M]),w=M)}var I,L,R;return p},f.prototype.route=function(g,r){var h=this,p=this.nodes[g],w=this.nodes[r];this.obstacles=this.siblingObstacles(p,w);var T={};this.obstacles.forEach(function(F){return T[F.id]=F}),this.passableEdges=this.edges.filter(function(F){var H=h.verts[F.source],j=h.verts[F.target];return!(H.node&&H.node.id in T||j.node&&j.node.id in T)});for(var M=1;M<p.ports.length;M++)this.passableEdges.push({source:p.ports[0].id,target:p.ports[M].id,length:0});for(M=1;M<w.ports.length;M++)this.passableEdges.push({source:w.ports[0].id,target:w.ports[M].id,length:0});var it=new C.Calculator(this.verts.length,this.passableEdges,function(F){return F.source},function(F){return F.target},function(F){return F.length}).PathFromNodeToNodeWithPrevCost(p.ports[0].id,w.ports[0].id,function(F,H,j){var $=h.verts[F],W=h.verts[H],Q=h.verts[j],at=Math.abs(Q.x-$.x),Y=Math.abs(Q.y-$.y);return $.node===p&&$.node===W.node||W.node===w&&W.node===Q.node?0:at>1&&Y>1?1e3:0}).reverse().map(function(F){return h.verts[F]});return it.push(this.nodes[w.id].ports[0]),it.filter(function(F,H){return!(H<it.length-1&&it[H+1].node===p&&F.node===p||H>0&&F.node===w&&it[H-1].node===w)})},f.getRoutePath=function(g,r,h,p){var M,A,I,at,Y,w={routepath:"M "+g[0][0].x+" "+g[0][0].y+" ",arrowpath:""};if(g.length>1)for(var T=0;T<g.length;T++){var L=(A=(M=g[T])[1].x)-M[0].x,R=(I=M[1].y)-M[0].y;if(T<g.length-1){Math.abs(L)>0?A-=L/Math.abs(L)*r:I-=R/Math.abs(R)*r,w.routepath+="L "+A+" "+I+" ";var U=g[T+1],J=U[0].x,K=U[0].y;L=U[1].x-J,R=U[1].y-K;var H,j,F=f.angleBetween2Lines(M,U)<0?1:0;Math.abs(L)>0?(H=J+L/Math.abs(L)*r,j=K):(H=J,j=K+R/Math.abs(R)*r);var $=Math.abs(H-A),W=Math.abs(j-I);w.routepath+="A "+$+" "+W+" 0 0 "+F+" "+H+" "+j+" "}else{var Q=[A,I];Math.abs(L)>0?(at=[A-=L/Math.abs(L)*p,I+h],Y=[A,I-h]):(at=[A+h,I-=R/Math.abs(R)*p],Y=[A-h,I]),w.routepath+="L "+A+" "+I+" ",p>0&&(w.arrowpath="M "+Q[0]+" "+Q[1]+" L "+at[0]+" "+at[1]+" L "+Y[0]+" "+Y[1])}}else L=(A=(M=g[0])[1].x)-M[0].x,R=(I=M[1].y)-M[0].y,Q=[A,I],Math.abs(L)>0?(at=[A-=L/Math.abs(L)*p,I+h],Y=[A,I-h]):(at=[A+h,I-=R/Math.abs(R)*p],Y=[A-h,I]),w.routepath+="L "+A+" "+I+" ",p>0&&(w.arrowpath="M "+Q[0]+" "+Q[1]+" L "+at[0]+" "+at[1]+" L "+Y[0]+" "+Y[1]);return w},f}();B.GridRouter=_},20018:(G,B)=>{"use strict";Object.defineProperty(B,"__esModule",{value:!0});var b_GOLDEN_SECTION=(1+Math.sqrt(5))/2;B.applyPacking=function y(C,D,S,T,w,f){void 0===w&&(w=1),void 0===f&&(f=!0);var h=D,p=S,M=(w=void 0!==w?w:1,T=void 0!==T?T:0,0),A=0,I=0,L=0,R=[];function X(j,$){R=[],M=0,A=0,L=0;for(var W=0;W<j.length;W++)it(j[W],$);return Math.abs(function H(){return M/A}()-w)}function it(j,$){for(var W=void 0,Q=0;Q<R.length;Q++)if(R[Q].space_left>=j.height&&R[Q].x+R[Q].width+j.width+10-$<=1e-4){W=R[Q];break}R.push(j),void 0!==W?(j.x=W.x+W.width+10,j.y=W.bottom,j.space_left=j.height,j.bottom=j.y,W.space_left-=j.height+10,W.bottom+=j.height+10):(j.y=L,L+=j.height+10,j.x=0,j.bottom=j.y,j.space_left=j.height),j.y+j.height-A>-1e-4&&(A=j.y+j.height-0),j.x+j.width-M>-1e-4&&(M=j.x+j.width-0)}0!=C.length&&(function U(j){j.forEach(function(W){!function $(W){var Q=Number.MAX_VALUE,at=Number.MAX_VALUE,Y=0,z=0;W.array.forEach(function(nt){var ot=void 0!==nt.width?nt.width:T,dt=void 0!==nt.height?nt.height:T;ot/=2,dt/=2,Y=Math.max(nt.x+ot,Y),Q=Math.min(nt.x-ot,Q),z=Math.max(nt.y+dt,z),at=Math.min(nt.y-dt,at)}),W.width=Y-Q,W.height=z-at}(W)})}(C),function K(j,$){var W=Number.POSITIVE_INFINITY,Q=0;j.sort(function(tt,rt){return rt.height-tt.height});for(var at=_t=I=j.reduce(function(tt,rt){return tt.width<rt.width?tt.width:rt.width}),Y=St=function F(j){var $=0;return j.forEach(function(W){return $+=W.width+10}),$}(j),z=0,nt=Number.MAX_VALUE,ot=Number.MAX_VALUE,dt=-1,lt=Number.MAX_VALUE,ft=Number.MAX_VALUE;lt>I||ft>1e-4;){if(1!=dt){var _t=Y-(Y-at)/b_GOLDEN_SECTION;nt=X(j,_t)}if(0!=dt){var St=at+(Y-at)/b_GOLDEN_SECTION;ot=X(j,St)}if(lt=Math.abs(_t-St),ft=Math.abs(nt-ot),nt<W&&(W=nt,Q=_t),ot<W&&(W=ot,Q=St),nt>ot?(at=_t,_t=St,nt=ot,dt=1):(Y=St,St=_t,ot=nt,dt=0),z++>100)break}X(j,Q)}(C),f&&function J(j){j.forEach(function($){var W={x:0,y:0};$.array.forEach(function(Y){W.x+=Y.x,W.y+=Y.y}),W.x/=$.array.length,W.y/=$.array.length;var at_x=$.x-(W.x-$.width/2)+h/2-M/2,at_y=$.y-(W.y-$.height/2)+p/2-A/2;$.array.forEach(function(Y){Y.x+=at_x,Y.y+=at_y})})}(C))},B.separateGraphs=function O(C,D){for(var S={},x={},_=[],f=0,g=0;g<D.length;g++){var r=D[g],h=r.source,p=r.target;x[h.index]?x[h.index].push(p):x[h.index]=[p],x[p.index]?x[p.index].push(h):x[p.index]=[h]}for(g=0;g<C.length;g++){var w=C[g];S[w.index]||T(w,!0)}function T(M,A){if(void 0===S[M.index]){A&&(f++,_.push({array:[]})),S[M.index]=f,_[f-1].array.push(M);var I=x[M.index];if(I)for(var L=0;L<I.length;L++)T(I[L],!1)}}return _}},22324:(G,B,b)=>{"use strict";Object.defineProperty(B,"__esModule",{value:!0});var f,h,y=b(16620),O=b(54836),C=b(88121),D=b(72988),S=b(22359),x=b(58878),_=b(20018);function g(h){return void 0!==h.leaves||void 0!==h.groups}(h=f=B.EventType||(B.EventType={}))[h.start=0]="start",h[h.tick=1]="tick",h[h.end=2]="end";var r=function(){function h(){var p=this;this._canvasSize=[1,1],this._linkDistance=20,this._defaultNodeSize=10,this._linkLengthCalculator=null,this._linkType=null,this._avoidOverlaps=!1,this._handleDisconnected=!0,this._running=!1,this._nodes=[],this._groups=[],this._rootGroup=null,this._links=[],this._constraints=[],this._distanceMatrix=null,this._descent=null,this._directedLinkConstraints=null,this._threshold=.01,this._visibilityGraph=null,this._groupCompactness=1e-6,this.event=null,this.linkAccessor={getSourceIndex:h.getSourceIndex,getTargetIndex:h.getTargetIndex,setLength:h.setLinkLength,getType:function(w){return"function"==typeof p._linkType?p._linkType(w):0}}}return h.prototype.on=function(p,w){return this.event||(this.event={}),"string"==typeof p?this.event[f[p]]=w:this.event[p]=w,this},h.prototype.trigger=function(p){this.event&&void 0!==this.event[p.type]&&this.event[p.type](p)},h.prototype.kick=function(){for(;!this.tick(););},h.prototype.tick=function(){if(this._alpha<this._threshold)return this._running=!1,this.trigger({type:f.end,alpha:this._alpha=0,stress:this._lastStress}),!0;var T,M,p=this._nodes.length;for(this._descent.locks.clear(),M=0;M<p;++M)(T=this._nodes[M]).fixed&&((void 0===T.px||void 0===T.py)&&(T.px=T.x,T.py=T.y),this._descent.locks.add(M,[T.px,T.py]));var I=this._descent.rungeKutta();return 0===I?this._alpha=0:void 0!==this._lastStress&&(this._alpha=I),this._lastStress=I,this.updateNodePositions(),this.trigger({type:f.tick,alpha:this._alpha,stress:this._lastStress}),!1},h.prototype.updateNodePositions=function(){for(var T,p=this._descent.x[0],w=this._descent.x[1],M=this._nodes.length;M--;)(T=this._nodes[M]).x=p[M],T.y=w[M]},h.prototype.nodes=function(p){if(!p){if(0===this._nodes.length&&this._links.length>0){var w=0;this._links.forEach(function(M){w=Math.max(w,M.source,M.target)}),this._nodes=new Array(++w);for(var T=0;T<w;++T)this._nodes[T]={}}return this._nodes}return this._nodes=p,this},h.prototype.groups=function(p){var w=this;return p?(this._groups=p,this._rootGroup={},this._groups.forEach(function(T){void 0===T.padding&&(T.padding=1),void 0!==T.leaves&&T.leaves.forEach(function(M,A){"number"==typeof M&&((T.leaves[A]=w._nodes[M]).parent=T)}),void 0!==T.groups&&T.groups.forEach(function(M,A){"number"==typeof M&&((T.groups[A]=w._groups[M]).parent=T)})}),this._rootGroup.leaves=this._nodes.filter(function(T){return void 0===T.parent}),this._rootGroup.groups=this._groups.filter(function(T){return void 0===T.parent}),this):this._groups},h.prototype.powerGraphGroups=function(p){var w=y.getGroups(this._nodes,this._links,this.linkAccessor,this._rootGroup);return this.groups(w.groups),p(w),this},h.prototype.avoidOverlaps=function(p){return arguments.length?(this._avoidOverlaps=p,this):this._avoidOverlaps},h.prototype.handleDisconnected=function(p){return arguments.length?(this._handleDisconnected=p,this):this._handleDisconnected},h.prototype.flowLayout=function(p,w){return arguments.length||(p="y"),this._directedLinkConstraints={axis:p,getMinSeparation:"number"==typeof w?function(){return w}:w},this},h.prototype.links=function(p){return arguments.length?(this._links=p,this):this._links},h.prototype.constraints=function(p){return arguments.length?(this._constraints=p,this):this._constraints},h.prototype.distanceMatrix=function(p){return arguments.length?(this._distanceMatrix=p,this):this._distanceMatrix},h.prototype.size=function(p){return p?(this._canvasSize=p,this):this._canvasSize},h.prototype.defaultNodeSize=function(p){return p?(this._defaultNodeSize=p,this):this._defaultNodeSize},h.prototype.groupCompactness=function(p){return p?(this._groupCompactness=p,this):this._groupCompactness},h.prototype.linkDistance=function(p){return p?(this._linkDistance="function"==typeof p?p:+p,this._linkLengthCalculator=null,this):this._linkDistance},h.prototype.linkType=function(p){return this._linkType=p,this},h.prototype.convergenceThreshold=function(p){return p?(this._threshold="function"==typeof p?p:+p,this):this._threshold},h.prototype.alpha=function(p){return arguments.length?(p=+p,this._alpha?this._alpha=p>0?p:0:p>0&&(this._running||(this._running=!0,this.trigger({type:f.start,alpha:this._alpha=p}),this.kick())),this):this._alpha},h.prototype.getLinkLength=function(p){return"function"==typeof this._linkDistance?+this._linkDistance(p):this._linkDistance},h.setLinkLength=function(p,w){p.length=w},h.prototype.getLinkType=function(p){return"function"==typeof this._linkType?this._linkType(p):0},h.prototype.symmetricDiffLinkLengths=function(p,w){var T=this;return void 0===w&&(w=1),this.linkDistance(function(M){return p*M.length}),this._linkLengthCalculator=function(){return O.symmetricDiffLinkLengths(T._links,T.linkAccessor,w)},this},h.prototype.jaccardLinkLengths=function(p,w){var T=this;return void 0===w&&(w=1),this.linkDistance(function(M){return p*M.length}),this._linkLengthCalculator=function(){return O.jaccardLinkLengths(T._links,T.linkAccessor,w)},this},h.prototype.start=function(p,w,T,M,A,I){var L=this;void 0===p&&(p=0),void 0===w&&(w=0),void 0===T&&(T=0),void 0===M&&(M=0),void 0===A&&(A=!0),void 0===I&&(I=!0);var Q,J=this.nodes().length,K=J+2*this._groups.length,it=this._canvasSize[0],F=this._canvasSize[1],H=new Array(K),j=new Array(K),$=null,W=this._avoidOverlaps;this._nodes.forEach(function(lt,ft){lt.index=ft,void 0===lt.x&&(lt.x=it/2,lt.y=F/2),H[ft]=lt.x,j[ft]=lt.y}),this._linkLengthCalculator&&this._linkLengthCalculator(),this._distanceMatrix?Q=this._distanceMatrix:(Q=new S.Calculator(K,this._links,h.getSourceIndex,h.getTargetIndex,function(lt){return L.getLinkLength(lt)}).DistanceMatrix(),$=C.Descent.createSquareMatrix(K,function(){return 2}),this._links.forEach(function(lt){"number"==typeof lt.source&&(lt.source=L._nodes[lt.source]),"number"==typeof lt.target&&(lt.target=L._nodes[lt.target])}),this._links.forEach(function(lt){var ft=h.getSourceIndex(lt),_t=h.getTargetIndex(lt);$[ft][_t]=$[_t][ft]=lt.weight||1}));var at=C.Descent.createSquareMatrix(K,function(lt,ft){return Q[lt][ft]});if(this._rootGroup&&void 0!==this._rootGroup.groups){var R=J;this._groups.forEach(function(ft){(function(ft,_t,St,tt){$[ft][_t]=$[_t][ft]=St,at[ft][_t]=at[_t][ft]=.1})(R,R+1,L._groupCompactness),H[R]=0,j[R++]=0,H[R]=0,j[R++]=0})}else this._rootGroup={leaves:this._nodes,groups:[]};var z=this._constraints||[];for(this._directedLinkConstraints&&(this.linkAccessor.getMinSeparation=this._directedLinkConstraints.getMinSeparation,z=z.concat(O.generateDirectedEdgeConstraints(J,this._links,this._directedLinkConstraints.axis,this.linkAccessor))),this.avoidOverlaps(!1),this._descent=new C.Descent([H,j],at),this._descent.locks.clear(),R=0;R<J;++R){var nt=this._nodes[R];nt.fixed&&(nt.px=nt.x,nt.py=nt.y,this._descent.locks.add(R,[nt.x,nt.y]))}if(this._descent.threshold=this._threshold,this.initialLayout(p,H,j),z.length>0&&(this._descent.project=new D.Projection(this._nodes,this._groups,this._rootGroup,z).projectFunctions()),this._descent.run(w),this.separateOverlappingComponents(it,F,I),this.avoidOverlaps(W),W&&(this._nodes.forEach(function(lt,ft){lt.x=H[ft],lt.y=j[ft]}),this._descent.project=new D.Projection(this._nodes,this._groups,this._rootGroup,z,!0).projectFunctions(),this._nodes.forEach(function(lt,ft){H[ft]=lt.x,j[ft]=lt.y})),this._descent.G=$,this._descent.run(T),M){this._descent.snapStrength=1e3,this._descent.snapGridSize=this._nodes[0].width,this._descent.numGridSnapNodes=J,this._descent.scaleSnapByMaxH=J!=K;var dt=C.Descent.createSquareMatrix(K,function(lt,ft){return lt>=J||ft>=J?$[lt][ft]:0});this._descent.G=dt,this._descent.run(M)}return this.updateNodePositions(),this.separateOverlappingComponents(it,F,I),A?this.resume():this},h.prototype.initialLayout=function(p,w,T){if(this._groups.length>0&&p>0){var M=this._nodes.length,A=this._links.map(function(L){return{source:L.source.index,target:L.target.index}}),I=this._nodes.map(function(L){return{index:L.index}});this._groups.forEach(function(L,R){I.push({index:L.index=M+R})}),this._groups.forEach(function(L,R){void 0!==L.leaves&&L.leaves.forEach(function(U){return A.push({source:L.index,target:U.index})}),void 0!==L.groups&&L.groups.forEach(function(U){return A.push({source:L.index,target:U.index})})}),(new h).size(this.size()).nodes(I).links(A).avoidOverlaps(!1).linkDistance(this.linkDistance()).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(p,0,0,0,!1),this._nodes.forEach(function(L){w[L.index]=I[L.index].x,T[L.index]=I[L.index].y})}else this._descent.run(p)},h.prototype.separateOverlappingComponents=function(p,w,T){var M=this;if(void 0===T&&(T=!0),!this._distanceMatrix&&this._handleDisconnected){var A=this._descent.x[0],I=this._descent.x[1];this._nodes.forEach(function(R,U){R.x=A[U],R.y=I[U]});var L=_.separateGraphs(this._nodes,this._links);_.applyPacking(L,p,w,this._defaultNodeSize,1,T),this._nodes.forEach(function(R,U){M._descent.x[0][U]=R.x,M._descent.x[1][U]=R.y,R.bounds&&(R.bounds.setXCentre(R.x),R.bounds.setYCentre(R.y))})}},h.prototype.resume=function(){return this.alpha(.1)},h.prototype.stop=function(){return this.alpha(0)},h.prototype.prepareEdgeRouting=function(p){void 0===p&&(p=0),this._visibilityGraph=new x.TangentVisibilityGraph(this._nodes.map(function(w){return w.bounds.inflate(-p).vertices()}))},h.prototype.routeEdge=function(p,w,T){void 0===w&&(w=5);var M=[],A=new x.TangentVisibilityGraph(this._visibilityGraph.P,{V:this._visibilityGraph.V,E:this._visibilityGraph.E}),I={x:p.source.x,y:p.source.y},L={x:p.target.x,y:p.target.y},R=A.addPoint(I,p.source.index),U=A.addPoint(L,p.target.index);A.addEdgeIfVisible(I,L,p.source.index,p.target.index),void 0!==T&&T(A);var F=new S.Calculator(A.V.length,A.E,function(at){return at.source.id},function(at){return at.target.id},function(at){return at.length()}).PathFromNodeToNode(R.id,U.id);if(1===F.length||F.length===A.V.length){var H=D.makeEdgeBetween(p.source.innerBounds,p.target.innerBounds,w);M=[H.sourceIntersection,H.arrowStart]}else{for(var j=F.length-2,$=A.V[F[j]].p,W=A.V[F[0]].p,Q=(M=[p.source.innerBounds.rayIntersection($.x,$.y)],j);Q>=0;--Q)M.push(A.V[F[Q]].p);M.push(D.makeEdgeTo(W,p.target.innerBounds,w))}return M},h.getSourceIndex=function(p){return"number"==typeof p.source?p.source:p.source.index},h.getTargetIndex=function(p){return"number"==typeof p.target?p.target:p.target.index},h.linkId=function(p){return h.getSourceIndex(p)+"-"+h.getTargetIndex(p)},h.dragStart=function(p){g(p)?h.storeOffset(p,h.dragOrigin(p)):(h.stopNode(p),p.fixed|=2)},h.stopNode=function(p){p.px=p.x,p.py=p.y},h.storeOffset=function(p,w){void 0!==p.leaves&&p.leaves.forEach(function(T){T.fixed|=2,h.stopNode(T),T._dragGroupOffsetX=T.x-w.x,T._dragGroupOffsetY=T.y-w.y}),void 0!==p.groups&&p.groups.forEach(function(T){return h.storeOffset(T,w)})},h.dragOrigin=function(p){return g(p)?{x:p.bounds.cx(),y:p.bounds.cy()}:p},h.drag=function(p,w){g(p)?(void 0!==p.leaves&&p.leaves.forEach(function(T){p.bounds.setXCentre(w.x),p.bounds.setYCentre(w.y),T.px=T._dragGroupOffsetX+w.x,T.py=T._dragGroupOffsetY+w.y}),void 0!==p.groups&&p.groups.forEach(function(T){return h.drag(T,w)})):(p.px=w.x,p.py=w.y)},h.dragEnd=function(p){g(p)?(void 0!==p.leaves&&p.leaves.forEach(function(w){h.dragEnd(w),delete w._dragGroupOffsetX,delete w._dragGroupOffsetY}),void 0!==p.groups&&p.groups.forEach(h.dragEnd)):p.fixed&=-7},h.mouseOver=function(p){p.fixed|=4,p.px=p.x,p.py=p.y},h.mouseOut=function(p){p.fixed&=-5},h}();B.Layout=r},38722:(G,B,b)=>{"use strict";Object.defineProperty(B,"__esModule",{value:!0});var y=b(22359),O=b(88121),C=b(72988),D=b(54836),S=function(){function g(r,h){this.source=r,this.target=h}return g.prototype.actualLength=function(r){var h=this;return Math.sqrt(r.reduce(function(p,w){var T=w[h.target]-w[h.source];return p+T*T},0))},g}();B.Link3D=S,B.Node3D=function g(r,h,p){void 0===r&&(r=0),void 0===h&&(h=0),void 0===p&&(p=0),this.x=r,this.y=h,this.z=p};var _=function(){function g(r,h,p){var w=this;void 0===p&&(p=1),this.nodes=r,this.links=h,this.idealLinkLength=p,this.constraints=null,this.useJaccardLinkLengths=!0,this.result=new Array(g.k);for(var T=0;T<g.k;++T)this.result[T]=new Array(r.length);r.forEach(function(M,A){for(var I=0,L=g.dims;I<L.length;I++){var R=L[I];void 0===M[R]&&(M[R]=Math.random())}w.result[0][A]=M.x,w.result[1][A]=M.y,w.result[2][A]=M.z})}return g.prototype.linkLength=function(r){return r.actualLength(this.result)},g.prototype.start=function(r){var h=this;void 0===r&&(r=100);var p=this.nodes.length,w=new f;this.useJaccardLinkLengths&&D.jaccardLinkLengths(this.links,w,1.5),this.links.forEach(function(R){return R.length*=h.idealLinkLength});var T=new y.Calculator(p,this.links,function(R){return R.source},function(R){return R.target},function(R){return R.length}).DistanceMatrix(),M=O.Descent.createSquareMatrix(p,function(R,U){return T[R][U]}),A=O.Descent.createSquareMatrix(p,function(){return 2});this.links.forEach(function(R){var U=R.source,J=R.target;return A[U][J]=A[J][U]=1}),this.descent=new O.Descent(this.result,M),this.descent.threshold=.001,this.descent.G=A,this.constraints&&(this.descent.project=new C.Projection(this.nodes,null,null,this.constraints).projectFunctions());for(var I=0;I<this.nodes.length;I++){var L=this.nodes[I];L.fixed&&this.descent.locks.add(I,[L.x,L.y,L.z])}return this.descent.run(r),this},g.prototype.tick=function(){this.descent.locks.clear();for(var r=0;r<this.nodes.length;r++){var h=this.nodes[r];h.fixed&&this.descent.locks.add(r,[h.x,h.y,h.z])}return this.descent.rungeKutta()},g.k=(g.dims=["x","y","z"]).length,g}();B.Layout3D=_;var f=function(){function g(){}return g.prototype.getSourceIndex=function(r){return r.source},g.prototype.getTargetIndex=function(r){return r.target},g.prototype.getLength=function(r){return r.length},g.prototype.setLength=function(r,h){r.length=h},g}()},54836:(G,B)=>{"use strict";function b(f,g){var r={};for(var h in f)r[h]={};for(var h in g)r[h]={};return Object.keys(r).length}function y(f,g){var r=0;for(var h in f)void 0!==g[h]&&++r;return r}function C(f,g,r,h){var p=function O(f,g){var r={},h=function(p,w){void 0===r[p]&&(r[p]={}),r[p][w]={}};return f.forEach(function(p){var w=g.getSourceIndex(p),T=g.getTargetIndex(p);h(w,T),h(T,w)}),r}(f,h);f.forEach(function(w){var T=p[h.getSourceIndex(w)],M=p[h.getTargetIndex(w)];h.setLength(w,1+g*r(T,M))})}function _(f,g,r){var h=[],p=0,w=[],T=[];function M(F){F.index=F.lowlink=p++,w.push(F),F.onStack=!0;for(var H=0,j=F.out;H<j.length;H++){var $=j[H];void 0===$.index?(M($),F.lowlink=Math.min(F.lowlink,$.lowlink)):$.onStack&&(F.lowlink=Math.min(F.lowlink,$.index))}if(F.lowlink===F.index){for(var W=[];w.length&&(($=w.pop()).onStack=!1,W.push($),$!==F););T.push(W.map(function(Q){return Q.id}))}}for(var A=0;A<f;A++)h.push({id:A,out:[]});for(var I=0,L=g;I<L.length;I++){var R=L[I],U=h[r.getSourceIndex(R)],J=h[r.getTargetIndex(R)];U.out.push(J)}for(var K=0,X=h;K<X.length;K++){var it=X[K];void 0===it.index&&M(it)}return T}Object.defineProperty(B,"__esModule",{value:!0}),B.symmetricDiffLinkLengths=function D(f,g,r){void 0===r&&(r=1),C(f,r,function(h,p){return Math.sqrt(b(h,p)-y(h,p))},g)},B.jaccardLinkLengths=function S(f,g,r){void 0===r&&(r=1),C(f,r,function(h,p){return Math.min(Object.keys(h).length,Object.keys(p).length)<1.1?0:y(h,p)/b(h,p)},g)},B.generateDirectedEdgeConstraints=function x(f,g,r,h){var p=_(f,g,h),w={};p.forEach(function(M,A){return M.forEach(function(I){return w[I]=A})});var T=[];return g.forEach(function(M){var A=h.getSourceIndex(M),I=h.getTargetIndex(M);w[A]!==w[I]&&T.push({axis:r,left:A,right:I,gap:h.getMinSeparation(M)})}),T},B.stronglyConnectedComponents=_},16620:(G,B)=>{"use strict";Object.defineProperty(B,"__esModule",{value:!0});var b=function g(r,h,p){this.source=r,this.target=h,this.type=p};B.PowerEdge=b;var y=function(){function g(r,h,p,w){var T=this;if(this.linkAccessor=p,this.modules=new Array(r),this.roots=[],w)this.initModulesFromGroup(w);else{this.roots.push(new S);for(var M=0;M<r;++M)this.roots[0].add(this.modules[M]=new C(M))}this.R=h.length,h.forEach(function(A){var I=T.modules[p.getSourceIndex(A)],L=T.modules[p.getTargetIndex(A)],R=p.getType(A);I.outgoing.add(R,L),L.incoming.add(R,I)})}return g.prototype.initModulesFromGroup=function(r){var h=new S;this.roots.push(h);for(var p=0;p<r.leaves.length;++p){var w=r.leaves[p],T=new C(w.id);this.modules[w.id]=T,h.add(T)}if(r.groups)for(var M=0;M<r.groups.length;++M){var A=r.groups[M],I={};for(var L in A)"leaves"!==L&&"groups"!==L&&A.hasOwnProperty(L)&&(I[L]=A[L]);h.add(new C(-1-M,new x,new x,this.initModulesFromGroup(A),I))}return h},g.prototype.merge=function(r,h,p){void 0===p&&(p=0);var w=r.incoming.intersection(h.incoming),T=r.outgoing.intersection(h.outgoing),M=new S;M.add(r),M.add(h);var A=new C(this.modules.length,T,w,M);this.modules.push(A);var I=function(L,R,U){L.forAll(function(J,K){J.forAll(function(X){var it=X[R];it.add(K,A),it.remove(K,r),it.remove(K,h),r[U].remove(K,X),h[U].remove(K,X)})})};return I(T,"incoming","outgoing"),I(w,"outgoing","incoming"),this.R-=w.count()+T.count(),this.roots[p].remove(r),this.roots[p].remove(h),this.roots[p].add(A),A},g.prototype.rootMerges=function(r){void 0===r&&(r=0);for(var h=this.roots[r].modules(),p=h.length,w=new Array(p*(p-1)),T=0,M=0,A=p-1;M<A;++M)for(var I=M+1;I<p;++I){var L=h[M],R=h[I];w[T]={id:T,nEdges:this.nEdges(L,R),a:L,b:R},T++}return w},g.prototype.greedyMerge=function(){for(var r=0;r<this.roots.length;++r)if(!(this.roots[r].modules().length<2)){var p=this.rootMerges(r).sort(function(w,T){return w.nEdges==T.nEdges?w.id-T.id:w.nEdges-T.nEdges})[0];if(!(p.nEdges>=this.R))return this.merge(p.a,p.b,r),!0}},g.prototype.nEdges=function(r,h){var p=r.incoming.intersection(h.incoming),w=r.outgoing.intersection(h.outgoing);return this.R-p.count()-w.count()},g.prototype.getGroupHierarchy=function(r){var h=this,p=[];return O(this.roots[0],{},p),this.allEdges().forEach(function(M){var A=h.modules[M.source],I=h.modules[M.target];r.push(new b(void 0===A.gid?M.source:p[A.gid],void 0===I.gid?M.target:p[I.gid],M.type))}),p},g.prototype.allEdges=function(){var r=[];return g.getEdges(this.roots[0],r),r},g.getEdges=function(r,h){r.forAll(function(p){p.getEdges(h),g.getEdges(p.children,h)})},g}();function O(g,r,h){g.forAll(function(p){if(p.isLeaf())r.leaves||(r.leaves=[]),r.leaves.push(p.id);else{var w=r;if(p.gid=h.length,!p.isIsland()||p.isPredefined()){if(w={id:p.gid},p.isPredefined())for(var T in p.definition)w[T]=p.definition[T];r.groups||(r.groups=[]),r.groups.push(p.gid),h.push(w)}O(p.children,w,h)}})}B.Configuration=y;var C=function(){function g(r,h,p,w,T){void 0===h&&(h=new x),void 0===p&&(p=new x),void 0===w&&(w=new S),this.id=r,this.outgoing=h,this.incoming=p,this.children=w,this.definition=T}return g.prototype.getEdges=function(r){var h=this;this.outgoing.forAll(function(p,w){p.forAll(function(T){r.push(new b(h.id,T.id,w))})})},g.prototype.isLeaf=function(){return 0===this.children.count()},g.prototype.isIsland=function(){return 0===this.outgoing.count()&&0===this.incoming.count()},g.prototype.isPredefined=function(){return void 0!==this.definition},g}();B.Module=C;var S=function(){function g(){this.table={}}return g.prototype.count=function(){return Object.keys(this.table).length},g.prototype.intersection=function(r){var h=new g;return h.table=function D(g,r){var h={};for(var p in g)p in r&&(h[p]=g[p]);return h}(this.table,r.table),h},g.prototype.intersectionCount=function(r){return this.intersection(r).count()},g.prototype.contains=function(r){return r in this.table},g.prototype.add=function(r){this.table[r.id]=r},g.prototype.remove=function(r){delete this.table[r.id]},g.prototype.forAll=function(r){for(var h in this.table)r(this.table[h])},g.prototype.modules=function(){var r=[];return this.forAll(function(h){h.isPredefined()||r.push(h)}),r},g}();B.ModuleSet=S;var x=function(){function g(){this.sets={},this.n=0}return g.prototype.count=function(){return this.n},g.prototype.contains=function(r){var h=!1;return this.forAllModules(function(p){!h&&p.id==r&&(h=!0)}),h},g.prototype.add=function(r,h){(r in this.sets?this.sets[r]:this.sets[r]=new S).add(h),++this.n},g.prototype.remove=function(r,h){var p=this.sets[r];p.remove(h),0===p.count()&&delete this.sets[r],--this.n},g.prototype.forAll=function(r){for(var h in this.sets)r(this.sets[h],Number(h))},g.prototype.forAllModules=function(r){this.forAll(function(h,p){return h.forAll(r)})},g.prototype.intersection=function(r){var h=new g;return this.forAll(function(p,w){if(w in r.sets){var T=p.intersection(r.sets[w]),M=T.count();M>0&&(h.sets[w]=T,h.n+=M)}}),h},g}();B.LinkSets=x,B.getGroups=function f(g,r,h,p){for(var T=new y(g.length,r,h,p);T.greedyMerge(););var M=[],A=T.getGroupHierarchy(M);return M.forEach(function(I){var L=function(R){var U=I[R];"number"==typeof U&&(I[R]=g[U])};L("source"),L("target")}),{groups:A,powerEdges:M}}},46332:(G,B)=>{"use strict";Object.defineProperty(B,"__esModule",{value:!0});var b=function(){function O(C){this.elem=C,this.subheaps=[]}return O.prototype.toString=function(C){for(var D="",S=!1,x=0;x<this.subheaps.length;++x){var _=this.subheaps[x];_.elem?(S&&(D+=","),D+=_.toString(C),S=!0):S=!1}return""!==D&&(D="("+D+")"),(this.elem?C(this.elem):"")+D},O.prototype.forEach=function(C){this.empty()||(C(this.elem,this),this.subheaps.forEach(function(D){return D.forEach(C)}))},O.prototype.count=function(){return this.empty()?0:1+this.subheaps.reduce(function(C,D){return C+D.count()},0)},O.prototype.min=function(){return this.elem},O.prototype.empty=function(){return null==this.elem},O.prototype.contains=function(C){if(this===C)return!0;for(var D=0;D<this.subheaps.length;D++)if(this.subheaps[D].contains(C))return!0;return!1},O.prototype.isHeap=function(C){var D=this;return this.subheaps.every(function(S){return C(D.elem,S.elem)&&S.isHeap(C)})},O.prototype.insert=function(C,D){return this.merge(new O(C),D)},O.prototype.merge=function(C,D){return this.empty()?C:C.empty()?this:D(this.elem,C.elem)?(this.subheaps.push(C),this):(C.subheaps.push(this),C)},O.prototype.removeMin=function(C){return this.empty()?null:this.mergePairs(C)},O.prototype.mergePairs=function(C){if(0==this.subheaps.length)return new O(null);if(1==this.subheaps.length)return this.subheaps[0];var D=this.subheaps.pop().merge(this.subheaps.pop(),C),S=this.mergePairs(C);return D.merge(S,C)},O.prototype.decreaseKey=function(C,D,S,x){var _=C.removeMin(x);C.elem=_.elem,C.subheaps=_.subheaps,null!==S&&null!==_.elem&&S(C.elem,C);var f=new O(D);return null!==S&&S(D,f),this.merge(f,x)},O}();B.PairingHeap=b;var y=function(){function O(C){this.lessThan=C}return O.prototype.top=function(){return this.empty()?null:this.root.elem},O.prototype.push=function(){for(var C=[],D=0;D<arguments.length;D++)C[D]=arguments[D];for(var S,_,x=0;_=C[x];++x)S=new b(_),this.root=this.empty()?S:this.root.merge(S,this.lessThan);return S},O.prototype.empty=function(){return!this.root||!this.root.elem},O.prototype.isHeap=function(){return this.root.isHeap(this.lessThan)},O.prototype.forEach=function(C){this.root.forEach(C)},O.prototype.pop=function(){if(this.empty())return null;var C=this.root.min();return this.root=this.root.removeMin(this.lessThan),C},O.prototype.reduceKey=function(C,D,S){void 0===S&&(S=null),this.root=this.root.decreaseKey(C,D,S,this.lessThan)},O.prototype.toString=function(C){return this.root.toString(C)},O.prototype.count=function(){return this.root.count()},O}();B.PriorityQueue=y},33073:function(G,B){"use strict";var S,b=this&&this.__extends||(S=function(x,_){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,g){f.__proto__=g}||function(f,g){for(var r in g)g.hasOwnProperty(r)&&(f[r]=g[r])})(x,_)},function(x,_){function f(){this.constructor=x}S(x,_),x.prototype=null===_?Object.create(_):(f.prototype=_.prototype,new f)});Object.defineProperty(B,"__esModule",{value:!0});var y=function(){function S(){this.findIter=function(x){for(var _=this._root,f=this.iterator();null!==_;){var g=this._comparator(x,_.data);if(0===g)return f._cursor=_,f;f._ancestors.push(_),_=_.get_child(g>0)}return null}}return S.prototype.clear=function(){this._root=null,this.size=0},S.prototype.find=function(x){for(var _=this._root;null!==_;){var f=this._comparator(x,_.data);if(0===f)return _.data;_=_.get_child(f>0)}return null},S.prototype.lowerBound=function(x){return this._bound(x,this._comparator)},S.prototype.upperBound=function(x){var _=this._comparator;return this._bound(x,function f(g,r){return _(r,g)})},S.prototype.min=function(){var x=this._root;if(null===x)return null;for(;null!==x.left;)x=x.left;return x.data},S.prototype.max=function(){var x=this._root;if(null===x)return null;for(;null!==x.right;)x=x.right;return x.data},S.prototype.iterator=function(){return new O(this)},S.prototype.each=function(x){for(var f,_=this.iterator();null!==(f=_.next());)x(f)},S.prototype.reach=function(x){for(var f,_=this.iterator();null!==(f=_.prev());)x(f)},S.prototype._bound=function(x,_){for(var f=this._root,g=this.iterator();null!==f;){var r=this._comparator(x,f.data);if(0===r)return g._cursor=f,g;g._ancestors.push(f),f=f.get_child(r>0)}for(var h=g._ancestors.length-1;h>=0;--h)if(_(x,(f=g._ancestors[h]).data)>0)return g._cursor=f,g._ancestors.length=h,g;return g._ancestors.length=0,g},S}();B.TreeBase=y;var O=function(){function S(x){this._tree=x,this._ancestors=[],this._cursor=null}return S.prototype.data=function(){return null!==this._cursor?this._cursor.data:null},S.prototype.next=function(){if(null===this._cursor){var x=this._tree._root;null!==x&&this._minNode(x)}else if(null===this._cursor.right){var _;do{if(_=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.right===_)}else this._ancestors.push(this._cursor),this._minNode(this._cursor.right);return null!==this._cursor?this._cursor.data:null},S.prototype.prev=function(){if(null===this._cursor){var x=this._tree._root;null!==x&&this._maxNode(x)}else if(null===this._cursor.left){var _;do{if(_=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.left===_)}else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left);return null!==this._cursor?this._cursor.data:null},S.prototype._minNode=function(x){for(;null!==x.left;)this._ancestors.push(x),x=x.left;this._cursor=x},S.prototype._maxNode=function(x){for(;null!==x.right;)this._ancestors.push(x),x=x.right;this._cursor=x},S}();B.Iterator=O;var C=function(){function S(x){this.data=x,this.left=null,this.right=null,this.red=!0}return S.prototype.get_child=function(x){return x?this.right:this.left},S.prototype.set_child=function(x,_){x?this.right=_:this.left=_},S}(),D=function(S){function x(_){var f=S.call(this)||this;return f._root=null,f._comparator=_,f.size=0,f}return b(x,S),x.prototype.insert=function(_){var f=!1;if(null===this._root)this._root=new C(_),f=!0,this.size++;else{var g=new C(void 0),r=!1,h=!1,p=null,w=g,T=null,M=this._root;for(w.right=this._root;;){if(null===M?(M=new C(_),T.set_child(r,M),f=!0,this.size++):x.is_red(M.left)&&x.is_red(M.right)&&(M.red=!0,M.left.red=!1,M.right.red=!1),x.is_red(M)&&x.is_red(T)){var A=w.right===p;M===T.get_child(h)?w.set_child(A,x.single_rotate(p,!h)):w.set_child(A,x.double_rotate(p,!h))}var I=this._comparator(M.data,_);if(0===I)break;h=r,null!==p&&(w=p),p=T,T=M,M=M.get_child(r=I<0)}this._root=g.right}return this._root.red=!1,f},x.prototype.remove=function(_){if(null===this._root)return!1;var f=new C(void 0),g=f;g.right=this._root;for(var r=null,h=null,p=null,w=!0;null!==g.get_child(w);){var T=w;h=r,r=g,g=g.get_child(w);var M=this._comparator(_,g.data);if(w=M>0,0===M&&(p=g),!x.is_red(g)&&!x.is_red(g.get_child(w)))if(x.is_red(g.get_child(!w))){var A=x.single_rotate(g,w);r.set_child(T,A),r=A}else if(!x.is_red(g.get_child(!w))){var I=r.get_child(!T);if(null!==I)if(x.is_red(I.get_child(!T))||x.is_red(I.get_child(T))){var L=h.right===r;x.is_red(I.get_child(T))?h.set_child(L,x.double_rotate(r,T)):x.is_red(I.get_child(!T))&&h.set_child(L,x.single_rotate(r,T));var R=h.get_child(L);R.red=!0,g.red=!0,R.left.red=!1,R.right.red=!1}else r.red=!1,I.red=!0,g.red=!0}}return null!==p&&(p.data=g.data,r.set_child(r.right===g,g.get_child(null===g.left)),this.size--),this._root=f.right,null!==this._root&&(this._root.red=!1),null!==p},x.is_red=function(_){return null!==_&&_.red},x.single_rotate=function(_,f){var g=_.get_child(!f);return _.set_child(!f,g.get_child(f)),g.set_child(f,_),_.red=!0,g.red=!1,g},x.double_rotate=function(_,f){return _.set_child(!f,x.single_rotate(_.get_child(!f),!f)),x.single_rotate(_,f)},x}(y);B.RBTree=D},72988:function(G,B,b){"use strict";var F,y=this&&this.__extends||(F=function(H,j){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,W){$.__proto__=W}||function($,W){for(var Q in W)W.hasOwnProperty(Q)&&($[Q]=W[Q])})(H,j)},function(H,j){function $(){this.constructor=H}F(H,j),H.prototype=null===j?Object.create(j):($.prototype=j.prototype,new $)});Object.defineProperty(B,"__esModule",{value:!0});var O=b(14078),C=b(33073);function D(F){return F.bounds=void 0!==F.leaves?F.leaves.reduce(function(H,j){return j.bounds.union(H)},S.empty()):S.empty(),void 0!==F.groups&&(F.bounds=F.groups.reduce(function(H,j){return D(j).union(H)},F.bounds)),F.bounds=F.bounds.inflate(F.padding),F.bounds}B.computeGroupBounds=D;var S=function(){function F(H,j,$,W){this.x=H,this.X=j,this.y=$,this.Y=W}return F.empty=function(){return new F(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)},F.prototype.cx=function(){return(this.x+this.X)/2},F.prototype.cy=function(){return(this.y+this.Y)/2},F.prototype.overlapX=function(H){var j=this.cx(),$=H.cx();return j<=$&&H.x<this.X?this.X-H.x:$<=j&&this.x<H.X?H.X-this.x:0},F.prototype.overlapY=function(H){var j=this.cy(),$=H.cy();return j<=$&&H.y<this.Y?this.Y-H.y:$<=j&&this.y<H.Y?H.Y-this.y:0},F.prototype.setXCentre=function(H){var j=H-this.cx();this.x+=j,this.X+=j},F.prototype.setYCentre=function(H){var j=H-this.cy();this.y+=j,this.Y+=j},F.prototype.width=function(){return this.X-this.x},F.prototype.height=function(){return this.Y-this.y},F.prototype.union=function(H){return new F(Math.min(this.x,H.x),Math.max(this.X,H.X),Math.min(this.y,H.y),Math.max(this.Y,H.Y))},F.prototype.lineIntersections=function(H,j,$,W){for(var Q=[[this.x,this.y,this.X,this.y],[this.X,this.y,this.X,this.Y],[this.X,this.Y,this.x,this.Y],[this.x,this.Y,this.x,this.y]],at=[],Y=0;Y<4;++Y){var z=F.lineIntersection(H,j,$,W,Q[Y][0],Q[Y][1],Q[Y][2],Q[Y][3]);null!==z&&at.push({x:z.x,y:z.y})}return at},F.prototype.rayIntersection=function(H,j){var $=this.lineIntersections(this.cx(),this.cy(),H,j);return $.length>0?$[0]:null},F.prototype.vertices=function(){return[{x:this.x,y:this.y},{x:this.X,y:this.y},{x:this.X,y:this.Y},{x:this.x,y:this.Y}]},F.lineIntersection=function(H,j,$,W,Q,at,Y,z){var nt=$-H,ot=Y-Q,dt=W-j,lt=z-at,ft=lt*nt-ot*dt;if(0==ft)return null;var _t=H-Q,St=j-at,rt=(ot*St-lt*_t)/ft,pt=(nt*St-dt*_t)/ft;return rt>=0&&rt<=1&&pt>=0&&pt<=1?{x:H+rt*nt,y:j+rt*dt}:null},F.prototype.inflate=function(H){return new F(this.x-H,this.X+H,this.y-H,this.Y+H)},F}();B.Rectangle=S,B.makeEdgeBetween=function x(F,H,j){var $=F.rayIntersection(H.cx(),H.cy())||{x:F.cx(),y:F.cy()},W=H.rayIntersection(F.cx(),F.cy())||{x:H.cx(),y:H.cy()},Q=W.x-$.x,at=W.y-$.y,Y=Math.sqrt(Q*Q+at*at),z=Y-j;return{sourceIntersection:$,targetIntersection:W,arrowStart:{x:$.x+z*Q/Y,y:$.y+z*at/Y}}},B.makeEdgeTo=function _(F,H,j){var $=H.rayIntersection(F.x,F.y);$||($={x:H.cx(),y:H.cy()});var W=$.x-F.x,Q=$.y-F.y,at=Math.sqrt(W*W+Q*Q);return{x:$.x-j*W/at,y:$.y-j*Q/at}};var f=function F(H,j,$){this.v=H,this.r=j,this.pos=$,this.prev=h(),this.next=h()},g=function F(H,j,$){this.isOpen=H,this.v=j,this.pos=$};function r(F,H){return F.pos>H.pos?1:F.pos<H.pos||F.isOpen?-1:H.isOpen?1:0}function h(){return new C.RBTree(function(F,H){return F.pos-H.pos})}var p={getCentre:function(F){return F.cx()},getOpen:function(F){return F.y},getClose:function(F){return F.Y},getSize:function(F){return F.width()},makeRect:function(F,H,j,$){return new S(j-$/2,j+$/2,F,H)},findNeighbours:function A(F,H){var j=function($,W){for(var at,Q=H.findIter(F);null!==(at=Q[$]());){var Y=at.r.overlapX(F.r);if((Y<=0||Y<=at.r.overlapY(F.r))&&(F[$].insert(at),at[W].insert(F)),Y<=0)break}};j("next","prev"),j("prev","next")}},w={getCentre:function(F){return F.cy()},getOpen:function(F){return F.x},getClose:function(F){return F.X},getSize:function(F){return F.height()},makeRect:function(F,H,j,$){return new S(F,H,j-$/2,j+$/2)},findNeighbours:function I(F,H){var j=function($,W){var Q=H.findIter(F)[$]();null!==Q&&Q.r.overlapX(F.r)>0&&(F[$].insert(Q),Q[W].insert(F))};j("next","prev"),j("prev","next")}};function T(F,H,j,$){void 0===$&&($=!1);var W=F.padding,Q=void 0!==F.groups?F.groups.length:0,at=void 0!==F.leaves?F.leaves.length:0,Y=Q?F.groups.reduce(function(bt,Nt){return bt.concat(T(Nt,H,j,!0))},[]):[],z=($?2:0)+at+Q,nt=new Array(z),ot=new Array(z),dt=0,lt=function(bt,Nt){ot[dt]=bt,nt[dt++]=Nt};if($){var ft=F.bounds,_t=H.getCentre(ft),St=H.getSize(ft)/2,tt=H.getOpen(ft),rt=H.getClose(ft),ct=_t-St+W/2,pt=_t+St-W/2;F.minVar.desiredPosition=ct,lt(H.makeRect(tt,rt,ct,W),F.minVar),F.maxVar.desiredPosition=pt,lt(H.makeRect(tt,rt,pt,W),F.maxVar)}at&&F.leaves.forEach(function(bt){return lt(bt.bounds,bt.variable)}),Q&&F.groups.forEach(function(bt){var Nt=bt.bounds;lt(H.makeRect(H.getOpen(Nt),H.getClose(Nt),H.getCentre(Nt),H.getSize(Nt)),bt.minVar)});var vt=M(ot,nt,H,j);return Q&&(nt.forEach(function(bt){bt.cOut=[],bt.cIn=[]}),vt.forEach(function(bt){bt.left.cOut.push(bt),bt.right.cIn.push(bt)}),F.groups.forEach(function(bt){var Nt=(bt.padding-H.getSize(bt.bounds))/2;bt.minVar.cIn.forEach(function(Lt){return Lt.gap+=Nt}),bt.minVar.cOut.forEach(function(Lt){Lt.left=bt.maxVar,Lt.gap+=Nt})})),Y.concat(vt)}function M(F,H,j,$){var W,Q=F.length,at=2*Q;console.assert(H.length>=Q);var Y=new Array(at);for(W=0;W<Q;++W){var z=F[W],nt=new f(H[W],z,j.getCentre(z));Y[W]=new g(!0,nt,j.getOpen(z)),Y[W+Q]=new g(!1,nt,j.getClose(z))}Y.sort(r);var ot=new Array,dt=h();for(W=0;W<at;++W){var lt=Y[W];if(nt=lt.v,lt.isOpen)dt.insert(nt),j.findNeighbours(nt,dt);else{dt.remove(nt);var ft=function(tt,rt){var ct=(j.getSize(tt.r)+j.getSize(rt.r))/2+$;ot.push(new O.Constraint(tt.v,rt.v,ct))},_t=function(tt,rt,ct){for(var pt,vt=nt[tt].iterator();null!==(pt=vt[tt]());)ct(pt,nt),pt[rt].remove(nt)};_t("prev","next",function(tt,rt){return ft(tt,rt)}),_t("next","prev",function(tt,rt){return ft(rt,tt)})}}return console.assert(0===dt.size),ot}function L(F,H){return M(F,H,p,1e-6)}function R(F,H){return M(F,H,w,1e-6)}function U(F){return T(F,p,1e-6)}function J(F){return T(F,w,1e-6)}B.generateXConstraints=L,B.generateYConstraints=R,B.generateXGroupConstraints=U,B.generateYGroupConstraints=J,B.removeOverlaps=function K(F){var H=F.map(function(W){return new O.Variable(W.cx())}),j=L(F,H),$=new O.Solver(H,j);$.solve(),H.forEach(function(W,Q){return F[Q].setXCentre(W.position())}),H=F.map(function(W){return new O.Variable(W.cy())}),j=R(F,H),($=new O.Solver(H,j)).solve(),H.forEach(function(W,Q){return F[Q].setYCentre(W.position())})};var X=function(F){function H(j,$){var W=F.call(this,0,$)||this;return W.index=j,W}return y(H,F),H}(O.Variable);B.IndexedVariable=X;var it=function(){function F(H,j,$,W,Q){var at=this;if(void 0===$&&($=null),void 0===W&&(W=null),void 0===Q&&(Q=!1),this.nodes=H,this.groups=j,this.rootGroup=$,this.avoidOverlaps=Q,this.variables=H.map(function(z,nt){return z.variable=new X(nt,1)}),W&&this.createConstraints(W),Q&&$&&void 0!==$.groups){H.forEach(function(z){if(z.width&&z.height){var nt=z.width/2,ot=z.height/2;z.bounds=new S(z.x-nt,z.x+nt,z.y-ot,z.y+ot)}else z.bounds=new S(z.x,z.x,z.y,z.y)}),D($);var Y=H.length;j.forEach(function(z){at.variables[Y]=z.minVar=new X(Y++,void 0!==z.stiffness?z.stiffness:.01),at.variables[Y]=z.maxVar=new X(Y++,void 0!==z.stiffness?z.stiffness:.01)})}}return F.prototype.createSeparation=function(H){return new O.Constraint(this.nodes[H.left].variable,this.nodes[H.right].variable,H.gap,void 0!==H.equality&&H.equality)},F.prototype.makeFeasible=function(H){var j=this;if(this.avoidOverlaps){var $="x",W="width";"x"===H.axis&&($="y",W="height");var Q=H.offsets.map(function(Y){return j.nodes[Y.node]}).sort(function(Y,z){return Y[$]-z[$]}),at=null;Q.forEach(function(Y){if(at){var z=at[$]+at[W];z>Y[$]&&(Y[$]=z)}at=Y})}},F.prototype.createAlignment=function(H){var j=this,$=this.nodes[H.offsets[0].node].variable;this.makeFeasible(H);var W="x"===H.axis?this.xConstraints:this.yConstraints;H.offsets.slice(1).forEach(function(Q){W.push(new O.Constraint($,j.nodes[Q.node].variable,Q.offset,!0))})},F.prototype.createConstraints=function(H){var j=this,$=function(W){return void 0===W.type||"separation"===W.type};this.xConstraints=H.filter(function(W){return"x"===W.axis&&$(W)}).map(function(W){return j.createSeparation(W)}),this.yConstraints=H.filter(function(W){return"y"===W.axis&&$(W)}).map(function(W){return j.createSeparation(W)}),H.filter(function(W){return"alignment"===W.type}).forEach(function(W){return j.createAlignment(W)})},F.prototype.setupVariablesAndBounds=function(H,j,$,W){this.nodes.forEach(function(Q,at){Q.fixed?(Q.variable.weight=Q.fixedWeight?Q.fixedWeight:1e3,$[at]=W(Q)):Q.variable.weight=1;var Y=(Q.width||0)/2,z=(Q.height||0)/2,nt=H[at],ot=j[at];Q.bounds=new S(nt-Y,nt+Y,ot-z,ot+z)})},F.prototype.xProject=function(H,j,$){!this.rootGroup&&!this.avoidOverlaps&&!this.xConstraints||this.project(H,j,H,$,function(W){return W.px},this.xConstraints,U,function(W){return W.bounds.setXCentre($[W.variable.index]=W.variable.position())},function(W){var Q=$[W.minVar.index]=W.minVar.position(),at=$[W.maxVar.index]=W.maxVar.position(),Y=W.padding/2;W.bounds.x=Q-Y,W.bounds.X=at+Y})},F.prototype.yProject=function(H,j,$){!this.rootGroup&&!this.yConstraints||this.project(H,j,j,$,function(W){return W.py},this.yConstraints,J,function(W){return W.bounds.setYCentre($[W.variable.index]=W.variable.position())},function(W){var Q=$[W.minVar.index]=W.minVar.position(),at=$[W.maxVar.index]=W.maxVar.position(),Y=W.padding/2;W.bounds.y=Q-Y,W.bounds.Y=at+Y})},F.prototype.projectFunctions=function(){var H=this;return[function(j,$,W){return H.xProject(j,$,W)},function(j,$,W){return H.yProject(j,$,W)}]},F.prototype.project=function(H,j,$,W,Q,at,Y,z,nt){this.setupVariablesAndBounds(H,j,W,Q),this.rootGroup&&this.avoidOverlaps&&(D(this.rootGroup),at=at.concat(Y(this.rootGroup))),this.solve(this.variables,at,$,W),this.nodes.forEach(z),this.rootGroup&&this.avoidOverlaps&&(this.groups.forEach(nt),D(this.rootGroup))},F.prototype.solve=function(H,j,$,W){var Q=new O.Solver(H,j);Q.setStartingPositions($),Q.setDesiredPositions(W),Q.solve()},F}();B.Projection=it},22359:(G,B,b)=>{"use strict";Object.defineProperty(B,"__esModule",{value:!0});var y=b(46332),O=function x(_,f){this.id=_,this.distance=f},C=function x(_){this.id=_,this.neighbours=[]},D=function x(_,f,g){this.node=_,this.prev=f,this.d=g},S=function(){function x(_,f,g,r,h){this.n=_,this.es=f,this.neighbours=new Array(this.n);for(var p=this.n;p--;)this.neighbours[p]=new C(p);for(p=this.es.length;p--;){var w=this.es[p],T=g(w),M=r(w),A=h(w);this.neighbours[T].neighbours.push(new O(M,A)),this.neighbours[M].neighbours.push(new O(T,A))}}return x.prototype.DistanceMatrix=function(){for(var _=new Array(this.n),f=0;f<this.n;++f)_[f]=this.dijkstraNeighbours(f);return _},x.prototype.DistancesFromNode=function(_){return this.dijkstraNeighbours(_)},x.prototype.PathFromNodeToNode=function(_,f){return this.dijkstraNeighbours(_,f)},x.prototype.PathFromNodeToNodeWithPrevCost=function(_,f,g){var r=new y.PriorityQueue(function(J,K){return J.d<=K.d}),h=this.neighbours[_],p=new D(h,null,0),w={};for(r.push(p);!r.empty()&&(h=(p=r.pop()).node).id!==f;)for(var T=h.neighbours.length;T--;){var M=h.neighbours[T],A=this.neighbours[M.id];if(!p.prev||A.id!==p.prev.node.id){var I=A.id+","+h.id;if(!(I in w&&w[I]<=p.d)){var L=p.prev?g(p.prev.node.id,h.id,A.id):0,R=p.d+M.distance+L;w[I]=R,r.push(new D(A,p,R))}}}for(var U=[];p.prev;)U.push((p=p.prev).node.id);return U},x.prototype.dijkstraNeighbours=function(_,f){void 0===f&&(f=-1);for(var g=new y.PriorityQueue(function(L,R){return L.d<=R.d}),r=this.neighbours.length,h=new Array(r);r--;){var p=this.neighbours[r];p.d=r===_?0:Number.POSITIVE_INFINITY,p.q=g.push(p)}for(;!g.empty();){var w=g.pop();if(h[w.id]=w.d,w.id===f){for(var T=[],M=w;void 0!==M.prev;)T.push(M.prev.id),M=M.prev;return T}for(r=w.neighbours.length;r--;){var A=w.neighbours[r],I=(M=this.neighbours[A.id],w.d+A.distance);w.d!==Number.MAX_VALUE&&M.d>I&&(M.d=I,M.prev=w,g.reduceKey(M.q,M,function(R,U){return R.q=U}))}}return h},x}();B.Calculator=S},14078:(G,B)=>{"use strict";Object.defineProperty(B,"__esModule",{value:!0});var b=function(){function _(f){this.scale=f,this.AB=0,this.AD=0,this.A2=0}return _.prototype.addVariable=function(f){var g=this.scale/f.scale,h=f.weight;this.AB+=h*g*(f.offset/f.scale),this.AD+=h*g*f.desiredPosition,this.A2+=h*g*g},_.prototype.getPosn=function(){return(this.AD-this.AB)/this.A2},_}();B.PositionStats=b;var y=function(){function _(f,g,r,h){void 0===h&&(h=!1),this.left=f,this.right=g,this.gap=r,this.equality=h,this.active=!1,this.unsatisfiable=!1,this.left=f,this.right=g,this.gap=r,this.equality=h}return _.prototype.slack=function(){return this.unsatisfiable?Number.MAX_VALUE:this.right.scale*this.right.position()-this.gap-this.left.scale*this.left.position()},_}();B.Constraint=y;var O=function(){function _(f,g,r){void 0===g&&(g=1),void 0===r&&(r=1),this.desiredPosition=f,this.weight=g,this.scale=r,this.offset=0}return _.prototype.dfdv=function(){return 2*this.weight*(this.position()-this.desiredPosition)},_.prototype.position=function(){return(this.block.ps.scale*this.block.posn+this.offset)/this.scale},_.prototype.visitNeighbours=function(f,g){var r=function(h,p){return h.active&&f!==p&&g(h,p)};this.cOut.forEach(function(h){return r(h,h.right)}),this.cIn.forEach(function(h){return r(h,h.left)})},_}();B.Variable=O;var C=function(){function _(f){this.vars=[],f.offset=0,this.ps=new b(f.scale),this.addVariable(f)}return _.prototype.addVariable=function(f){f.block=this,this.vars.push(f),this.ps.addVariable(f),this.posn=this.ps.getPosn()},_.prototype.updateWeightedPosition=function(){this.ps.AB=this.ps.AD=this.ps.A2=0;for(var f=0,g=this.vars.length;f<g;++f)this.ps.addVariable(this.vars[f]);this.posn=this.ps.getPosn()},_.prototype.compute_lm=function(f,g,r){var h=this,p=f.dfdv();return f.visitNeighbours(g,function(w,T){var M=h.compute_lm(T,f,r);T===w.right?(p+=M*w.left.scale,w.lm=M):(p+=M*w.right.scale,w.lm=-M),r(w)}),p/f.scale},_.prototype.populateSplitBlock=function(f,g){var r=this;f.visitNeighbours(g,function(h,p){p.offset=f.offset+(p===h.right?h.gap:-h.gap),r.addVariable(p),r.populateSplitBlock(p,f)})},_.prototype.traverse=function(f,g,r,h){var p=this;void 0===r&&(r=this.vars[0]),void 0===h&&(h=null),r.visitNeighbours(h,function(w,T){g.push(f(w)),p.traverse(f,g,T,r)})},_.prototype.findMinLM=function(){var f=null;return this.compute_lm(this.vars[0],null,function(g){!g.equality&&(null===f||g.lm<f.lm)&&(f=g)}),f},_.prototype.findMinLMBetween=function(f,g){this.compute_lm(f,null,function(){});var r=null;return this.findPath(f,null,g,function(h,p){!h.equality&&h.right===p&&(null===r||h.lm<r.lm)&&(r=h)}),r},_.prototype.findPath=function(f,g,r,h){var p=this,w=!1;return f.visitNeighbours(g,function(T,M){!w&&(M===r||p.findPath(M,f,r,h))&&(w=!0,h(T,M))}),w},_.prototype.isActiveDirectedPathBetween=function(f,g){if(f===g)return!0;for(var r=f.cOut.length;r--;){var h=f.cOut[r];if(h.active&&this.isActiveDirectedPathBetween(h.right,g))return!0}return!1},_.split=function(f){return f.active=!1,[_.createSplitBlock(f.left),_.createSplitBlock(f.right)]},_.createSplitBlock=function(f){var g=new _(f);return g.populateSplitBlock(f,null),g},_.prototype.splitBetween=function(f,g){var r=this.findMinLMBetween(f,g);if(null!==r){var h=_.split(r);return{constraint:r,lb:h[0],rb:h[1]}}return null},_.prototype.mergeAcross=function(f,g,r){g.active=!0;for(var h=0,p=f.vars.length;h<p;++h){var w=f.vars[h];w.offset+=r,this.addVariable(w)}this.posn=this.ps.getPosn()},_.prototype.cost=function(){for(var f=0,g=this.vars.length;g--;){var r=this.vars[g],h=r.position()-r.desiredPosition;f+=h*h*r.weight}return f},_}();B.Block=C;var D=function(){function _(f){this.vs=f;var g=f.length;for(this.list=new Array(g);g--;){var r=new C(f[g]);this.list[g]=r,r.blockInd=g}}return _.prototype.cost=function(){for(var f=0,g=this.list.length;g--;)f+=this.list[g].cost();return f},_.prototype.insert=function(f){f.blockInd=this.list.length,this.list.push(f)},_.prototype.remove=function(f){var g=this.list.length-1,r=this.list[g];this.list.length=g,f!==r&&(this.list[f.blockInd]=r,r.blockInd=f.blockInd)},_.prototype.merge=function(f){var g=f.left.block,r=f.right.block,h=f.right.offset-f.left.offset-f.gap;g.vars.length<r.vars.length?(r.mergeAcross(g,f,h),this.remove(g)):(g.mergeAcross(r,f,-h),this.remove(r))},_.prototype.forEach=function(f){this.list.forEach(f)},_.prototype.updateBlockPositions=function(){this.list.forEach(function(f){return f.updateWeightedPosition()})},_.prototype.split=function(f){var g=this;this.updateBlockPositions(),this.list.forEach(function(r){var h=r.findMinLM();null!==h&&h.lm<S.LAGRANGIAN_TOLERANCE&&(r=h.left.block,C.split(h).forEach(function(p){return g.insert(p)}),g.remove(r),f.push(h))})},_}();B.Blocks=D;var S=function(){function _(f,g){this.vs=f,this.cs=g,this.vs=f,f.forEach(function(r){r.cIn=[],r.cOut=[]}),this.cs=g,g.forEach(function(r){r.left.cOut.push(r),r.right.cIn.push(r)}),this.inactive=g.map(function(r){return r.active=!1,r}),this.bs=null}return _.prototype.cost=function(){return this.bs.cost()},_.prototype.setStartingPositions=function(f){this.inactive=this.cs.map(function(g){return g.active=!1,g}),this.bs=new D(this.vs),this.bs.forEach(function(g,r){return g.posn=f[r]})},_.prototype.setDesiredPositions=function(f){this.vs.forEach(function(g,r){return g.desiredPosition=f[r]})},_.prototype.mostViolated=function(){for(var f=Number.MAX_VALUE,g=null,r=this.inactive,h=r.length,p=h,w=0;w<h;++w){var T=r[w];if(!T.unsatisfiable){var M=T.slack();if((T.equality||M<f)&&(f=M,g=T,p=w,T.equality))break}}return p!==h&&(f<_.ZERO_UPPERBOUND&&!g.active||g.equality)&&(r[p]=r[h-1],r.length=h-1),g},_.prototype.satisfy=function(){null==this.bs&&(this.bs=new D(this.vs)),this.bs.split(this.inactive);for(var f=null;(f=this.mostViolated())&&(f.equality||f.slack()<_.ZERO_UPPERBOUND&&!f.active);){var g=f.left.block;if(g!==f.right.block)this.bs.merge(f);else{if(g.isActiveDirectedPathBetween(f.right,f.left)){f.unsatisfiable=!0;continue}var h=g.splitBetween(f.left,f.right);if(null===h){f.unsatisfiable=!0;continue}this.bs.insert(h.lb),this.bs.insert(h.rb),this.bs.remove(g),this.inactive.push(h.constraint),f.slack()>=0?this.inactive.push(f):this.bs.merge(f)}}},_.prototype.solve=function(){this.satisfy();for(var f=Number.MAX_VALUE,g=this.bs.cost();Math.abs(f-g)>1e-4;)this.satisfy(),f=g,g=this.bs.cost();return g},_.LAGRANGIAN_TOLERANCE=-1e-4,_.ZERO_UPPERBOUND=-1e-10,_}();B.Solver=S,B.removeOverlapInOneDimension=function x(_,f,g){for(var r=_.map(function(X){return new O(X.desiredCenter)}),h=[],p=_.length,w=0;w<p-1;w++)h.push(new y(r[w],r[w+1],(_[w].size+_[w+1].size)/2));var A=r[0],I=r[p-1],L=_[0].size/2,R=_[p-1].size/2,U=null,J=null;return f&&(U=new O(f,1e3*A.weight),r.push(U),h.push(new y(U,A,L))),g&&(J=new O(g,1e3*I.weight),r.push(J),h.push(new y(I,J,R))),new S(r,h).solve(),{newCenters:r.slice(0,_.length).map(function(X){return X.position()}),lowerBound:U?U.position():A.position()-L,upperBound:J?J.position():I.position()+R}}}}]);